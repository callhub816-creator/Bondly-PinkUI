(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(a){if(a.ep)return;a.ep=!0;const u=i(a);fetch(a.href,u)}})();function m0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var wc={exports:{}},Xo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm;function AT(){if(Jm)return Xo;Jm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(o,a,u){var f=null;if(u!==void 0&&(f=""+u),a.key!==void 0&&(f=""+a.key),"key"in a){u={};for(var g in a)g!=="key"&&(u[g]=a[g])}else u=a;return a=u.ref,{$$typeof:n,type:o,key:f,ref:a!==void 0?a:null,props:u}}return Xo.Fragment=e,Xo.jsx=i,Xo.jsxs=i,Xo}var Km;function NT(){return Km||(Km=1,wc.exports=AT()),wc.exports}var p=NT(),Ic={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function wT(){if($m)return xe;$m=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function b(A){return A===null||typeof A!="object"?null:(A=S&&A[S]||A["@@iterator"],typeof A=="function"?A:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,J={};function j(A,B,O){this.props=A,this.context=B,this.refs=J,this.updater=O||U}j.prototype.isReactComponent={},j.prototype.setState=function(A,B){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,B,"setState")},j.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function Q(){}Q.prototype=j.prototype;function P(A,B,O){this.props=A,this.context=B,this.refs=J,this.updater=O||U}var X=P.prototype=new Q;X.constructor=P,M(X,j.prototype),X.isPureReactComponent=!0;var oe=Array.isArray;function re(){}var $={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function ne(A,B,O){var G=O.ref;return{$$typeof:n,type:A,key:B,ref:G!==void 0?G:null,props:O}}function he(A,B){return ne(A.type,B,A.props)}function W(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function K(A){var B={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(O){return B[O]})}var Y=/\/+/g;function ge(A,B){return typeof A=="object"&&A!==null&&A.key!=null?K(""+A.key):B.toString(36)}function ie(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(re,re):(A.status="pending",A.then(function(B){A.status==="pending"&&(A.status="fulfilled",A.value=B)},function(B){A.status==="pending"&&(A.status="rejected",A.reason=B)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function N(A,B,O,G,te){var ae=typeof A;(ae==="undefined"||ae==="boolean")&&(A=null);var ce=!1;if(A===null)ce=!0;else switch(ae){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(A.$$typeof){case n:case e:ce=!0;break;case x:return ce=A._init,N(ce(A._payload),B,O,G,te)}}if(ce)return te=te(A),ce=G===""?"."+ge(A,0):G,oe(te)?(O="",ce!=null&&(O=ce.replace(Y,"$&/")+"/"),N(te,B,O,"",function(Dt){return Dt})):te!=null&&(W(te)&&(te=he(te,O+(te.key==null||A&&A.key===te.key?"":(""+te.key).replace(Y,"$&/")+"/")+ce)),B.push(te)),1;ce=0;var Ie=G===""?".":G+":";if(oe(A))for(var Ue=0;Ue<A.length;Ue++)G=A[Ue],ae=Ie+ge(G,Ue),ce+=N(G,B,O,ae,te);else if(Ue=b(A),typeof Ue=="function")for(A=Ue.call(A),Ue=0;!(G=A.next()).done;)G=G.value,ae=Ie+ge(G,Ue++),ce+=N(G,B,O,ae,te);else if(ae==="object"){if(typeof A.then=="function")return N(ie(A),B,O,G,te);throw B=String(A),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ce}function V(A,B,O){if(A==null)return A;var G=[],te=0;return N(A,G,"","",function(ae){return B.call(O,ae,te++)}),G}function ee(A){if(A._status===-1){var B=A._result;B=B(),B.then(function(O){(A._status===0||A._status===-1)&&(A._status=1,A._result=O)},function(O){(A._status===0||A._status===-1)&&(A._status=2,A._result=O)}),A._status===-1&&(A._status=0,A._result=B)}if(A._status===1)return A._result.default;throw A._result}var pe=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},Z={map:V,forEach:function(A,B,O){V(A,function(){B.apply(this,arguments)},O)},count:function(A){var B=0;return V(A,function(){B++}),B},toArray:function(A){return V(A,function(B){return B})||[]},only:function(A){if(!W(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return xe.Activity=T,xe.Children=Z,xe.Component=j,xe.Fragment=i,xe.Profiler=a,xe.PureComponent=P,xe.StrictMode=o,xe.Suspense=v,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,xe.__COMPILER_RUNTIME={__proto__:null,c:function(A){return $.H.useMemoCache(A)}},xe.cache=function(A){return function(){return A.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(A,B,O){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var G=M({},A.props),te=A.key;if(B!=null)for(ae in B.key!==void 0&&(te=""+B.key),B)!fe.call(B,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&B.ref===void 0||(G[ae]=B[ae]);var ae=arguments.length-2;if(ae===1)G.children=O;else if(1<ae){for(var ce=Array(ae),Ie=0;Ie<ae;Ie++)ce[Ie]=arguments[Ie+2];G.children=ce}return ne(A.type,te,G)},xe.createContext=function(A){return A={$$typeof:f,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:u,_context:A},A},xe.createElement=function(A,B,O){var G,te={},ae=null;if(B!=null)for(G in B.key!==void 0&&(ae=""+B.key),B)fe.call(B,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(te[G]=B[G]);var ce=arguments.length-2;if(ce===1)te.children=O;else if(1<ce){for(var Ie=Array(ce),Ue=0;Ue<ce;Ue++)Ie[Ue]=arguments[Ue+2];te.children=Ie}if(A&&A.defaultProps)for(G in ce=A.defaultProps,ce)te[G]===void 0&&(te[G]=ce[G]);return ne(A,ae,te)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(A){return{$$typeof:g,render:A}},xe.isValidElement=W,xe.lazy=function(A){return{$$typeof:x,_payload:{_status:-1,_result:A},_init:ee}},xe.memo=function(A,B){return{$$typeof:y,type:A,compare:B===void 0?null:B}},xe.startTransition=function(A){var B=$.T,O={};$.T=O;try{var G=A(),te=$.S;te!==null&&te(O,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(re,pe)}catch(ae){pe(ae)}finally{B!==null&&O.types!==null&&(B.types=O.types),$.T=B}},xe.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},xe.use=function(A){return $.H.use(A)},xe.useActionState=function(A,B,O){return $.H.useActionState(A,B,O)},xe.useCallback=function(A,B){return $.H.useCallback(A,B)},xe.useContext=function(A){return $.H.useContext(A)},xe.useDebugValue=function(){},xe.useDeferredValue=function(A,B){return $.H.useDeferredValue(A,B)},xe.useEffect=function(A,B){return $.H.useEffect(A,B)},xe.useEffectEvent=function(A){return $.H.useEffectEvent(A)},xe.useId=function(){return $.H.useId()},xe.useImperativeHandle=function(A,B,O){return $.H.useImperativeHandle(A,B,O)},xe.useInsertionEffect=function(A,B){return $.H.useInsertionEffect(A,B)},xe.useLayoutEffect=function(A,B){return $.H.useLayoutEffect(A,B)},xe.useMemo=function(A,B){return $.H.useMemo(A,B)},xe.useOptimistic=function(A,B){return $.H.useOptimistic(A,B)},xe.useReducer=function(A,B,O){return $.H.useReducer(A,B,O)},xe.useRef=function(A){return $.H.useRef(A)},xe.useState=function(A){return $.H.useState(A)},xe.useSyncExternalStore=function(A,B,O){return $.H.useSyncExternalStore(A,B,O)},xe.useTransition=function(){return $.H.useTransition()},xe.version="19.2.0",xe}var Xm;function gd(){return Xm||(Xm=1,Ic.exports=wT()),Ic.exports}var F=gd();const nl=m0(F);var Rc={exports:{}},Qo={},Mc={exports:{}},Dc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm;function IT(){return Qm||(Qm=1,(function(n){function e(N,V){var ee=N.length;N.push(V);e:for(;0<ee;){var pe=ee-1>>>1,Z=N[pe];if(0<a(Z,V))N[pe]=V,N[ee]=Z,ee=pe;else break e}}function i(N){return N.length===0?null:N[0]}function o(N){if(N.length===0)return null;var V=N[0],ee=N.pop();if(ee!==V){N[0]=ee;e:for(var pe=0,Z=N.length,A=Z>>>1;pe<A;){var B=2*(pe+1)-1,O=N[B],G=B+1,te=N[G];if(0>a(O,ee))G<Z&&0>a(te,O)?(N[pe]=te,N[G]=ee,pe=G):(N[pe]=O,N[B]=ee,pe=B);else if(G<Z&&0>a(te,ee))N[pe]=te,N[G]=ee,pe=G;else break e}}return V}function a(N,V){var ee=N.sortIndex-V.sortIndex;return ee!==0?ee:N.id-V.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();n.unstable_now=function(){return f.now()-g}}var v=[],y=[],x=1,T=null,S=3,b=!1,U=!1,M=!1,J=!1,j=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function X(N){for(var V=i(y);V!==null;){if(V.callback===null)o(y);else if(V.startTime<=N)o(y),V.sortIndex=V.expirationTime,e(v,V);else break;V=i(y)}}function oe(N){if(M=!1,X(N),!U)if(i(v)!==null)U=!0,re||(re=!0,K());else{var V=i(y);V!==null&&ie(oe,V.startTime-N)}}var re=!1,$=-1,fe=5,ne=-1;function he(){return J?!0:!(n.unstable_now()-ne<fe)}function W(){if(J=!1,re){var N=n.unstable_now();ne=N;var V=!0;try{e:{U=!1,M&&(M=!1,Q($),$=-1),b=!0;var ee=S;try{t:{for(X(N),T=i(v);T!==null&&!(T.expirationTime>N&&he());){var pe=T.callback;if(typeof pe=="function"){T.callback=null,S=T.priorityLevel;var Z=pe(T.expirationTime<=N);if(N=n.unstable_now(),typeof Z=="function"){T.callback=Z,X(N),V=!0;break t}T===i(v)&&o(v),X(N)}else o(v);T=i(v)}if(T!==null)V=!0;else{var A=i(y);A!==null&&ie(oe,A.startTime-N),V=!1}}break e}finally{T=null,S=ee,b=!1}V=void 0}}finally{V?K():re=!1}}}var K;if(typeof P=="function")K=function(){P(W)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ge=Y.port2;Y.port1.onmessage=W,K=function(){ge.postMessage(null)}}else K=function(){j(W,0)};function ie(N,V){$=j(function(){N(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(N){switch(S){case 1:case 2:case 3:var V=3;break;default:V=S}var ee=S;S=V;try{return N()}finally{S=ee}},n.unstable_requestPaint=function(){J=!0},n.unstable_runWithPriority=function(N,V){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var ee=S;S=N;try{return V()}finally{S=ee}},n.unstable_scheduleCallback=function(N,V,ee){var pe=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?pe+ee:pe):ee=pe,N){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ee+Z,N={id:x++,callback:V,priorityLevel:N,startTime:ee,expirationTime:Z,sortIndex:-1},ee>pe?(N.sortIndex=ee,e(y,N),i(v)===null&&N===i(y)&&(M?(Q($),$=-1):M=!0,ie(oe,ee-pe))):(N.sortIndex=Z,e(v,N),U||b||(U=!0,re||(re=!0,K()))),N},n.unstable_shouldYield=he,n.unstable_wrapCallback=function(N){var V=S;return function(){var ee=S;S=V;try{return N.apply(this,arguments)}finally{S=ee}}}})(Dc)),Dc}var Wm;function RT(){return Wm||(Wm=1,Mc.exports=IT()),Mc.exports}var kc={exports:{}},ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm;function MT(){if(Zm)return ut;Zm=1;var n=gd();function e(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(v,y,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:v,containerInfo:y,implementation:x}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ut.createPortal=function(v,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(v,y,null,x)},ut.flushSync=function(v){var y=f.T,x=o.p;try{if(f.T=null,o.p=2,v)return v()}finally{f.T=y,o.p=x,o.d.f()}},ut.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,o.d.C(v,y))},ut.prefetchDNS=function(v){typeof v=="string"&&o.d.D(v)},ut.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var x=y.as,T=g(x,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,b=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?o.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:b}):x==="script"&&o.d.X(v,{crossOrigin:T,integrity:S,fetchPriority:b,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ut.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=g(y.as,y.crossOrigin);o.d.M(v,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&o.d.M(v)},ut.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,T=g(x,y.crossOrigin);o.d.L(v,x,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ut.preloadModule=function(v,y){if(typeof v=="string")if(y){var x=g(y.as,y.crossOrigin);o.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else o.d.m(v)},ut.requestFormReset=function(v){o.d.r(v)},ut.unstable_batchedUpdates=function(v,y){return v(y)},ut.useFormState=function(v,y,x){return f.H.useFormState(v,y,x)},ut.useFormStatus=function(){return f.H.useHostTransitionStatus()},ut.version="19.2.0",ut}var eg;function DT(){if(eg)return kc.exports;eg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),kc.exports=MT(),kc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg;function kT(){if(tg)return Qo;tg=1;var n=RT(),e=gd(),i=DT();function o(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function f(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function v(t){if(u(t)!==t)throw Error(o(188))}function y(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(o(188));return s!==t?null:t}for(var r=t,l=s;;){var h=r.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===r)return v(h),t;if(m===l)return v(h),s;m=m.sibling}throw Error(o(188))}if(r.return!==l.return)r=h,l=m;else{for(var _=!1,E=h.child;E;){if(E===r){_=!0,r=h,l=m;break}if(E===l){_=!0,l=h,r=m;break}E=E.sibling}if(!_){for(E=m.child;E;){if(E===r){_=!0,r=m,l=h;break}if(E===l){_=!0,l=m,r=h;break}E=E.sibling}if(!_)throw Error(o(189))}}if(r.alternate!==l)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?t:s}function x(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=x(t),s!==null)return s;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),P=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function K(t){return t===null||typeof t!="object"?null:(t=W&&t[W]||t["@@iterator"],typeof t=="function"?t:null)}var Y=Symbol.for("react.client.reference");function ge(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Y?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case j:return"Profiler";case J:return"StrictMode";case oe:return"Suspense";case re:return"SuspenseList";case ne:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case P:return t.displayName||"Context";case Q:return(t._context.displayName||"Context")+".Consumer";case X:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return s=t.displayName||null,s!==null?s:ge(t.type)||"Memo";case fe:s=t._payload,t=t._init;try{return ge(t(s))}catch{}}return null}var ie=Array.isArray,N=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},pe=[],Z=-1;function A(t){return{current:t}}function B(t){0>Z||(t.current=pe[Z],pe[Z]=null,Z--)}function O(t,s){Z++,pe[Z]=t.current,t.current=s}var G=A(null),te=A(null),ae=A(null),ce=A(null);function Ie(t,s){switch(O(ae,s),O(te,t),O(G,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?gm(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=gm(s),t=ym(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}B(G),O(G,t)}function Ue(){B(G),B(te),B(ae)}function Dt(t){t.memoizedState!==null&&O(ce,t);var s=G.current,r=ym(s,t.type);s!==r&&(O(te,t),O(G,r))}function Fn(t){te.current===t&&(B(G),B(te)),ce.current===t&&(B(ce),Yo._currentValue=ee)}var pt,Xi;function dt(t){if(pt===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);pt=s&&s[1]||"",Xi=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pt+t+Xi}var On=!1;function Hn(t,s){if(!t||On)return"";On=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(L){var k=L}Reflect.construct(t,[],q)}else{try{q.call()}catch(L){k=L}t.call(q.prototype)}}else{try{throw Error()}catch(L){k=L}(q=t())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(L){if(L&&k&&typeof L.stack=="string")return[L.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],E=m[1];if(_&&E){var C=_.split(`
`),D=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<D.length&&!D[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===D.length)for(l=C.length-1,h=D.length-1;1<=l&&0<=h&&C[l]!==D[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==D[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==D[h]){var H=`
`+C[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=h);break}}}finally{On=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?dt(r):""}function Qi(t,s){switch(t.tag){case 26:case 27:case 5:return dt(t.type);case 16:return dt("Lazy");case 13:return t.child!==s&&s!==null?dt("Suspense Fallback"):dt("Suspense");case 19:return dt("SuspenseList");case 0:case 15:return Hn(t.type,!1);case 11:return Hn(t.type.render,!1);case 1:return Hn(t.type,!0);case 31:return dt("Activity");default:return""}}function zn(t){try{var s="",r=null;do s+=Qi(t,r),r=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Wi=Object.prototype.hasOwnProperty,qn=n.unstable_scheduleCallback,ml=n.unstable_cancelCallback,sx=n.unstable_shouldYield,ox=n.unstable_requestPaint,St=n.unstable_now,rx=n.unstable_getCurrentPriorityLevel,Jd=n.unstable_ImmediatePriority,Kd=n.unstable_UserBlockingPriority,gr=n.unstable_NormalPriority,ax=n.unstable_LowPriority,$d=n.unstable_IdlePriority,lx=n.log,ux=n.unstable_setDisableYieldValue,io=null,Et=null;function Vn(t){if(typeof lx=="function"&&ux(t),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(io,t)}catch{}}var bt=Math.clz32?Math.clz32:fx,cx=Math.log,dx=Math.LN2;function fx(t){return t>>>=0,t===0?32:31-(cx(t)/dx|0)|0}var yr=256,vr=262144,xr=4194304;function Ci(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _r(t,s,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,m=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~m,l!==0?h=Ci(l):(_&=E,_!==0?h=Ci(_):r||(r=E&~t,r!==0&&(h=Ci(r))))):(E=l&~m,E!==0?h=Ci(E):_!==0?h=Ci(_):r||(r=l&~t,r!==0&&(h=Ci(r)))),h===0?0:s!==0&&s!==h&&(s&m)===0&&(m=h&-h,r=s&-s,m>=r||m===32&&(r&4194048)!==0)?s:h}function so(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function hx(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xd(){var t=xr;return xr<<=1,(xr&62914560)===0&&(xr=4194304),t}function gl(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function oo(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function px(t,s,r,l,h,m){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,D=t.hiddenUpdates;for(r=_&~r;0<r;){var H=31-bt(r),q=1<<H;E[H]=0,C[H]=-1;var k=D[H];if(k!==null)for(D[H]=null,H=0;H<k.length;H++){var L=k[H];L!==null&&(L.lane&=-536870913)}r&=~q}l!==0&&Qd(t,l,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(_&~s))}function Qd(t,s,r){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-bt(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Wd(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var l=31-bt(r),h=1<<l;h&s|t[l]&s&&(t[l]|=s),r&=~h}}function Zd(t,s){var r=s&-s;return r=(r&42)!==0?1:yl(r),(r&(t.suspendedLanes|s))!==0?0:r}function yl(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function vl(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ef(){var t=V.p;return t!==0?t:(t=window.event,t===void 0?32:Hm(t.type))}function tf(t,s){var r=V.p;try{return V.p=t,s()}finally{V.p=r}}var Gn=Math.random().toString(36).slice(2),st="__reactFiber$"+Gn,mt="__reactProps$"+Gn,Zi="__reactContainer$"+Gn,xl="__reactEvents$"+Gn,mx="__reactListeners$"+Gn,gx="__reactHandles$"+Gn,nf="__reactResources$"+Gn,ro="__reactMarker$"+Gn;function _l(t){delete t[st],delete t[mt],delete t[xl],delete t[mx],delete t[gx]}function es(t){var s=t[st];if(s)return s;for(var r=t.parentNode;r;){if(s=r[Zi]||r[st]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=bm(t);t!==null;){if(r=t[st])return r;t=bm(t)}return s}t=r,r=t.parentNode}return null}function ts(t){if(t=t[st]||t[Zi]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function ao(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(o(33))}function ns(t){var s=t[nf];return s||(s=t[nf]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function nt(t){t[ro]=!0}var sf=new Set,of={};function Ai(t,s){is(t,s),is(t+"Capture",s)}function is(t,s){for(of[t]=s,t=0;t<s.length;t++)sf.add(s[t])}var yx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rf={},af={};function vx(t){return Wi.call(af,t)?!0:Wi.call(rf,t)?!1:yx.test(t)?af[t]=!0:(rf[t]=!0,!1)}function Tr(t,s,r){if(vx(s))if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+r)}}function Sr(t,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+r)}}function fn(t,s,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(s,r,""+l)}}function kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lf(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xx(t,s,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,m=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return h.call(this)},set:function(_){r=""+_,m.call(this,_)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Tl(t){if(!t._valueTracker){var s=lf(t)?"checked":"value";t._valueTracker=xx(t,s,""+t[s])}}function uf(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),l="";return t&&(l=lf(t)?t.checked?"true":"false":t.value),t=l,t!==r?(s.setValue(t),!0):!1}function Er(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _x=/[\n"\\]/g;function Ut(t){return t.replace(_x,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Sl(t,s,r,l,h,m,_,E){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),s!=null?_==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+kt(s)):t.value!==""+kt(s)&&(t.value=""+kt(s)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),s!=null?El(t,_,kt(s)):r!=null?El(t,_,kt(r)):l!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+kt(E):t.removeAttribute("name")}function cf(t,s,r,l,h,m,_,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){Tl(t);return}r=r!=null?""+kt(r):"",s=s!=null?""+kt(s):r,E||s===t.value||(t.value=s),t.defaultValue=s}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Tl(t)}function El(t,s,r){s==="number"&&Er(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ss(t,s,r,l){if(t=t.options,s){s={};for(var h=0;h<r.length;h++)s["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=s.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+kt(r),s=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}s!==null||t[h].disabled||(s=t[h])}s!==null&&(s.selected=!0)}}function df(t,s,r){if(s!=null&&(s=""+kt(s),s!==t.value&&(t.value=s),r==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=r!=null?""+kt(r):""}function ff(t,s,r,l){if(s==null){if(l!=null){if(r!=null)throw Error(o(92));if(ie(l)){if(1<l.length)throw Error(o(93));l=l[0]}r=l}r==null&&(r=""),s=r}r=kt(s),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),Tl(t)}function os(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var Tx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hf(t,s,r){var l=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,r):typeof r!="number"||r===0||Tx.has(s)?s==="float"?t.cssFloat=r:t[s]=(""+r).trim():t[s]=r+"px"}function pf(t,s,r){if(s!=null&&typeof s!="object")throw Error(o(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in s)l=s[h],s.hasOwnProperty(h)&&r[h]!==l&&hf(t,h,l)}else for(var m in s)s.hasOwnProperty(m)&&hf(t,m,s[m])}function bl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ex=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function br(t){return Ex.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function hn(){}var Cl=null;function Al(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rs=null,as=null;function mf(t){var s=ts(t);if(s&&(t=s.stateNode)){var r=t[mt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Sl(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ut(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var l=r[s];if(l!==t&&l.form===t.form){var h=l[mt]||null;if(!h)throw Error(o(90));Sl(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<r.length;s++)l=r[s],l.form===t.form&&uf(l)}break e;case"textarea":df(t,r.value,r.defaultValue);break e;case"select":s=r.value,s!=null&&ss(t,!!r.multiple,s,!1)}}}var Nl=!1;function gf(t,s,r){if(Nl)return t(s,r);Nl=!0;try{var l=t(s);return l}finally{if(Nl=!1,(rs!==null||as!==null)&&(da(),rs&&(s=rs,t=as,as=rs=null,mf(s),t)))for(s=0;s<t.length;s++)mf(t[s])}}function lo(t,s){var r=t.stateNode;if(r===null)return null;var l=r[mt]||null;if(l===null)return null;r=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(o(231,s,typeof r));return r}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wl=!1;if(pn)try{var uo={};Object.defineProperty(uo,"passive",{get:function(){wl=!0}}),window.addEventListener("test",uo,uo),window.removeEventListener("test",uo,uo)}catch{wl=!1}var jn=null,Il=null,Cr=null;function yf(){if(Cr)return Cr;var t,s=Il,r=s.length,l,h="value"in jn?jn.value:jn.textContent,m=h.length;for(t=0;t<r&&s[t]===h[t];t++);var _=r-t;for(l=1;l<=_&&s[r-l]===h[m-l];l++);return Cr=h.slice(t,1<l?1-l:void 0)}function Ar(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Nr(){return!0}function vf(){return!1}function gt(t){function s(r,l,h,m,_){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Nr:vf,this.isPropagationStopped=vf,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),s}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wr=gt(Ni),co=T({},Ni,{view:0,detail:0}),bx=gt(co),Rl,Ml,fo,Ir=T({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fo&&(fo&&t.type==="mousemove"?(Rl=t.screenX-fo.screenX,Ml=t.screenY-fo.screenY):Ml=Rl=0,fo=t),Rl)},movementY:function(t){return"movementY"in t?t.movementY:Ml}}),xf=gt(Ir),Cx=T({},Ir,{dataTransfer:0}),Ax=gt(Cx),Nx=T({},co,{relatedTarget:0}),Dl=gt(Nx),wx=T({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),Ix=gt(wx),Rx=T({},Ni,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mx=gt(Rx),Dx=T({},Ni,{data:0}),_f=gt(Dx),kx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ux={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Px={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lx(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Px[t])?!!s[t]:!1}function kl(){return Lx}var Bx=T({},co,{key:function(t){if(t.key){var s=kx[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Ar(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ux[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kl,charCode:function(t){return t.type==="keypress"?Ar(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ar(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fx=gt(Bx),Ox=T({},Ir,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tf=gt(Ox),Hx=T({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kl}),zx=gt(Hx),qx=T({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vx=gt(qx),Gx=T({},Ir,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jx=gt(Gx),Yx=T({},Ni,{newState:0,oldState:0}),Jx=gt(Yx),Kx=[9,13,27,32],Ul=pn&&"CompositionEvent"in window,ho=null;pn&&"documentMode"in document&&(ho=document.documentMode);var $x=pn&&"TextEvent"in window&&!ho,Sf=pn&&(!Ul||ho&&8<ho&&11>=ho),Ef=" ",bf=!1;function Cf(t,s){switch(t){case"keyup":return Kx.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Af(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ls=!1;function Xx(t,s){switch(t){case"compositionend":return Af(s);case"keypress":return s.which!==32?null:(bf=!0,Ef);case"textInput":return t=s.data,t===Ef&&bf?null:t;default:return null}}function Qx(t,s){if(ls)return t==="compositionend"||!Ul&&Cf(t,s)?(t=yf(),Cr=Il=jn=null,ls=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Sf&&s.locale!=="ko"?null:s.data;default:return null}}var Wx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nf(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Wx[t.type]:s==="textarea"}function wf(t,s,r,l){rs?as?as.push(l):as=[l]:rs=l,s=va(s,"onChange"),0<s.length&&(r=new wr("onChange","change",null,r,l),t.push({event:r,listeners:s}))}var po=null,mo=null;function Zx(t){cm(t,0)}function Rr(t){var s=ao(t);if(uf(s))return t}function If(t,s){if(t==="change")return s}var Rf=!1;if(pn){var Pl;if(pn){var Ll="oninput"in document;if(!Ll){var Mf=document.createElement("div");Mf.setAttribute("oninput","return;"),Ll=typeof Mf.oninput=="function"}Pl=Ll}else Pl=!1;Rf=Pl&&(!document.documentMode||9<document.documentMode)}function Df(){po&&(po.detachEvent("onpropertychange",kf),mo=po=null)}function kf(t){if(t.propertyName==="value"&&Rr(mo)){var s=[];wf(s,mo,t,Al(t)),gf(Zx,s)}}function e_(t,s,r){t==="focusin"?(Df(),po=s,mo=r,po.attachEvent("onpropertychange",kf)):t==="focusout"&&Df()}function t_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rr(mo)}function n_(t,s){if(t==="click")return Rr(s)}function i_(t,s){if(t==="input"||t==="change")return Rr(s)}function s_(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Ct=typeof Object.is=="function"?Object.is:s_;function go(t,s){if(Ct(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),l=Object.keys(s);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Wi.call(s,h)||!Ct(t[h],s[h]))return!1}return!0}function Uf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pf(t,s){var r=Uf(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=s&&l>=s)return{node:r,offset:s-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Uf(r)}}function Lf(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Lf(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Bf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Er(t.document);s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=Er(t.document)}return s}function Bl(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var o_=pn&&"documentMode"in document&&11>=document.documentMode,us=null,Fl=null,yo=null,Ol=!1;function Ff(t,s,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ol||us==null||us!==Er(l)||(l=us,"selectionStart"in l&&Bl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yo&&go(yo,l)||(yo=l,l=va(Fl,"onSelect"),0<l.length&&(s=new wr("onSelect","select",null,s,r),t.push({event:s,listeners:l}),s.target=us)))}function wi(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var cs={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionrun:wi("Transition","TransitionRun"),transitionstart:wi("Transition","TransitionStart"),transitioncancel:wi("Transition","TransitionCancel"),transitionend:wi("Transition","TransitionEnd")},Hl={},Of={};pn&&(Of=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function Ii(t){if(Hl[t])return Hl[t];if(!cs[t])return t;var s=cs[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in Of)return Hl[t]=s[r];return t}var Hf=Ii("animationend"),zf=Ii("animationiteration"),qf=Ii("animationstart"),r_=Ii("transitionrun"),a_=Ii("transitionstart"),l_=Ii("transitioncancel"),Vf=Ii("transitionend"),Gf=new Map,zl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zl.push("scrollEnd");function Jt(t,s){Gf.set(t,s),Ai(s,[t])}var Mr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pt=[],ds=0,ql=0;function Dr(){for(var t=ds,s=ql=ds=0;s<t;){var r=Pt[s];Pt[s++]=null;var l=Pt[s];Pt[s++]=null;var h=Pt[s];Pt[s++]=null;var m=Pt[s];if(Pt[s++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}m!==0&&jf(r,h,m)}}function kr(t,s,r,l){Pt[ds++]=t,Pt[ds++]=s,Pt[ds++]=r,Pt[ds++]=l,ql|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Vl(t,s,r,l){return kr(t,s,r,l),Ur(t)}function Ri(t,s){return kr(t,null,null,s),Ur(t)}function jf(t,s,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,m=t.return;m!==null;)m.childLanes|=r,l=m.alternate,l!==null&&(l.childLanes|=r),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&s!==null&&(h=31-bt(r),t=m.hiddenUpdates,l=t[h],l===null?t[h]=[s]:l.push(s),s.lane=r|536870912),m):null}function Ur(t){if(50<Oo)throw Oo=0,Wu=null,Error(o(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var fs={};function u_(t,s,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(t,s,r,l){return new u_(t,s,r,l)}function Gl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mn(t,s){var r=t.alternate;return r===null?(r=At(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Yf(t,s){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,s=r.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Pr(t,s,r,l,h,m){var _=0;if(l=t,typeof t=="function")Gl(t)&&(_=1);else if(typeof t=="string")_=pT(t,r,G.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ne:return t=At(31,r,s,h),t.elementType=ne,t.lanes=m,t;case M:return Mi(r.children,h,m,s);case J:_=8,h|=24;break;case j:return t=At(12,r,s,h|2),t.elementType=j,t.lanes=m,t;case oe:return t=At(13,r,s,h),t.elementType=oe,t.lanes=m,t;case re:return t=At(19,r,s,h),t.elementType=re,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:_=10;break e;case Q:_=9;break e;case X:_=11;break e;case $:_=14;break e;case fe:_=16,l=null;break e}_=29,r=Error(o(130,t===null?"null":typeof t,"")),l=null}return s=At(_,r,s,h),s.elementType=t,s.type=l,s.lanes=m,s}function Mi(t,s,r,l){return t=At(7,t,l,s),t.lanes=r,t}function jl(t,s,r){return t=At(6,t,null,s),t.lanes=r,t}function Jf(t){var s=At(18,null,null,0);return s.stateNode=t,s}function Yl(t,s,r){return s=At(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Kf=new WeakMap;function Lt(t,s){if(typeof t=="object"&&t!==null){var r=Kf.get(t);return r!==void 0?r:(s={value:t,source:s,stack:zn(s)},Kf.set(t,s),s)}return{value:t,source:s,stack:zn(s)}}var hs=[],ps=0,Lr=null,vo=0,Bt=[],Ft=0,Yn=null,tn=1,nn="";function gn(t,s){hs[ps++]=vo,hs[ps++]=Lr,Lr=t,vo=s}function $f(t,s,r){Bt[Ft++]=tn,Bt[Ft++]=nn,Bt[Ft++]=Yn,Yn=t;var l=tn;t=nn;var h=32-bt(l)-1;l&=~(1<<h),r+=1;var m=32-bt(s)+h;if(30<m){var _=h-h%5;m=(l&(1<<_)-1).toString(32),l>>=_,h-=_,tn=1<<32-bt(s)+h|r<<h|l,nn=m+t}else tn=1<<m|r<<h|l,nn=t}function Jl(t){t.return!==null&&(gn(t,1),$f(t,1,0))}function Kl(t){for(;t===Lr;)Lr=hs[--ps],hs[ps]=null,vo=hs[--ps],hs[ps]=null;for(;t===Yn;)Yn=Bt[--Ft],Bt[Ft]=null,nn=Bt[--Ft],Bt[Ft]=null,tn=Bt[--Ft],Bt[Ft]=null}function Xf(t,s){Bt[Ft++]=tn,Bt[Ft++]=nn,Bt[Ft++]=Yn,tn=s.id,nn=s.overflow,Yn=t}var ot=null,qe=null,Ne=!1,Jn=null,Ot=!1,$l=Error(o(519));function Kn(t){var s=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xo(Lt(s,t)),$l}function Qf(t){var s=t.stateNode,r=t.type,l=t.memoizedProps;switch(s[st]=t,s[mt]=l,r){case"dialog":be("cancel",s),be("close",s);break;case"iframe":case"object":case"embed":be("load",s);break;case"video":case"audio":for(r=0;r<zo.length;r++)be(zo[r],s);break;case"source":be("error",s);break;case"img":case"image":case"link":be("error",s),be("load",s);break;case"details":be("toggle",s);break;case"input":be("invalid",s),cf(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":be("invalid",s);break;case"textarea":be("invalid",s),ff(s,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||l.suppressHydrationWarning===!0||pm(s.textContent,r)?(l.popover!=null&&(be("beforetoggle",s),be("toggle",s)),l.onScroll!=null&&be("scroll",s),l.onScrollEnd!=null&&be("scrollend",s),l.onClick!=null&&(s.onclick=hn),s=!0):s=!1,s||Kn(t,!0)}function Wf(t){for(ot=t.return;ot;)switch(ot.tag){case 5:case 31:case 13:Ot=!1;return;case 27:case 3:Ot=!0;return;default:ot=ot.return}}function ms(t){if(t!==ot)return!1;if(!Ne)return Wf(t),Ne=!0,!1;var s=t.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||hc(t.type,t.memoizedProps)),r=!r),r&&qe&&Kn(t),Wf(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));qe=Em(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));qe=Em(t)}else s===27?(s=qe,li(t.type)?(t=vc,vc=null,qe=t):qe=s):qe=ot?zt(t.stateNode.nextSibling):null;return!0}function Di(){qe=ot=null,Ne=!1}function Xl(){var t=Jn;return t!==null&&(_t===null?_t=t:_t.push.apply(_t,t),Jn=null),t}function xo(t){Jn===null?Jn=[t]:Jn.push(t)}var Ql=A(null),ki=null,yn=null;function $n(t,s,r){O(Ql,s._currentValue),s._currentValue=r}function vn(t){t._currentValue=Ql.current,B(Ql)}function Wl(t,s,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===r)break;t=t.return}}function Zl(t,s,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var _=h.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=h;for(var C=0;C<s.length;C++)if(E.context===s[C]){m.lanes|=r,E=m.alternate,E!==null&&(E.lanes|=r),Wl(m.return,r,t),l||(_=null);break e}m=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(o(341));_.lanes|=r,m=_.alternate,m!==null&&(m.lanes|=r),Wl(_,r,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function gs(t,s,r,l){t=null;for(var h=s,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(o(387));if(_=_.memoizedProps,_!==null){var E=h.type;Ct(h.pendingProps.value,_.value)||(t!==null?t.push(E):t=[E])}}else if(h===ce.current){if(_=h.alternate,_===null)throw Error(o(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Yo):t=[Yo])}h=h.return}t!==null&&Zl(s,t,r,l),s.flags|=262144}function Br(t){for(t=t.firstContext;t!==null;){if(!Ct(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ui(t){ki=t,yn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rt(t){return Zf(ki,t)}function Fr(t,s){return ki===null&&Ui(t),Zf(t,s)}function Zf(t,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},yn===null){if(t===null)throw Error(o(308));yn=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else yn=yn.next=s;return r}var c_=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(r){return r()})}},d_=n.unstable_scheduleCallback,f_=n.unstable_NormalPriority,Xe={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eu(){return{controller:new c_,data:new Map,refCount:0}}function _o(t){t.refCount--,t.refCount===0&&d_(f_,function(){t.controller.abort()})}var To=null,tu=0,ys=0,vs=null;function h_(t,s){if(To===null){var r=To=[];tu=0,ys=sc(),vs={status:"pending",value:void 0,then:function(l){r.push(l)}}}return tu++,s.then(eh,eh),s}function eh(){if(--tu===0&&To!==null){vs!==null&&(vs.status="fulfilled");var t=To;To=null,ys=0,vs=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function p_(t,s){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var h=0;h<r.length;h++)(0,r[h])(s)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var th=N.S;N.S=function(t,s){Fp=St(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&h_(t,s),th!==null&&th(t,s)};var Pi=A(null);function nu(){var t=Pi.current;return t!==null?t:He.pooledCache}function Or(t,s){s===null?O(Pi,Pi.current):O(Pi,s.pool)}function nh(){var t=nu();return t===null?null:{parent:Xe._currentValue,pool:t}}var xs=Error(o(460)),iu=Error(o(474)),Hr=Error(o(542)),zr={then:function(){}};function ih(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sh(t,s,r){switch(r=t[r],r===void 0?t.push(s):r!==s&&(s.then(hn,hn),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,rh(t),t;default:if(typeof s.status=="string")s.then(hn,hn);else{if(t=He,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=l}},function(l){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,rh(t),t}throw Bi=s,xs}}function Li(t){try{var s=t._init;return s(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Bi=r,xs):r}}var Bi=null;function oh(){if(Bi===null)throw Error(o(459));var t=Bi;return Bi=null,t}function rh(t){if(t===xs||t===Hr)throw Error(o(483))}var _s=null,So=0;function qr(t){var s=So;return So+=1,_s===null&&(_s=[]),sh(_s,t,s)}function Eo(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Vr(t,s){throw s.$$typeof===S?Error(o(525)):(t=Object.prototype.toString.call(s),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function ah(t){function s(I,w){if(t){var R=I.deletions;R===null?(I.deletions=[w],I.flags|=16):R.push(w)}}function r(I,w){if(!t)return null;for(;w!==null;)s(I,w),w=w.sibling;return null}function l(I){for(var w=new Map;I!==null;)I.key!==null?w.set(I.key,I):w.set(I.index,I),I=I.sibling;return w}function h(I,w){return I=mn(I,w),I.index=0,I.sibling=null,I}function m(I,w,R){return I.index=R,t?(R=I.alternate,R!==null?(R=R.index,R<w?(I.flags|=67108866,w):R):(I.flags|=67108866,w)):(I.flags|=1048576,w)}function _(I){return t&&I.alternate===null&&(I.flags|=67108866),I}function E(I,w,R,z){return w===null||w.tag!==6?(w=jl(R,I.mode,z),w.return=I,w):(w=h(w,R),w.return=I,w)}function C(I,w,R,z){var de=R.type;return de===M?H(I,w,R.props.children,z,R.key):w!==null&&(w.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===fe&&Li(de)===w.type)?(w=h(w,R.props),Eo(w,R),w.return=I,w):(w=Pr(R.type,R.key,R.props,null,I.mode,z),Eo(w,R),w.return=I,w)}function D(I,w,R,z){return w===null||w.tag!==4||w.stateNode.containerInfo!==R.containerInfo||w.stateNode.implementation!==R.implementation?(w=Yl(R,I.mode,z),w.return=I,w):(w=h(w,R.children||[]),w.return=I,w)}function H(I,w,R,z,de){return w===null||w.tag!==7?(w=Mi(R,I.mode,z,de),w.return=I,w):(w=h(w,R),w.return=I,w)}function q(I,w,R){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=jl(""+w,I.mode,R),w.return=I,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case b:return R=Pr(w.type,w.key,w.props,null,I.mode,R),Eo(R,w),R.return=I,R;case U:return w=Yl(w,I.mode,R),w.return=I,w;case fe:return w=Li(w),q(I,w,R)}if(ie(w)||K(w))return w=Mi(w,I.mode,R,null),w.return=I,w;if(typeof w.then=="function")return q(I,qr(w),R);if(w.$$typeof===P)return q(I,Fr(I,w),R);Vr(I,w)}return null}function k(I,w,R,z){var de=w!==null?w.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return de!==null?null:E(I,w,""+R,z);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case b:return R.key===de?C(I,w,R,z):null;case U:return R.key===de?D(I,w,R,z):null;case fe:return R=Li(R),k(I,w,R,z)}if(ie(R)||K(R))return de!==null?null:H(I,w,R,z,null);if(typeof R.then=="function")return k(I,w,qr(R),z);if(R.$$typeof===P)return k(I,w,Fr(I,R),z);Vr(I,R)}return null}function L(I,w,R,z,de){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return I=I.get(R)||null,E(w,I,""+z,de);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return I=I.get(z.key===null?R:z.key)||null,C(w,I,z,de);case U:return I=I.get(z.key===null?R:z.key)||null,D(w,I,z,de);case fe:return z=Li(z),L(I,w,R,z,de)}if(ie(z)||K(z))return I=I.get(R)||null,H(w,I,z,de,null);if(typeof z.then=="function")return L(I,w,R,qr(z),de);if(z.$$typeof===P)return L(I,w,R,Fr(w,z),de);Vr(w,z)}return null}function le(I,w,R,z){for(var de=null,Re=null,ue=w,Te=w=0,Ae=null;ue!==null&&Te<R.length;Te++){ue.index>Te?(Ae=ue,ue=null):Ae=ue.sibling;var Me=k(I,ue,R[Te],z);if(Me===null){ue===null&&(ue=Ae);break}t&&ue&&Me.alternate===null&&s(I,ue),w=m(Me,w,Te),Re===null?de=Me:Re.sibling=Me,Re=Me,ue=Ae}if(Te===R.length)return r(I,ue),Ne&&gn(I,Te),de;if(ue===null){for(;Te<R.length;Te++)ue=q(I,R[Te],z),ue!==null&&(w=m(ue,w,Te),Re===null?de=ue:Re.sibling=ue,Re=ue);return Ne&&gn(I,Te),de}for(ue=l(ue);Te<R.length;Te++)Ae=L(ue,I,Te,R[Te],z),Ae!==null&&(t&&Ae.alternate!==null&&ue.delete(Ae.key===null?Te:Ae.key),w=m(Ae,w,Te),Re===null?de=Ae:Re.sibling=Ae,Re=Ae);return t&&ue.forEach(function(hi){return s(I,hi)}),Ne&&gn(I,Te),de}function me(I,w,R,z){if(R==null)throw Error(o(151));for(var de=null,Re=null,ue=w,Te=w=0,Ae=null,Me=R.next();ue!==null&&!Me.done;Te++,Me=R.next()){ue.index>Te?(Ae=ue,ue=null):Ae=ue.sibling;var hi=k(I,ue,Me.value,z);if(hi===null){ue===null&&(ue=Ae);break}t&&ue&&hi.alternate===null&&s(I,ue),w=m(hi,w,Te),Re===null?de=hi:Re.sibling=hi,Re=hi,ue=Ae}if(Me.done)return r(I,ue),Ne&&gn(I,Te),de;if(ue===null){for(;!Me.done;Te++,Me=R.next())Me=q(I,Me.value,z),Me!==null&&(w=m(Me,w,Te),Re===null?de=Me:Re.sibling=Me,Re=Me);return Ne&&gn(I,Te),de}for(ue=l(ue);!Me.done;Te++,Me=R.next())Me=L(ue,I,Te,Me.value,z),Me!==null&&(t&&Me.alternate!==null&&ue.delete(Me.key===null?Te:Me.key),w=m(Me,w,Te),Re===null?de=Me:Re.sibling=Me,Re=Me);return t&&ue.forEach(function(CT){return s(I,CT)}),Ne&&gn(I,Te),de}function Oe(I,w,R,z){if(typeof R=="object"&&R!==null&&R.type===M&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case b:e:{for(var de=R.key;w!==null;){if(w.key===de){if(de=R.type,de===M){if(w.tag===7){r(I,w.sibling),z=h(w,R.props.children),z.return=I,I=z;break e}}else if(w.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===fe&&Li(de)===w.type){r(I,w.sibling),z=h(w,R.props),Eo(z,R),z.return=I,I=z;break e}r(I,w);break}else s(I,w);w=w.sibling}R.type===M?(z=Mi(R.props.children,I.mode,z,R.key),z.return=I,I=z):(z=Pr(R.type,R.key,R.props,null,I.mode,z),Eo(z,R),z.return=I,I=z)}return _(I);case U:e:{for(de=R.key;w!==null;){if(w.key===de)if(w.tag===4&&w.stateNode.containerInfo===R.containerInfo&&w.stateNode.implementation===R.implementation){r(I,w.sibling),z=h(w,R.children||[]),z.return=I,I=z;break e}else{r(I,w);break}else s(I,w);w=w.sibling}z=Yl(R,I.mode,z),z.return=I,I=z}return _(I);case fe:return R=Li(R),Oe(I,w,R,z)}if(ie(R))return le(I,w,R,z);if(K(R)){if(de=K(R),typeof de!="function")throw Error(o(150));return R=de.call(R),me(I,w,R,z)}if(typeof R.then=="function")return Oe(I,w,qr(R),z);if(R.$$typeof===P)return Oe(I,w,Fr(I,R),z);Vr(I,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,w!==null&&w.tag===6?(r(I,w.sibling),z=h(w,R),z.return=I,I=z):(r(I,w),z=jl(R,I.mode,z),z.return=I,I=z),_(I)):r(I,w)}return function(I,w,R,z){try{So=0;var de=Oe(I,w,R,z);return _s=null,de}catch(ue){if(ue===xs||ue===Hr)throw ue;var Re=At(29,ue,null,I.mode);return Re.lanes=z,Re.return=I,Re}finally{}}}var Fi=ah(!0),lh=ah(!1),Xn=!1;function su(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ou(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Wn(t,s,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ke&2)!==0){var h=l.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),l.pending=s,s=Ur(t),jf(t,null,r),s}return kr(t,l,s,r),Ur(t)}function bo(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,r|=l,s.lanes=r,Wd(t,r)}}function ru(t,s){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?h=m=_:m=m.next=_,r=r.next}while(r!==null);m===null?h=m=s:m=m.next=s}else h=m=s;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}var au=!1;function Co(){if(au){var t=vs;if(t!==null)throw t}}function Ao(t,s,r,l){au=!1;var h=t.updateQueue;Xn=!1;var m=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,D=C.next;C.next=null,_===null?m=D:_.next=D,_=C;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==_&&(E===null?H.firstBaseUpdate=D:E.next=D,H.lastBaseUpdate=C))}if(m!==null){var q=h.baseState;_=0,H=D=C=null,E=m;do{var k=E.lane&-536870913,L=k!==E.lane;if(L?(Ce&k)===k:(l&k)===k){k!==0&&k===ys&&(au=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,me=E;k=s;var Oe=r;switch(me.tag){case 1:if(le=me.payload,typeof le=="function"){q=le.call(Oe,q,k);break e}q=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=me.payload,k=typeof le=="function"?le.call(Oe,q,k):le,k==null)break e;q=T({},q,k);break e;case 2:Xn=!0}}k=E.callback,k!==null&&(t.flags|=64,L&&(t.flags|=8192),L=h.callbacks,L===null?h.callbacks=[k]:L.push(k))}else L={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(D=H=L,C=q):H=H.next=L,_|=k;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;L=E,E=L.next,L.next=null,h.lastBaseUpdate=L,h.shared.pending=null}}while(!0);H===null&&(C=q),h.baseState=C,h.firstBaseUpdate=D,h.lastBaseUpdate=H,m===null&&(h.shared.lanes=0),ii|=_,t.lanes=_,t.memoizedState=q}}function uh(t,s){if(typeof t!="function")throw Error(o(191,t));t.call(s)}function ch(t,s){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)uh(r[t],s)}var Ts=A(null),Gr=A(0);function dh(t,s){t=Nn,O(Gr,t),O(Ts,s),Nn=t|s.baseLanes}function lu(){O(Gr,Nn),O(Ts,Ts.current)}function uu(){Nn=Gr.current,B(Ts),B(Gr)}var Nt=A(null),Ht=null;function Zn(t){var s=t.alternate;O(Ke,Ke.current&1),O(Nt,t),Ht===null&&(s===null||Ts.current!==null||s.memoizedState!==null)&&(Ht=t)}function cu(t){O(Ke,Ke.current),O(Nt,t),Ht===null&&(Ht=t)}function fh(t){t.tag===22?(O(Ke,Ke.current),O(Nt,t),Ht===null&&(Ht=t)):ei()}function ei(){O(Ke,Ke.current),O(Nt,Nt.current)}function wt(t){B(Nt),Ht===t&&(Ht=null),B(Ke)}var Ke=A(0);function jr(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||gc(r)||yc(r)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var xn=0,_e=null,Be=null,Qe=null,Yr=!1,Ss=!1,Oi=!1,Jr=0,No=0,Es=null,m_=0;function Ye(){throw Error(o(321))}function du(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!Ct(t[r],s[r]))return!1;return!0}function fu(t,s,r,l,h,m){return xn=m,_e=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,N.H=t===null||t.memoizedState===null?$h:Nu,Oi=!1,m=r(l,h),Oi=!1,Ss&&(m=ph(s,r,l,h)),hh(t),m}function hh(t){N.H=Ro;var s=Be!==null&&Be.next!==null;if(xn=0,Qe=Be=_e=null,Yr=!1,No=0,Es=null,s)throw Error(o(300));t===null||We||(t=t.dependencies,t!==null&&Br(t)&&(We=!0))}function ph(t,s,r,l){_e=t;var h=0;do{if(Ss&&(Es=null),No=0,Ss=!1,25<=h)throw Error(o(301));if(h+=1,Qe=Be=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}N.H=Xh,m=s(r,l)}while(Ss);return m}function g_(){var t=N.H,s=t.useState()[0];return s=typeof s.then=="function"?wo(s):s,t=t.useState()[0],(Be!==null?Be.memoizedState:null)!==t&&(_e.flags|=1024),s}function hu(){var t=Jr!==0;return Jr=0,t}function pu(t,s,r){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~r}function mu(t){if(Yr){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Yr=!1}xn=0,Qe=Be=_e=null,Ss=!1,No=Jr=0,Es=null}function ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?_e.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function $e(){if(Be===null){var t=_e.alternate;t=t!==null?t.memoizedState:null}else t=Be.next;var s=Qe===null?_e.memoizedState:Qe.next;if(s!==null)Qe=s,Be=t;else{if(t===null)throw _e.alternate===null?Error(o(467)):Error(o(310));Be=t,t={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Qe===null?_e.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function Kr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wo(t){var s=No;return No+=1,Es===null&&(Es=[]),t=sh(Es,t,s),s=_e,(Qe===null?s.memoizedState:Qe.next)===null&&(s=s.alternate,N.H=s===null||s.memoizedState===null?$h:Nu),t}function $r(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wo(t);if(t.$$typeof===P)return rt(t)}throw Error(o(438,String(t)))}function gu(t){var s=null,r=_e.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var l=_e.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=Kr(),_e.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(t),l=0;l<t;l++)r[l]=he;return s.index++,r}function _n(t,s){return typeof s=="function"?s(t):s}function Xr(t){var s=$e();return yu(s,Be,t)}function yu(t,s,r){var l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=r;var h=t.baseQueue,m=l.pending;if(m!==null){if(h!==null){var _=h.next;h.next=m.next,m.next=_}s.baseQueue=h=m,l.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{s=h.next;var E=_=null,C=null,D=s,H=!1;do{var q=D.lane&-536870913;if(q!==D.lane?(Ce&q)===q:(xn&q)===q){var k=D.revertLane;if(k===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),q===ys&&(H=!0);else if((xn&k)===k){D=D.next,k===ys&&(H=!0);continue}else q={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(E=C=q,_=m):C=C.next=q,_e.lanes|=k,ii|=k;q=D.action,Oi&&r(m,q),m=D.hasEagerState?D.eagerState:r(m,q)}else k={lane:q,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(E=C=k,_=m):C=C.next=k,_e.lanes|=q,ii|=q;D=D.next}while(D!==null&&D!==s);if(C===null?_=m:C.next=E,!Ct(m,t.memoizedState)&&(We=!0,H&&(r=vs,r!==null)))throw r;t.memoizedState=m,t.baseState=_,t.baseQueue=C,l.lastRenderedState=m}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function vu(t){var s=$e(),r=s.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,m=s.memoizedState;if(h!==null){r.pending=null;var _=h=h.next;do m=t(m,_.action),_=_.next;while(_!==h);Ct(m,s.memoizedState)||(We=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),r.lastRenderedState=m}return[m,l]}function mh(t,s,r){var l=_e,h=$e(),m=Ne;if(m){if(r===void 0)throw Error(o(407));r=r()}else r=s();var _=!Ct((Be||h).memoizedState,r);if(_&&(h.memoizedState=r,We=!0),h=h.queue,Tu(vh.bind(null,l,h,t),[t]),h.getSnapshot!==s||_||Qe!==null&&Qe.memoizedState.tag&1){if(l.flags|=2048,bs(9,{destroy:void 0},yh.bind(null,l,h,r,s),null),He===null)throw Error(o(349));m||(xn&127)!==0||gh(l,s,r)}return r}function gh(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=_e.updateQueue,s===null?(s=Kr(),_e.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function yh(t,s,r,l){s.value=r,s.getSnapshot=l,xh(s)&&_h(t)}function vh(t,s,r){return r(function(){xh(s)&&_h(t)})}function xh(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!Ct(t,r)}catch{return!0}}function _h(t){var s=Ri(t,2);s!==null&&Tt(s,t,2)}function xu(t){var s=ft();if(typeof t=="function"){var r=t;if(t=r(),Oi){Vn(!0);try{r()}finally{Vn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:t},s}function Th(t,s,r,l){return t.baseState=r,yu(t,Be,typeof l=="function"?l:_n)}function y_(t,s,r,l,h){if(Zr(t))throw Error(o(485));if(t=s.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};N.T!==null?r(!0):m.isTransition=!1,l(m),r=s.pending,r===null?(m.next=s.pending=m,Sh(s,m)):(m.next=r.next,s.pending=r.next=m)}}function Sh(t,s){var r=s.action,l=s.payload,h=t.state;if(s.isTransition){var m=N.T,_={};N.T=_;try{var E=r(h,l),C=N.S;C!==null&&C(_,E),Eh(t,s,E)}catch(D){_u(t,s,D)}finally{m!==null&&_.types!==null&&(m.types=_.types),N.T=m}}else try{m=r(h,l),Eh(t,s,m)}catch(D){_u(t,s,D)}}function Eh(t,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){bh(t,s,l)},function(l){return _u(t,s,l)}):bh(t,s,r)}function bh(t,s,r){s.status="fulfilled",s.value=r,Ch(s),t.state=r,s=t.pending,s!==null&&(r=s.next,r===s?t.pending=null:(r=r.next,s.next=r,Sh(t,r)))}function _u(t,s,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=r,Ch(s),s=s.next;while(s!==l)}t.action=null}function Ch(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Ah(t,s){return s}function Nh(t,s){if(Ne){var r=He.formState;if(r!==null){e:{var l=_e;if(Ne){if(qe){t:{for(var h=qe,m=Ot;h.nodeType!==8;){if(!m){h=null;break t}if(h=zt(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){qe=zt(h.nextSibling),l=h.data==="F!";break e}}Kn(l)}l=!1}l&&(s=r[0])}}return r=ft(),r.memoizedState=r.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ah,lastRenderedState:s},r.queue=l,r=Yh.bind(null,_e,l),l.dispatch=r,l=xu(!1),m=Au.bind(null,_e,!1,l.queue),l=ft(),h={state:s,dispatch:null,action:t,pending:null},l.queue=h,r=y_.bind(null,_e,h,m,r),h.dispatch=r,l.memoizedState=t,[s,r,!1]}function wh(t){var s=$e();return Ih(s,Be,t)}function Ih(t,s,r){if(s=yu(t,s,Ah)[0],t=Xr(_n)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=wo(s)}catch(_){throw _===xs?Hr:_}else l=s;s=$e();var h=s.queue,m=h.dispatch;return r!==s.memoizedState&&(_e.flags|=2048,bs(9,{destroy:void 0},v_.bind(null,h,r),null)),[l,m,t]}function v_(t,s){t.action=s}function Rh(t){var s=$e(),r=Be;if(r!==null)return Ih(s,r,t);$e(),s=s.memoizedState,r=$e();var l=r.queue.dispatch;return r.memoizedState=t,[s,l,!1]}function bs(t,s,r,l){return t={tag:t,create:r,deps:l,inst:s,next:null},s=_e.updateQueue,s===null&&(s=Kr(),_e.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,s.lastEffect=t),t}function Mh(){return $e().memoizedState}function Qr(t,s,r,l){var h=ft();_e.flags|=t,h.memoizedState=bs(1|s,{destroy:void 0},r,l===void 0?null:l)}function Wr(t,s,r,l){var h=$e();l=l===void 0?null:l;var m=h.memoizedState.inst;Be!==null&&l!==null&&du(l,Be.memoizedState.deps)?h.memoizedState=bs(s,m,r,l):(_e.flags|=t,h.memoizedState=bs(1|s,m,r,l))}function Dh(t,s){Qr(8390656,8,t,s)}function Tu(t,s){Wr(2048,8,t,s)}function x_(t){_e.flags|=4;var s=_e.updateQueue;if(s===null)s=Kr(),_e.updateQueue=s,s.events=[t];else{var r=s.events;r===null?s.events=[t]:r.push(t)}}function kh(t){var s=$e().memoizedState;return x_({ref:s,nextImpl:t}),function(){if((ke&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}function Uh(t,s){return Wr(4,2,t,s)}function Ph(t,s){return Wr(4,4,t,s)}function Lh(t,s){if(typeof s=="function"){t=t();var r=s(t);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Bh(t,s,r){r=r!=null?r.concat([t]):null,Wr(4,4,Lh.bind(null,s,t),r)}function Su(){}function Fh(t,s){var r=$e();s=s===void 0?null:s;var l=r.memoizedState;return s!==null&&du(s,l[1])?l[0]:(r.memoizedState=[t,s],t)}function Oh(t,s){var r=$e();s=s===void 0?null:s;var l=r.memoizedState;if(s!==null&&du(s,l[1]))return l[0];if(l=t(),Oi){Vn(!0);try{t()}finally{Vn(!1)}}return r.memoizedState=[l,s],l}function Eu(t,s,r){return r===void 0||(xn&1073741824)!==0&&(Ce&261930)===0?t.memoizedState=s:(t.memoizedState=r,t=Hp(),_e.lanes|=t,ii|=t,r)}function Hh(t,s,r,l){return Ct(r,s)?r:Ts.current!==null?(t=Eu(t,r,l),Ct(t,s)||(We=!0),t):(xn&42)===0||(xn&1073741824)!==0&&(Ce&261930)===0?(We=!0,t.memoizedState=r):(t=Hp(),_e.lanes|=t,ii|=t,s)}function zh(t,s,r,l,h){var m=V.p;V.p=m!==0&&8>m?m:8;var _=N.T,E={};N.T=E,Au(t,!1,s,r);try{var C=h(),D=N.S;if(D!==null&&D(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var H=p_(C,l);Io(t,s,H,Mt(t))}else Io(t,s,l,Mt(t))}catch(q){Io(t,s,{then:function(){},status:"rejected",reason:q},Mt())}finally{V.p=m,_!==null&&E.types!==null&&(_.types=E.types),N.T=_}}function __(){}function bu(t,s,r,l){if(t.tag!==5)throw Error(o(476));var h=qh(t).queue;zh(t,h,s,ee,r===null?__:function(){return Vh(t),r(l)})}function qh(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:ee},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:r},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Vh(t){var s=qh(t);s.next===null&&(s=t.alternate.memoizedState),Io(t,s.next.queue,{},Mt())}function Cu(){return rt(Yo)}function Gh(){return $e().memoizedState}function jh(){return $e().memoizedState}function T_(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var r=Mt();t=Qn(r);var l=Wn(s,t,r);l!==null&&(Tt(l,s,r),bo(l,s,r)),s={cache:eu()},t.payload=s;return}s=s.return}}function S_(t,s,r){var l=Mt();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Zr(t)?Jh(s,r):(r=Vl(t,s,r,l),r!==null&&(Tt(r,t,l),Kh(r,s,l)))}function Yh(t,s,r){var l=Mt();Io(t,s,r,l)}function Io(t,s,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zr(t))Jh(s,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var _=s.lastRenderedState,E=m(_,r);if(h.hasEagerState=!0,h.eagerState=E,Ct(E,_))return kr(t,s,h,0),He===null&&Dr(),!1}catch{}finally{}if(r=Vl(t,s,h,l),r!==null)return Tt(r,t,l),Kh(r,s,l),!0}return!1}function Au(t,s,r,l){if(l={lane:2,revertLane:sc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zr(t)){if(s)throw Error(o(479))}else s=Vl(t,r,l,2),s!==null&&Tt(s,t,2)}function Zr(t){var s=t.alternate;return t===_e||s!==null&&s===_e}function Jh(t,s){Ss=Yr=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function Kh(t,s,r){if((r&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,r|=l,s.lanes=r,Wd(t,r)}}var Ro={readContext:rt,use:$r,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};Ro.useEffectEvent=Ye;var $h={readContext:rt,use:$r,useCallback:function(t,s){return ft().memoizedState=[t,s===void 0?null:s],t},useContext:rt,useEffect:Dh,useImperativeHandle:function(t,s,r){r=r!=null?r.concat([t]):null,Qr(4194308,4,Lh.bind(null,s,t),r)},useLayoutEffect:function(t,s){return Qr(4194308,4,t,s)},useInsertionEffect:function(t,s){Qr(4,2,t,s)},useMemo:function(t,s){var r=ft();s=s===void 0?null:s;var l=t();if(Oi){Vn(!0);try{t()}finally{Vn(!1)}}return r.memoizedState=[l,s],l},useReducer:function(t,s,r){var l=ft();if(r!==void 0){var h=r(s);if(Oi){Vn(!0);try{r(s)}finally{Vn(!1)}}}else h=s;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=S_.bind(null,_e,t),[l.memoizedState,t]},useRef:function(t){var s=ft();return t={current:t},s.memoizedState=t},useState:function(t){t=xu(t);var s=t.queue,r=Yh.bind(null,_e,s);return s.dispatch=r,[t.memoizedState,r]},useDebugValue:Su,useDeferredValue:function(t,s){var r=ft();return Eu(r,t,s)},useTransition:function(){var t=xu(!1);return t=zh.bind(null,_e,t.queue,!0,!1),ft().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,r){var l=_e,h=ft();if(Ne){if(r===void 0)throw Error(o(407));r=r()}else{if(r=s(),He===null)throw Error(o(349));(Ce&127)!==0||gh(l,s,r)}h.memoizedState=r;var m={value:r,getSnapshot:s};return h.queue=m,Dh(vh.bind(null,l,m,t),[t]),l.flags|=2048,bs(9,{destroy:void 0},yh.bind(null,l,m,r,s),null),r},useId:function(){var t=ft(),s=He.identifierPrefix;if(Ne){var r=nn,l=tn;r=(l&~(1<<32-bt(l)-1)).toString(32)+r,s="_"+s+"R_"+r,r=Jr++,0<r&&(s+="H"+r.toString(32)),s+="_"}else r=m_++,s="_"+s+"r_"+r.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Cu,useFormState:Nh,useActionState:Nh,useOptimistic:function(t){var s=ft();s.memoizedState=s.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=Au.bind(null,_e,!0,r),r.dispatch=s,[t,s]},useMemoCache:gu,useCacheRefresh:function(){return ft().memoizedState=T_.bind(null,_e)},useEffectEvent:function(t){var s=ft(),r={impl:t};return s.memoizedState=r,function(){if((ke&2)!==0)throw Error(o(440));return r.impl.apply(void 0,arguments)}}},Nu={readContext:rt,use:$r,useCallback:Fh,useContext:rt,useEffect:Tu,useImperativeHandle:Bh,useInsertionEffect:Uh,useLayoutEffect:Ph,useMemo:Oh,useReducer:Xr,useRef:Mh,useState:function(){return Xr(_n)},useDebugValue:Su,useDeferredValue:function(t,s){var r=$e();return Hh(r,Be.memoizedState,t,s)},useTransition:function(){var t=Xr(_n)[0],s=$e().memoizedState;return[typeof t=="boolean"?t:wo(t),s]},useSyncExternalStore:mh,useId:Gh,useHostTransitionStatus:Cu,useFormState:wh,useActionState:wh,useOptimistic:function(t,s){var r=$e();return Th(r,Be,t,s)},useMemoCache:gu,useCacheRefresh:jh};Nu.useEffectEvent=kh;var Xh={readContext:rt,use:$r,useCallback:Fh,useContext:rt,useEffect:Tu,useImperativeHandle:Bh,useInsertionEffect:Uh,useLayoutEffect:Ph,useMemo:Oh,useReducer:vu,useRef:Mh,useState:function(){return vu(_n)},useDebugValue:Su,useDeferredValue:function(t,s){var r=$e();return Be===null?Eu(r,t,s):Hh(r,Be.memoizedState,t,s)},useTransition:function(){var t=vu(_n)[0],s=$e().memoizedState;return[typeof t=="boolean"?t:wo(t),s]},useSyncExternalStore:mh,useId:Gh,useHostTransitionStatus:Cu,useFormState:Rh,useActionState:Rh,useOptimistic:function(t,s){var r=$e();return Be!==null?Th(r,Be,t,s):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:gu,useCacheRefresh:jh};Xh.useEffectEvent=kh;function wu(t,s,r,l){s=t.memoizedState,r=r(l,s),r=r==null?s:T({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Iu={enqueueSetState:function(t,s,r){t=t._reactInternals;var l=Mt(),h=Qn(l);h.payload=s,r!=null&&(h.callback=r),s=Wn(t,h,l),s!==null&&(Tt(s,t,l),bo(s,t,l))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var l=Mt(),h=Qn(l);h.tag=1,h.payload=s,r!=null&&(h.callback=r),s=Wn(t,h,l),s!==null&&(Tt(s,t,l),bo(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=Mt(),l=Qn(r);l.tag=2,s!=null&&(l.callback=s),s=Wn(t,l,r),s!==null&&(Tt(s,t,r),bo(s,t,r))}};function Qh(t,s,r,l,h,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,_):s.prototype&&s.prototype.isPureReactComponent?!go(r,l)||!go(h,m):!0}function Wh(t,s,r,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,l),s.state!==t&&Iu.enqueueReplaceState(s,s.state,null)}function Hi(t,s){var r=s;if("ref"in s){r={};for(var l in s)l!=="ref"&&(r[l]=s[l])}if(t=t.defaultProps){r===s&&(r=T({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Zh(t){Mr(t)}function ep(t){console.error(t)}function tp(t){Mr(t)}function ea(t,s){try{var r=t.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function np(t,s,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ru(t,s,r){return r=Qn(r),r.tag=3,r.payload={element:null},r.callback=function(){ea(t,s)},r}function ip(t){return t=Qn(t),t.tag=3,t}function sp(t,s,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;t.payload=function(){return h(m)},t.callback=function(){np(s,r,l)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){np(s,r,l),typeof h!="function"&&(si===null?si=new Set([this]):si.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function E_(t,s,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=r.alternate,s!==null&&gs(s,r,h,!0),r=Nt.current,r!==null){switch(r.tag){case 31:case 13:return Ht===null?fa():r.alternate===null&&Je===0&&(Je=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===zr?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([l]):s.add(l),tc(t,l,h)),!1;case 22:return r.flags|=65536,l===zr?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([l]):r.add(l)),tc(t,l,h)),!1}throw Error(o(435,r.tag))}return tc(t,l,h),fa(),!1}if(Ne)return s=Nt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,l!==$l&&(t=Error(o(422),{cause:l}),xo(Lt(t,r)))):(l!==$l&&(s=Error(o(423),{cause:l}),xo(Lt(s,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Lt(l,r),h=Ru(t.stateNode,l,h),ru(t,h),Je!==4&&(Je=2)),!1;var m=Error(o(520),{cause:l});if(m=Lt(m,r),Fo===null?Fo=[m]:Fo.push(m),Je!==4&&(Je=2),s===null)return!0;l=Lt(l,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Ru(r.stateNode,l,t),ru(r,t),!1;case 1:if(s=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(si===null||!si.has(m))))return r.flags|=65536,h&=-h,r.lanes|=h,h=ip(h),sp(h,t,r,l),ru(r,h),!1}r=r.return}while(r!==null);return!1}var Mu=Error(o(461)),We=!1;function at(t,s,r,l){s.child=t===null?lh(s,null,r,l):Fi(s,t.child,r,l)}function op(t,s,r,l,h){r=r.render;var m=s.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return Ui(s),l=fu(t,s,r,_,m,h),E=hu(),t!==null&&!We?(pu(t,s,h),Tn(t,s,h)):(Ne&&E&&Jl(s),s.flags|=1,at(t,s,l,h),s.child)}function rp(t,s,r,l,h){if(t===null){var m=r.type;return typeof m=="function"&&!Gl(m)&&m.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=m,ap(t,s,m,l,h)):(t=Pr(r.type,null,l,s,s.mode,h),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!Ou(t,h)){var _=m.memoizedProps;if(r=r.compare,r=r!==null?r:go,r(_,l)&&t.ref===s.ref)return Tn(t,s,h)}return s.flags|=1,t=mn(m,l),t.ref=s.ref,t.return=s,s.child=t}function ap(t,s,r,l,h){if(t!==null){var m=t.memoizedProps;if(go(m,l)&&t.ref===s.ref)if(We=!1,s.pendingProps=l=m,Ou(t,h))(t.flags&131072)!==0&&(We=!0);else return s.lanes=t.lanes,Tn(t,s,h)}return Du(t,s,r,l,h)}function lp(t,s,r,l){var h=l.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|r:r,t!==null){for(l=s.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~m}else l=0,s.child=null;return up(t,s,m,r,l)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Or(s,m!==null?m.cachePool:null),m!==null?dh(s,m):lu(),fh(s);else return l=s.lanes=536870912,up(t,s,m!==null?m.baseLanes|r:r,r,l)}else m!==null?(Or(s,m.cachePool),dh(s,m),ei(),s.memoizedState=null):(t!==null&&Or(s,null),lu(),ei());return at(t,s,h,r),s.child}function Mo(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function up(t,s,r,l,h){var m=nu();return m=m===null?null:{parent:Xe._currentValue,pool:m},s.memoizedState={baseLanes:r,cachePool:m},t!==null&&Or(s,null),lu(),fh(s),t!==null&&gs(t,s,l,!0),s.childLanes=h,null}function ta(t,s){return s=ia({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function cp(t,s,r){return Fi(s,t.child,null,r),t=ta(s,s.pendingProps),t.flags|=2,wt(s),s.memoizedState=null,t}function b_(t,s,r){var l=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Ne){if(l.mode==="hidden")return t=ta(s,l),s.lanes=536870912,Mo(null,t);if(cu(s),(t=qe)?(t=Sm(t,Ot),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Yn!==null?{id:tn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},r=Jf(t),r.return=s,s.child=r,ot=s,qe=null)):t=null,t===null)throw Kn(s);return s.lanes=536870912,null}return ta(s,l)}var m=t.memoizedState;if(m!==null){var _=m.dehydrated;if(cu(s),h)if(s.flags&256)s.flags&=-257,s=cp(t,s,r);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(o(558));else if(We||gs(t,s,r,!1),h=(r&t.childLanes)!==0,We||h){if(l=He,l!==null&&(_=Zd(l,r),_!==0&&_!==m.retryLane))throw m.retryLane=_,Ri(t,_),Tt(l,t,_),Mu;fa(),s=cp(t,s,r)}else t=m.treeContext,qe=zt(_.nextSibling),ot=s,Ne=!0,Jn=null,Ot=!1,t!==null&&Xf(s,t),s=ta(s,l),s.flags|=4096;return s}return t=mn(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function na(t,s){var r=s.ref;if(r===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(o(284));(t===null||t.ref!==r)&&(s.flags|=4194816)}}function Du(t,s,r,l,h){return Ui(s),r=fu(t,s,r,l,void 0,h),l=hu(),t!==null&&!We?(pu(t,s,h),Tn(t,s,h)):(Ne&&l&&Jl(s),s.flags|=1,at(t,s,r,h),s.child)}function dp(t,s,r,l,h,m){return Ui(s),s.updateQueue=null,r=ph(s,l,r,h),hh(t),l=hu(),t!==null&&!We?(pu(t,s,m),Tn(t,s,m)):(Ne&&l&&Jl(s),s.flags|=1,at(t,s,r,m),s.child)}function fp(t,s,r,l,h){if(Ui(s),s.stateNode===null){var m=fs,_=r.contextType;typeof _=="object"&&_!==null&&(m=rt(_)),m=new r(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Iu,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},su(s),_=r.contextType,m.context=typeof _=="object"&&_!==null?rt(_):fs,m.state=s.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(wu(s,r,_,l),m.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&Iu.enqueueReplaceState(m,m.state,null),Ao(s,l,m,h),Co(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){m=s.stateNode;var E=s.memoizedProps,C=Hi(r,E);m.props=C;var D=m.context,H=r.contextType;_=fs,typeof H=="object"&&H!==null&&(_=rt(H));var q=r.getDerivedStateFromProps;H=typeof q=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,H||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||D!==_)&&Wh(s,m,l,_),Xn=!1;var k=s.memoizedState;m.state=k,Ao(s,l,m,h),Co(),D=s.memoizedState,E||k!==D||Xn?(typeof q=="function"&&(wu(s,r,q,l),D=s.memoizedState),(C=Xn||Qh(s,r,C,l,k,D,_))?(H||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=D),m.props=l,m.state=D,m.context=_,l=C):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,ou(t,s),_=s.memoizedProps,H=Hi(r,_),m.props=H,q=s.pendingProps,k=m.context,D=r.contextType,C=fs,typeof D=="object"&&D!==null&&(C=rt(D)),E=r.getDerivedStateFromProps,(D=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==q||k!==C)&&Wh(s,m,l,C),Xn=!1,k=s.memoizedState,m.state=k,Ao(s,l,m,h),Co();var L=s.memoizedState;_!==q||k!==L||Xn||t!==null&&t.dependencies!==null&&Br(t.dependencies)?(typeof E=="function"&&(wu(s,r,E,l),L=s.memoizedState),(H=Xn||Qh(s,r,H,l,k,L,C)||t!==null&&t.dependencies!==null&&Br(t.dependencies))?(D||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,L,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,L,C)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=L),m.props=l,m.state=L,m.context=C,l=H):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(s.flags|=1024),l=!1)}return m=l,na(t,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&l?(s.child=Fi(s,t.child,null,h),s.child=Fi(s,null,r,h)):at(t,s,r,h),s.memoizedState=m.state,t=s.child):t=Tn(t,s,h),t}function hp(t,s,r,l){return Di(),s.flags|=256,at(t,s,r,l),s.child}var ku={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uu(t){return{baseLanes:t,cachePool:nh()}}function Pu(t,s,r){return t=t!==null?t.childLanes&~r:0,s&&(t|=Rt),t}function pp(t,s,r){var l=s.pendingProps,h=!1,m=(s.flags&128)!==0,_;if((_=m)||(_=t!==null&&t.memoizedState===null?!1:(Ke.current&2)!==0),_&&(h=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,t===null){if(Ne){if(h?Zn(s):ei(),(t=qe)?(t=Sm(t,Ot),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Yn!==null?{id:tn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},r=Jf(t),r.return=s,s.child=r,ot=s,qe=null)):t=null,t===null)throw Kn(s);return yc(t)?s.lanes=32:s.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(ei(),h=s.mode,E=ia({mode:"hidden",children:E},h),l=Mi(l,h,r,null),E.return=s,l.return=s,E.sibling=l,s.child=E,l=s.child,l.memoizedState=Uu(r),l.childLanes=Pu(t,_,r),s.memoizedState=ku,Mo(null,l)):(Zn(s),Lu(s,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(m)s.flags&256?(Zn(s),s.flags&=-257,s=Bu(t,s,r)):s.memoizedState!==null?(ei(),s.child=t.child,s.flags|=128,s=null):(ei(),E=l.fallback,h=s.mode,l=ia({mode:"visible",children:l.children},h),E=Mi(E,h,r,null),E.flags|=2,l.return=s,E.return=s,l.sibling=E,s.child=l,Fi(s,t.child,null,r),l=s.child,l.memoizedState=Uu(r),l.childLanes=Pu(t,_,r),s.memoizedState=ku,s=Mo(null,l));else if(Zn(s),yc(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var D=_.dgst;_=D,l=Error(o(419)),l.stack="",l.digest=_,xo({value:l,source:null,stack:null}),s=Bu(t,s,r)}else if(We||gs(t,s,r,!1),_=(r&t.childLanes)!==0,We||_){if(_=He,_!==null&&(l=Zd(_,r),l!==0&&l!==C.retryLane))throw C.retryLane=l,Ri(t,l),Tt(_,t,l),Mu;gc(E)||fa(),s=Bu(t,s,r)}else gc(E)?(s.flags|=192,s.child=t.child,s=null):(t=C.treeContext,qe=zt(E.nextSibling),ot=s,Ne=!0,Jn=null,Ot=!1,t!==null&&Xf(s,t),s=Lu(s,l.children),s.flags|=4096);return s}return h?(ei(),E=l.fallback,h=s.mode,C=t.child,D=C.sibling,l=mn(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,D!==null?E=mn(D,E):(E=Mi(E,h,r,null),E.flags|=2),E.return=s,l.return=s,l.sibling=E,s.child=l,Mo(null,l),l=s.child,E=t.child.memoizedState,E===null?E=Uu(r):(h=E.cachePool,h!==null?(C=Xe._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=nh(),E={baseLanes:E.baseLanes|r,cachePool:h}),l.memoizedState=E,l.childLanes=Pu(t,_,r),s.memoizedState=ku,Mo(t.child,l)):(Zn(s),r=t.child,t=r.sibling,r=mn(r,{mode:"visible",children:l.children}),r.return=s,r.sibling=null,t!==null&&(_=s.deletions,_===null?(s.deletions=[t],s.flags|=16):_.push(t)),s.child=r,s.memoizedState=null,r)}function Lu(t,s){return s=ia({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function ia(t,s){return t=At(22,t,null,s),t.lanes=0,t}function Bu(t,s,r){return Fi(s,t.child,null,r),t=Lu(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function mp(t,s,r){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),Wl(t.return,s,r)}function Fu(t,s,r,l,h,m){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:m}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=r,_.tailMode=h,_.treeForkCount=m)}function gp(t,s,r){var l=s.pendingProps,h=l.revealOrder,m=l.tail;l=l.children;var _=Ke.current,E=(_&2)!==0;if(E?(_=_&1|2,s.flags|=128):_&=1,O(Ke,_),at(t,s,l,r),l=Ne?vo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mp(t,r,s);else if(t.tag===19)mp(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=s.child,h=null;r!==null;)t=r.alternate,t!==null&&jr(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=s.child,s.child=null):(h=r.sibling,r.sibling=null),Fu(s,!1,h,r,m,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=s.child,s.child=null;h!==null;){if(t=h.alternate,t!==null&&jr(t)===null){s.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Fu(s,!0,r,null,m,l);break;case"together":Fu(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Tn(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),ii|=s.lanes,(r&s.childLanes)===0)if(t!==null){if(gs(t,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(o(153));if(s.child!==null){for(t=s.child,r=mn(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=mn(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function Ou(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Br(t)))}function C_(t,s,r){switch(s.tag){case 3:Ie(s,s.stateNode.containerInfo),$n(s,Xe,t.memoizedState.cache),Di();break;case 27:case 5:Dt(s);break;case 4:Ie(s,s.stateNode.containerInfo);break;case 10:$n(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,cu(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Zn(s),s.flags|=128,null):(r&s.child.childLanes)!==0?pp(t,s,r):(Zn(s),t=Tn(t,s,r),t!==null?t.sibling:null);Zn(s);break;case 19:var h=(t.flags&128)!==0;if(l=(r&s.childLanes)!==0,l||(gs(t,s,r,!1),l=(r&s.childLanes)!==0),h){if(l)return gp(t,s,r);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),O(Ke,Ke.current),l)break;return null;case 22:return s.lanes=0,lp(t,s,r,s.pendingProps);case 24:$n(s,Xe,t.memoizedState.cache)}return Tn(t,s,r)}function yp(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps)We=!0;else{if(!Ou(t,r)&&(s.flags&128)===0)return We=!1,C_(t,s,r);We=(t.flags&131072)!==0}else We=!1,Ne&&(s.flags&1048576)!==0&&$f(s,vo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=Li(s.elementType),s.type=t,typeof t=="function")Gl(t)?(l=Hi(t,l),s.tag=1,s=fp(null,s,t,l,r)):(s.tag=0,s=Du(null,s,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===X){s.tag=11,s=op(null,s,t,l,r);break e}else if(h===$){s.tag=14,s=rp(null,s,t,l,r);break e}}throw s=ge(t)||t,Error(o(306,s,""))}}return s;case 0:return Du(t,s,s.type,s.pendingProps,r);case 1:return l=s.type,h=Hi(l,s.pendingProps),fp(t,s,l,h,r);case 3:e:{if(Ie(s,s.stateNode.containerInfo),t===null)throw Error(o(387));l=s.pendingProps;var m=s.memoizedState;h=m.element,ou(t,s),Ao(s,l,null,r);var _=s.memoizedState;if(l=_.cache,$n(s,Xe,l),l!==m.cache&&Zl(s,[Xe],r,!0),Co(),l=_.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=hp(t,s,l,r);break e}else if(l!==h){h=Lt(Error(o(424)),s),xo(h),s=hp(t,s,l,r);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(qe=zt(t.firstChild),ot=s,Ne=!0,Jn=null,Ot=!0,r=lh(s,null,l,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Di(),l===h){s=Tn(t,s,r);break e}at(t,s,l,r)}s=s.child}return s;case 26:return na(t,s),t===null?(r=wm(s.type,null,s.pendingProps,null))?s.memoizedState=r:Ne||(r=s.type,t=s.pendingProps,l=xa(ae.current).createElement(r),l[st]=s,l[mt]=t,lt(l,r,t),nt(l),s.stateNode=l):s.memoizedState=wm(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Dt(s),t===null&&Ne&&(l=s.stateNode=Cm(s.type,s.pendingProps,ae.current),ot=s,Ot=!0,h=qe,li(s.type)?(vc=h,qe=zt(l.firstChild)):qe=h),at(t,s,s.pendingProps.children,r),na(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Ne&&((h=l=qe)&&(l=tT(l,s.type,s.pendingProps,Ot),l!==null?(s.stateNode=l,ot=s,qe=zt(l.firstChild),Ot=!1,h=!0):h=!1),h||Kn(s)),Dt(s),h=s.type,m=s.pendingProps,_=t!==null?t.memoizedProps:null,l=m.children,hc(h,m)?l=null:_!==null&&hc(h,_)&&(s.flags|=32),s.memoizedState!==null&&(h=fu(t,s,g_,null,null,r),Yo._currentValue=h),na(t,s),at(t,s,l,r),s.child;case 6:return t===null&&Ne&&((t=r=qe)&&(r=nT(r,s.pendingProps,Ot),r!==null?(s.stateNode=r,ot=s,qe=null,t=!0):t=!1),t||Kn(s)),null;case 13:return pp(t,s,r);case 4:return Ie(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=Fi(s,null,l,r):at(t,s,l,r),s.child;case 11:return op(t,s,s.type,s.pendingProps,r);case 7:return at(t,s,s.pendingProps,r),s.child;case 8:return at(t,s,s.pendingProps.children,r),s.child;case 12:return at(t,s,s.pendingProps.children,r),s.child;case 10:return l=s.pendingProps,$n(s,s.type,l.value),at(t,s,l.children,r),s.child;case 9:return h=s.type._context,l=s.pendingProps.children,Ui(s),h=rt(h),l=l(h),s.flags|=1,at(t,s,l,r),s.child;case 14:return rp(t,s,s.type,s.pendingProps,r);case 15:return ap(t,s,s.type,s.pendingProps,r);case 19:return gp(t,s,r);case 31:return b_(t,s,r);case 22:return lp(t,s,r,s.pendingProps);case 24:return Ui(s),l=rt(Xe),t===null?(h=nu(),h===null&&(h=He,m=eu(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=r),h=m),s.memoizedState={parent:l,cache:h},su(s),$n(s,Xe,h)):((t.lanes&r)!==0&&(ou(t,s),Ao(s,null,null,r),Co()),h=t.memoizedState,m=s.memoizedState,h.parent!==l?(h={parent:l,cache:l},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),$n(s,Xe,l)):(l=m.cache,$n(s,Xe,l),l!==h.cache&&Zl(s,[Xe],r,!0))),at(t,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function Sn(t){t.flags|=4}function Hu(t,s,r,l,h){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Gp())t.flags|=8192;else throw Bi=zr,iu}else t.flags&=-16777217}function vp(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!km(s))if(Gp())t.flags|=8192;else throw Bi=zr,iu}function sa(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Xd():536870912,t.lanes|=s,ws|=s)}function Do(t,s){if(!Ne)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ve(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(s)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,s}function A_(t,s,r){var l=s.pendingProps;switch(Kl(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(s),null;case 1:return Ve(s),null;case 3:return r=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),vn(Xe),Ue(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ms(s)?Sn(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Xl())),Ve(s),null;case 26:var h=s.type,m=s.memoizedState;return t===null?(Sn(s),m!==null?(Ve(s),vp(s,m)):(Ve(s),Hu(s,h,null,l,r))):m?m!==t.memoizedState?(Sn(s),Ve(s),vp(s,m)):(Ve(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&Sn(s),Ve(s),Hu(s,h,t,l,r)),null;case 27:if(Fn(s),r=ae.current,h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&Sn(s);else{if(!l){if(s.stateNode===null)throw Error(o(166));return Ve(s),null}t=G.current,ms(s)?Qf(s):(t=Cm(h,l,r),s.stateNode=t,Sn(s))}return Ve(s),null;case 5:if(Fn(s),h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&Sn(s);else{if(!l){if(s.stateNode===null)throw Error(o(166));return Ve(s),null}if(m=G.current,ms(s))Qf(s);else{var _=xa(ae.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}m[st]=s,m[mt]=l;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=m;e:switch(lt(m,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Sn(s)}}return Ve(s),Hu(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,r),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&Sn(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(o(166));if(t=ae.current,ms(s)){if(t=s.stateNode,r=s.memoizedProps,l=null,h=ot,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[st]=s,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||pm(t.nodeValue,r)),t||Kn(s,!0)}else t=xa(t).createTextNode(l),t[st]=s,s.stateNode=t}return Ve(s),null;case 31:if(r=s.memoizedState,t===null||t.memoizedState!==null){if(l=ms(s),r!==null){if(t===null){if(!l)throw Error(o(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[st]=s}else Di(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ve(s),t=!1}else r=Xl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return s.flags&256?(wt(s),s):(wt(s),null);if((s.flags&128)!==0)throw Error(o(558))}return Ve(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ms(s),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(o(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));h[st]=s}else Di(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ve(s),h=!1}else h=Xl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(wt(s),s):(wt(s),null)}return wt(s),(s.flags&128)!==0?(s.lanes=r,s):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=s.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)),r!==t&&r&&(s.child.flags|=8192),sa(s,s.updateQueue),Ve(s),null);case 4:return Ue(),t===null&&lc(s.stateNode.containerInfo),Ve(s),null;case 10:return vn(s.type),Ve(s),null;case 19:if(B(Ke),l=s.memoizedState,l===null)return Ve(s),null;if(h=(s.flags&128)!==0,m=l.rendering,m===null)if(h)Do(l,!1);else{if(Je!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=jr(t),m!==null){for(s.flags|=128,Do(l,!1),t=m.updateQueue,s.updateQueue=t,sa(s,t),s.subtreeFlags=0,t=r,r=s.child;r!==null;)Yf(r,t),r=r.sibling;return O(Ke,Ke.current&1|2),Ne&&gn(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&St()>ua&&(s.flags|=128,h=!0,Do(l,!1),s.lanes=4194304)}else{if(!h)if(t=jr(m),t!==null){if(s.flags|=128,h=!0,t=t.updateQueue,s.updateQueue=t,sa(s,t),Do(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Ne)return Ve(s),null}else 2*St()-l.renderingStartTime>ua&&r!==536870912&&(s.flags|=128,h=!0,Do(l,!1),s.lanes=4194304);l.isBackwards?(m.sibling=s.child,s.child=m):(t=l.last,t!==null?t.sibling=m:s.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=St(),t.sibling=null,r=Ke.current,O(Ke,h?r&1|2:r&1),Ne&&gn(s,l.treeForkCount),t):(Ve(s),null);case 22:case 23:return wt(s),uu(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(r&536870912)!==0&&(s.flags&128)===0&&(Ve(s),s.subtreeFlags&6&&(s.flags|=8192)):Ve(s),r=s.updateQueue,r!==null&&sa(s,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==r&&(s.flags|=2048),t!==null&&B(Pi),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),vn(Xe),Ve(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function N_(t,s){switch(Kl(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return vn(Xe),Ue(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Fn(s),null;case 31:if(s.memoizedState!==null){if(wt(s),s.alternate===null)throw Error(o(340));Di()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(wt(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(o(340));Di()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return B(Ke),null;case 4:return Ue(),null;case 10:return vn(s.type),null;case 22:case 23:return wt(s),uu(),t!==null&&B(Pi),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return vn(Xe),null;case 25:return null;default:return null}}function xp(t,s){switch(Kl(s),s.tag){case 3:vn(Xe),Ue();break;case 26:case 27:case 5:Fn(s);break;case 4:Ue();break;case 31:s.memoizedState!==null&&wt(s);break;case 13:wt(s);break;case 19:B(Ke);break;case 10:vn(s.type);break;case 22:case 23:wt(s),uu(),t!==null&&B(Pi);break;case 24:vn(Xe)}}function ko(t,s){try{var r=s.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var m=r.create,_=r.inst;l=m(),_.destroy=l}r=r.next}while(r!==h)}}catch(E){Le(s,s.return,E)}}function ti(t,s,r){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&t)===t){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=s;var C=r,D=E;try{D()}catch(H){Le(h,C,H)}}}l=l.next}while(l!==m)}}catch(H){Le(s,s.return,H)}}function _p(t){var s=t.updateQueue;if(s!==null){var r=t.stateNode;try{ch(s,r)}catch(l){Le(t,t.return,l)}}}function Tp(t,s,r){r.props=Hi(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Le(t,s,l)}}function Uo(t,s){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){Le(t,s,h)}}function sn(t,s){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Le(t,s,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Le(t,s,h)}else r.current=null}function Sp(t){var s=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Le(t,t.return,h)}}function zu(t,s,r){try{var l=t.stateNode;$_(l,t.type,r,s),l[mt]=s}catch(h){Le(t,t.return,h)}}function Ep(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&li(t.type)||t.tag===4}function qu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ep(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&li(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vu(t,s,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(t),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=hn));else if(l!==4&&(l===27&&li(t.type)&&(r=t.stateNode,s=null),t=t.child,t!==null))for(Vu(t,s,r),t=t.sibling;t!==null;)Vu(t,s,r),t=t.sibling}function oa(t,s,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(l!==4&&(l===27&&li(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(oa(t,s,r),t=t.sibling;t!==null;)oa(t,s,r),t=t.sibling}function bp(t){var s=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);lt(s,l,r),s[st]=t,s[mt]=r}catch(m){Le(t,t.return,m)}}var En=!1,Ze=!1,Gu=!1,Cp=typeof WeakSet=="function"?WeakSet:Set,it=null;function w_(t,s){if(t=t.containerInfo,dc=Aa,t=Bf(t),Bl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var _=0,E=-1,C=-1,D=0,H=0,q=t,k=null;t:for(;;){for(var L;q!==r||h!==0&&q.nodeType!==3||(E=_+h),q!==m||l!==0&&q.nodeType!==3||(C=_+l),q.nodeType===3&&(_+=q.nodeValue.length),(L=q.firstChild)!==null;)k=q,q=L;for(;;){if(q===t)break t;if(k===r&&++D===h&&(E=_),k===m&&++H===l&&(C=_),(L=q.nextSibling)!==null)break;q=k,k=q.parentNode}q=L}r=E===-1||C===-1?null:{start:E,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(fc={focusedElem:t,selectionRange:r},Aa=!1,it=s;it!==null;)if(s=it,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,it=t;else for(;it!==null;){switch(s=it,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,r=s,h=m.memoizedProps,m=m.memoizedState,l=r.stateNode;try{var le=Hi(r.type,h);t=l.getSnapshotBeforeUpdate(le,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(me){Le(r,r.return,me)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,r=t.nodeType,r===9)mc(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":mc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=s.sibling,t!==null){t.return=s.return,it=t;break}it=s.return}}function Ap(t,s,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Cn(t,r),l&4&&ko(5,r);break;case 1:if(Cn(t,r),l&4)if(t=r.stateNode,s===null)try{t.componentDidMount()}catch(_){Le(r,r.return,_)}else{var h=Hi(r.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(h,s,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Le(r,r.return,_)}}l&64&&_p(r),l&512&&Uo(r,r.return);break;case 3:if(Cn(t,r),l&64&&(t=r.updateQueue,t!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{ch(t,s)}catch(_){Le(r,r.return,_)}}break;case 27:s===null&&l&4&&bp(r);case 26:case 5:Cn(t,r),s===null&&l&4&&Sp(r),l&512&&Uo(r,r.return);break;case 12:Cn(t,r);break;case 31:Cn(t,r),l&4&&Ip(t,r);break;case 13:Cn(t,r),l&4&&Rp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=B_.bind(null,r),iT(t,r))));break;case 22:if(l=r.memoizedState!==null||En,!l){s=s!==null&&s.memoizedState!==null||Ze,h=En;var m=Ze;En=l,(Ze=s)&&!m?An(t,r,(r.subtreeFlags&8772)!==0):Cn(t,r),En=h,Ze=m}break;case 30:break;default:Cn(t,r)}}function Np(t){var s=t.alternate;s!==null&&(t.alternate=null,Np(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&_l(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var je=null,yt=!1;function bn(t,s,r){for(r=r.child;r!==null;)wp(t,s,r),r=r.sibling}function wp(t,s,r){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(io,r)}catch{}switch(r.tag){case 26:Ze||sn(r,s),bn(t,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ze||sn(r,s);var l=je,h=yt;li(r.type)&&(je=r.stateNode,yt=!1),bn(t,s,r),Vo(r.stateNode),je=l,yt=h;break;case 5:Ze||sn(r,s);case 6:if(l=je,h=yt,je=null,bn(t,s,r),je=l,yt=h,je!==null)if(yt)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(r.stateNode)}catch(m){Le(r,s,m)}else try{je.removeChild(r.stateNode)}catch(m){Le(r,s,m)}break;case 18:je!==null&&(yt?(t=je,_m(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ls(t)):_m(je,r.stateNode));break;case 4:l=je,h=yt,je=r.stateNode.containerInfo,yt=!0,bn(t,s,r),je=l,yt=h;break;case 0:case 11:case 14:case 15:ti(2,r,s),Ze||ti(4,r,s),bn(t,s,r);break;case 1:Ze||(sn(r,s),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Tp(r,s,l)),bn(t,s,r);break;case 21:bn(t,s,r);break;case 22:Ze=(l=Ze)||r.memoizedState!==null,bn(t,s,r),Ze=l;break;default:bn(t,s,r)}}function Ip(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ls(t)}catch(r){Le(s,s.return,r)}}}function Rp(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ls(t)}catch(r){Le(s,s.return,r)}}function I_(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Cp),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Cp),s;default:throw Error(o(435,t.tag))}}function ra(t,s){var r=I_(t);s.forEach(function(l){if(!r.has(l)){r.add(l);var h=F_.bind(null,t,l);l.then(h,h)}})}function vt(t,s){var r=s.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],m=t,_=s,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(li(E.type)){je=E.stateNode,yt=!1;break e}break;case 5:je=E.stateNode,yt=!1;break e;case 3:case 4:je=E.stateNode.containerInfo,yt=!0;break e}E=E.return}if(je===null)throw Error(o(160));wp(m,_,h),je=null,yt=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Mp(s,t),s=s.sibling}var Kt=null;function Mp(t,s){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vt(s,t),xt(t),l&4&&(ti(3,t,t.return),ko(3,t),ti(5,t,t.return));break;case 1:vt(s,t),xt(t),l&512&&(Ze||r===null||sn(r,r.return)),l&64&&En&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Kt;if(vt(s,t),xt(t),l&512&&(Ze||r===null||sn(r,r.return)),l&4){var m=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[ro]||m[st]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),lt(m,l,r),m[st]=t,nt(m),l=m;break e;case"link":var _=Mm("link","href",h).get(l+(r.href||""));if(_){for(var E=0;E<_.length;E++)if(m=_[E],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(E,1);break t}}m=h.createElement(l),lt(m,l,r),h.head.appendChild(m);break;case"meta":if(_=Mm("meta","content",h).get(l+(r.content||""))){for(E=0;E<_.length;E++)if(m=_[E],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(E,1);break t}}m=h.createElement(l),lt(m,l,r),h.head.appendChild(m);break;default:throw Error(o(468,l))}m[st]=t,nt(m),l=m}t.stateNode=l}else Dm(h,t.type,t.stateNode);else t.stateNode=Rm(h,l,t.memoizedProps);else m!==l?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,l===null?Dm(h,t.type,t.stateNode):Rm(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&zu(t,t.memoizedProps,r.memoizedProps)}break;case 27:vt(s,t),xt(t),l&512&&(Ze||r===null||sn(r,r.return)),r!==null&&l&4&&zu(t,t.memoizedProps,r.memoizedProps);break;case 5:if(vt(s,t),xt(t),l&512&&(Ze||r===null||sn(r,r.return)),t.flags&32){h=t.stateNode;try{os(h,"")}catch(le){Le(t,t.return,le)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,zu(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Gu=!0);break;case 6:if(vt(s,t),xt(t),l&4){if(t.stateNode===null)throw Error(o(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(le){Le(t,t.return,le)}}break;case 3:if(Sa=null,h=Kt,Kt=_a(s.containerInfo),vt(s,t),Kt=h,xt(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ls(s.containerInfo)}catch(le){Le(t,t.return,le)}Gu&&(Gu=!1,Dp(t));break;case 4:l=Kt,Kt=_a(t.stateNode.containerInfo),vt(s,t),xt(t),Kt=l;break;case 12:vt(s,t),xt(t);break;case 31:vt(s,t),xt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ra(t,l)));break;case 13:vt(s,t),xt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(la=St()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ra(t,l)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,D=En,H=Ze;if(En=D||h,Ze=H||C,vt(s,t),Ze=H,En=D,xt(t),l&8192)e:for(s=t.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(r===null||C||En||Ze||zi(t)),r=null,s=t;;){if(s.tag===5||s.tag===26){if(r===null){C=r=s;try{if(m=C.stateNode,h)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=C.stateNode;var q=C.memoizedProps.style,k=q!=null&&q.hasOwnProperty("display")?q.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(le){Le(C,C.return,le)}}}else if(s.tag===6){if(r===null){C=s;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(le){Le(C,C.return,le)}}}else if(s.tag===18){if(r===null){C=s;try{var L=C.stateNode;h?Tm(L,!0):Tm(C.stateNode,!1)}catch(le){Le(C,C.return,le)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,ra(t,r))));break;case 19:vt(s,t),xt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ra(t,l)));break;case 30:break;case 21:break;default:vt(s,t),xt(t)}}function xt(t){var s=t.flags;if(s&2){try{for(var r,l=t.return;l!==null;){if(Ep(l)){r=l;break}l=l.return}if(r==null)throw Error(o(160));switch(r.tag){case 27:var h=r.stateNode,m=qu(t);oa(t,m,h);break;case 5:var _=r.stateNode;r.flags&32&&(os(_,""),r.flags&=-33);var E=qu(t);oa(t,E,_);break;case 3:case 4:var C=r.stateNode.containerInfo,D=qu(t);Vu(t,D,C);break;default:throw Error(o(161))}}catch(H){Le(t,t.return,H)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Dp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Dp(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Cn(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Ap(t,s.alternate,s),s=s.sibling}function zi(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:ti(4,s,s.return),zi(s);break;case 1:sn(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&Tp(s,s.return,r),zi(s);break;case 27:Vo(s.stateNode);case 26:case 5:sn(s,s.return),zi(s);break;case 22:s.memoizedState===null&&zi(s);break;case 30:zi(s);break;default:zi(s)}t=t.sibling}}function An(t,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,h=t,m=s,_=m.flags;switch(m.tag){case 0:case 11:case 15:An(h,m,r),ko(4,m);break;case 1:if(An(h,m,r),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(D){Le(l,l.return,D)}if(l=m,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)uh(C[h],E)}catch(D){Le(l,l.return,D)}}r&&_&64&&_p(m),Uo(m,m.return);break;case 27:bp(m);case 26:case 5:An(h,m,r),r&&l===null&&_&4&&Sp(m),Uo(m,m.return);break;case 12:An(h,m,r);break;case 31:An(h,m,r),r&&_&4&&Ip(h,m);break;case 13:An(h,m,r),r&&_&4&&Rp(h,m);break;case 22:m.memoizedState===null&&An(h,m,r),Uo(m,m.return);break;case 30:break;default:An(h,m,r)}s=s.sibling}}function ju(t,s){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&_o(r))}function Yu(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&_o(t))}function $t(t,s,r,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)kp(t,s,r,l),s=s.sibling}function kp(t,s,r,l){var h=s.flags;switch(s.tag){case 0:case 11:case 15:$t(t,s,r,l),h&2048&&ko(9,s);break;case 1:$t(t,s,r,l);break;case 3:$t(t,s,r,l),h&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&_o(t)));break;case 12:if(h&2048){$t(t,s,r,l),t=s.stateNode;try{var m=s.memoizedProps,_=m.id,E=m.onPostCommit;typeof E=="function"&&E(_,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Le(s,s.return,C)}}else $t(t,s,r,l);break;case 31:$t(t,s,r,l);break;case 13:$t(t,s,r,l);break;case 23:break;case 22:m=s.stateNode,_=s.alternate,s.memoizedState!==null?m._visibility&2?$t(t,s,r,l):Po(t,s):m._visibility&2?$t(t,s,r,l):(m._visibility|=2,Cs(t,s,r,l,(s.subtreeFlags&10256)!==0||!1)),h&2048&&ju(_,s);break;case 24:$t(t,s,r,l),h&2048&&Yu(s.alternate,s);break;default:$t(t,s,r,l)}}function Cs(t,s,r,l,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,_=s,E=r,C=l,D=_.flags;switch(_.tag){case 0:case 11:case 15:Cs(m,_,E,C,h),ko(8,_);break;case 23:break;case 22:var H=_.stateNode;_.memoizedState!==null?H._visibility&2?Cs(m,_,E,C,h):Po(m,_):(H._visibility|=2,Cs(m,_,E,C,h)),h&&D&2048&&ju(_.alternate,_);break;case 24:Cs(m,_,E,C,h),h&&D&2048&&Yu(_.alternate,_);break;default:Cs(m,_,E,C,h)}s=s.sibling}}function Po(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=t,l=s,h=l.flags;switch(l.tag){case 22:Po(r,l),h&2048&&ju(l.alternate,l);break;case 24:Po(r,l),h&2048&&Yu(l.alternate,l);break;default:Po(r,l)}s=s.sibling}}var Lo=8192;function As(t,s,r){if(t.subtreeFlags&Lo)for(t=t.child;t!==null;)Up(t,s,r),t=t.sibling}function Up(t,s,r){switch(t.tag){case 26:As(t,s,r),t.flags&Lo&&t.memoizedState!==null&&mT(r,Kt,t.memoizedState,t.memoizedProps);break;case 5:As(t,s,r);break;case 3:case 4:var l=Kt;Kt=_a(t.stateNode.containerInfo),As(t,s,r),Kt=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Lo,Lo=16777216,As(t,s,r),Lo=l):As(t,s,r));break;default:As(t,s,r)}}function Pp(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Bo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var l=s[r];it=l,Bp(l,t)}Pp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Lp(t),t=t.sibling}function Lp(t){switch(t.tag){case 0:case 11:case 15:Bo(t),t.flags&2048&&ti(9,t,t.return);break;case 3:Bo(t);break;case 12:Bo(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,aa(t)):Bo(t);break;default:Bo(t)}}function aa(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var l=s[r];it=l,Bp(l,t)}Pp(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:ti(8,s,s.return),aa(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,aa(s));break;default:aa(s)}t=t.sibling}}function Bp(t,s){for(;it!==null;){var r=it;switch(r.tag){case 0:case 11:case 15:ti(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_o(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,it=l;else e:for(r=t;it!==null;){l=it;var h=l.sibling,m=l.return;if(Np(l),l===r){it=null;break e}if(h!==null){h.return=m,it=h;break e}it=m}}}var R_={getCacheForType:function(t){var s=rt(Xe),r=s.data.get(t);return r===void 0&&(r=t(),s.data.set(t,r)),r},cacheSignal:function(){return rt(Xe).controller.signal}},M_=typeof WeakMap=="function"?WeakMap:Map,ke=0,He=null,Ee=null,Ce=0,Pe=0,It=null,ni=!1,Ns=!1,Ju=!1,Nn=0,Je=0,ii=0,qi=0,Ku=0,Rt=0,ws=0,Fo=null,_t=null,$u=!1,la=0,Fp=0,ua=1/0,ca=null,si=null,tt=0,oi=null,Is=null,wn=0,Xu=0,Qu=null,Op=null,Oo=0,Wu=null;function Mt(){return(ke&2)!==0&&Ce!==0?Ce&-Ce:N.T!==null?sc():ef()}function Hp(){if(Rt===0)if((Ce&536870912)===0||Ne){var t=vr;vr<<=1,(vr&3932160)===0&&(vr=262144),Rt=t}else Rt=536870912;return t=Nt.current,t!==null&&(t.flags|=32),Rt}function Tt(t,s,r){(t===He&&(Pe===2||Pe===9)||t.cancelPendingCommit!==null)&&(Rs(t,0),ri(t,Ce,Rt,!1)),oo(t,r),((ke&2)===0||t!==He)&&(t===He&&((ke&2)===0&&(qi|=r),Je===4&&ri(t,Ce,Rt,!1)),on(t))}function zp(t,s,r){if((ke&6)!==0)throw Error(o(327));var l=!r&&(s&127)===0&&(s&t.expiredLanes)===0||so(t,s),h=l?U_(t,s):ec(t,s,!0),m=l;do{if(h===0){Ns&&!l&&ri(t,s,0,!1);break}else{if(r=t.current.alternate,m&&!D_(r)){h=ec(t,s,!1),m=!1;continue}if(h===2){if(m=s,t.errorRecoveryDisabledLanes&m)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var E=t;h=Fo;var C=E.current.memoizedState.isDehydrated;if(C&&(Rs(E,_).flags|=256),_=ec(E,_,!1),_!==2){if(Ju&&!C){E.errorRecoveryDisabledLanes|=m,qi|=m,h=4;break e}m=_t,_t=h,m!==null&&(_t===null?_t=m:_t.push.apply(_t,m))}h=_}if(m=!1,h!==2)continue}}if(h===1){Rs(t,0),ri(t,s,0,!0);break}e:{switch(l=t,m=h,m){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:ri(l,s,Rt,!ni);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(h=la+300-St(),10<h)){if(ri(l,s,Rt,!ni),_r(l,0,!0)!==0)break e;wn=s,l.timeoutHandle=vm(qp.bind(null,l,r,_t,ca,$u,s,Rt,qi,ws,ni,m,"Throttled",-0,0),h);break e}qp(l,r,_t,ca,$u,s,Rt,qi,ws,ni,m,null,-0,0)}}break}while(!0);on(t)}function qp(t,s,r,l,h,m,_,E,C,D,H,q,k,L){if(t.timeoutHandle=-1,q=s.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hn},Up(s,m,q);var le=(m&62914560)===m?la-St():(m&4194048)===m?Fp-St():0;if(le=gT(q,le),le!==null){wn=m,t.cancelPendingCommit=le(Xp.bind(null,t,s,m,r,l,h,_,E,C,H,q,null,k,L)),ri(t,m,_,!D);return}}Xp(t,s,m,r,l,h,_,E,C)}function D_(t){for(var s=t;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],m=h.getSnapshot;h=h.value;try{if(!Ct(m(),h))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ri(t,s,r,l){s&=~Ku,s&=~qi,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var h=s;0<h;){var m=31-bt(h),_=1<<m;l[m]=-1,h&=~_}r!==0&&Qd(t,r,s)}function da(){return(ke&6)===0?(Ho(0),!1):!0}function Zu(){if(Ee!==null){if(Pe===0)var t=Ee.return;else t=Ee,yn=ki=null,mu(t),_s=null,So=0,t=Ee;for(;t!==null;)xp(t.alternate,t),t=t.return;Ee=null}}function Rs(t,s){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,W_(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),wn=0,Zu(),He=t,Ee=r=mn(t.current,null),Ce=s,Pe=0,It=null,ni=!1,Ns=so(t,s),Ju=!1,ws=Rt=Ku=qi=ii=Je=0,_t=Fo=null,$u=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var h=31-bt(l),m=1<<h;s|=t[h],l&=~m}return Nn=s,Dr(),r}function Vp(t,s){_e=null,N.H=Ro,s===xs||s===Hr?(s=oh(),Pe=3):s===iu?(s=oh(),Pe=4):Pe=s===Mu?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,It=s,Ee===null&&(Je=1,ea(t,Lt(s,t.current)))}function Gp(){var t=Nt.current;return t===null?!0:(Ce&4194048)===Ce?Ht===null:(Ce&62914560)===Ce||(Ce&536870912)!==0?t===Ht:!1}function jp(){var t=N.H;return N.H=Ro,t===null?Ro:t}function Yp(){var t=N.A;return N.A=R_,t}function fa(){Je=4,ni||(Ce&4194048)!==Ce&&Nt.current!==null||(Ns=!0),(ii&134217727)===0&&(qi&134217727)===0||He===null||ri(He,Ce,Rt,!1)}function ec(t,s,r){var l=ke;ke|=2;var h=jp(),m=Yp();(He!==t||Ce!==s)&&(ca=null,Rs(t,s)),s=!1;var _=Je;e:do try{if(Pe!==0&&Ee!==null){var E=Ee,C=It;switch(Pe){case 8:Zu(),_=6;break e;case 3:case 2:case 9:case 6:Nt.current===null&&(s=!0);var D=Pe;if(Pe=0,It=null,Ms(t,E,C,D),r&&Ns){_=0;break e}break;default:D=Pe,Pe=0,It=null,Ms(t,E,C,D)}}k_(),_=Je;break}catch(H){Vp(t,H)}while(!0);return s&&t.shellSuspendCounter++,yn=ki=null,ke=l,N.H=h,N.A=m,Ee===null&&(He=null,Ce=0,Dr()),_}function k_(){for(;Ee!==null;)Jp(Ee)}function U_(t,s){var r=ke;ke|=2;var l=jp(),h=Yp();He!==t||Ce!==s?(ca=null,ua=St()+500,Rs(t,s)):Ns=so(t,s);e:do try{if(Pe!==0&&Ee!==null){s=Ee;var m=It;t:switch(Pe){case 1:Pe=0,It=null,Ms(t,s,m,1);break;case 2:case 9:if(ih(m)){Pe=0,It=null,Kp(s);break}s=function(){Pe!==2&&Pe!==9||He!==t||(Pe=7),on(t)},m.then(s,s);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:ih(m)?(Pe=0,It=null,Kp(s)):(Pe=0,It=null,Ms(t,s,m,7));break;case 5:var _=null;switch(Ee.tag){case 26:_=Ee.memoizedState;case 5:case 27:var E=Ee;if(_?km(_):E.stateNode.complete){Pe=0,It=null;var C=E.sibling;if(C!==null)Ee=C;else{var D=E.return;D!==null?(Ee=D,ha(D)):Ee=null}break t}}Pe=0,It=null,Ms(t,s,m,5);break;case 6:Pe=0,It=null,Ms(t,s,m,6);break;case 8:Zu(),Je=6;break e;default:throw Error(o(462))}}P_();break}catch(H){Vp(t,H)}while(!0);return yn=ki=null,N.H=l,N.A=h,ke=r,Ee!==null?0:(He=null,Ce=0,Dr(),Je)}function P_(){for(;Ee!==null&&!sx();)Jp(Ee)}function Jp(t){var s=yp(t.alternate,t,Nn);t.memoizedProps=t.pendingProps,s===null?ha(t):Ee=s}function Kp(t){var s=t,r=s.alternate;switch(s.tag){case 15:case 0:s=dp(r,s,s.pendingProps,s.type,void 0,Ce);break;case 11:s=dp(r,s,s.pendingProps,s.type.render,s.ref,Ce);break;case 5:mu(s);default:xp(r,s),s=Ee=Yf(s,Nn),s=yp(r,s,Nn)}t.memoizedProps=t.pendingProps,s===null?ha(t):Ee=s}function Ms(t,s,r,l){yn=ki=null,mu(s),_s=null,So=0;var h=s.return;try{if(E_(t,h,s,r,Ce)){Je=1,ea(t,Lt(r,t.current)),Ee=null;return}}catch(m){if(h!==null)throw Ee=h,m;Je=1,ea(t,Lt(r,t.current)),Ee=null;return}s.flags&32768?(Ne||l===1?t=!0:Ns||(Ce&536870912)!==0?t=!1:(ni=t=!0,(l===2||l===9||l===3||l===6)&&(l=Nt.current,l!==null&&l.tag===13&&(l.flags|=16384))),$p(s,t)):ha(s)}function ha(t){var s=t;do{if((s.flags&32768)!==0){$p(s,ni);return}t=s.return;var r=A_(s.alternate,s,Nn);if(r!==null){Ee=r;return}if(s=s.sibling,s!==null){Ee=s;return}Ee=s=t}while(s!==null);Je===0&&(Je=5)}function $p(t,s){do{var r=N_(t.alternate,t);if(r!==null){r.flags&=32767,Ee=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(t=t.sibling,t!==null)){Ee=t;return}Ee=t=r}while(t!==null);Je=6,Ee=null}function Xp(t,s,r,l,h,m,_,E,C){t.cancelPendingCommit=null;do pa();while(tt!==0);if((ke&6)!==0)throw Error(o(327));if(s!==null){if(s===t.current)throw Error(o(177));if(m=s.lanes|s.childLanes,m|=ql,px(t,r,m,_,E,C),t===He&&(Ee=He=null,Ce=0),Is=s,oi=t,wn=r,Xu=m,Qu=h,Op=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,O_(gr,function(){return tm(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=N.T,N.T=null,h=V.p,V.p=2,_=ke,ke|=4;try{w_(t,s,r)}finally{ke=_,V.p=h,N.T=l}}tt=1,Qp(),Wp(),Zp()}}function Qp(){if(tt===1){tt=0;var t=oi,s=Is,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=N.T,N.T=null;var l=V.p;V.p=2;var h=ke;ke|=4;try{Mp(s,t);var m=fc,_=Bf(t.containerInfo),E=m.focusedElem,C=m.selectionRange;if(_!==E&&E&&E.ownerDocument&&Lf(E.ownerDocument.documentElement,E)){if(C!==null&&Bl(E)){var D=C.start,H=C.end;if(H===void 0&&(H=D),"selectionStart"in E)E.selectionStart=D,E.selectionEnd=Math.min(H,E.value.length);else{var q=E.ownerDocument||document,k=q&&q.defaultView||window;if(k.getSelection){var L=k.getSelection(),le=E.textContent.length,me=Math.min(C.start,le),Oe=C.end===void 0?me:Math.min(C.end,le);!L.extend&&me>Oe&&(_=Oe,Oe=me,me=_);var I=Pf(E,me),w=Pf(E,Oe);if(I&&w&&(L.rangeCount!==1||L.anchorNode!==I.node||L.anchorOffset!==I.offset||L.focusNode!==w.node||L.focusOffset!==w.offset)){var R=q.createRange();R.setStart(I.node,I.offset),L.removeAllRanges(),me>Oe?(L.addRange(R),L.extend(w.node,w.offset)):(R.setEnd(w.node,w.offset),L.addRange(R))}}}}for(q=[],L=E;L=L.parentNode;)L.nodeType===1&&q.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<q.length;E++){var z=q[E];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Aa=!!dc,fc=dc=null}finally{ke=h,V.p=l,N.T=r}}t.current=s,tt=2}}function Wp(){if(tt===2){tt=0;var t=oi,s=Is,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=N.T,N.T=null;var l=V.p;V.p=2;var h=ke;ke|=4;try{Ap(t,s.alternate,s)}finally{ke=h,V.p=l,N.T=r}}tt=3}}function Zp(){if(tt===4||tt===3){tt=0,ox();var t=oi,s=Is,r=wn,l=Op;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?tt=5:(tt=0,Is=oi=null,em(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(si=null),vl(r),s=s.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(io,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=N.T,h=V.p,V.p=2,N.T=null;try{for(var m=t.onRecoverableError,_=0;_<l.length;_++){var E=l[_];m(E.value,{componentStack:E.stack})}}finally{N.T=s,V.p=h}}(wn&3)!==0&&pa(),on(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===Wu?Oo++:(Oo=0,Wu=t):Oo=0,Ho(0)}}function em(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,_o(s)))}function pa(){return Qp(),Wp(),Zp(),tm()}function tm(){if(tt!==5)return!1;var t=oi,s=Xu;Xu=0;var r=vl(wn),l=N.T,h=V.p;try{V.p=32>r?32:r,N.T=null,r=Qu,Qu=null;var m=oi,_=wn;if(tt=0,Is=oi=null,wn=0,(ke&6)!==0)throw Error(o(331));var E=ke;if(ke|=4,Lp(m.current),kp(m,m.current,_,r),ke=E,Ho(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(io,m)}catch{}return!0}finally{V.p=h,N.T=l,em(t,s)}}function nm(t,s,r){s=Lt(r,s),s=Ru(t.stateNode,s,2),t=Wn(t,s,2),t!==null&&(oo(t,2),on(t))}function Le(t,s,r){if(t.tag===3)nm(t,t,r);else for(;s!==null;){if(s.tag===3){nm(s,t,r);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(si===null||!si.has(l))){t=Lt(r,t),r=ip(2),l=Wn(s,r,2),l!==null&&(sp(r,l,s,t),oo(l,2),on(l));break}}s=s.return}}function tc(t,s,r){var l=t.pingCache;if(l===null){l=t.pingCache=new M_;var h=new Set;l.set(s,h)}else h=l.get(s),h===void 0&&(h=new Set,l.set(s,h));h.has(r)||(Ju=!0,h.add(r),t=L_.bind(null,t,s,r),s.then(t,t))}function L_(t,s,r){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,He===t&&(Ce&r)===r&&(Je===4||Je===3&&(Ce&62914560)===Ce&&300>St()-la?(ke&2)===0&&Rs(t,0):Ku|=r,ws===Ce&&(ws=0)),on(t)}function im(t,s){s===0&&(s=Xd()),t=Ri(t,s),t!==null&&(oo(t,s),on(t))}function B_(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),im(t,r)}function F_(t,s){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(s),im(t,r)}function O_(t,s){return qn(t,s)}var ma=null,Ds=null,nc=!1,ga=!1,ic=!1,ai=0;function on(t){t!==Ds&&t.next===null&&(Ds===null?ma=Ds=t:Ds=Ds.next=t),ga=!0,nc||(nc=!0,z_())}function Ho(t,s){if(!ic&&ga){ic=!0;do for(var r=!1,l=ma;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var _=l.suspendedLanes,E=l.pingedLanes;m=(1<<31-bt(42|t)+1)-1,m&=h&~(_&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,am(l,m))}else m=Ce,m=_r(l,l===He?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||so(l,m)||(r=!0,am(l,m));l=l.next}while(r);ic=!1}}function H_(){sm()}function sm(){ga=nc=!1;var t=0;ai!==0&&Q_()&&(t=ai);for(var s=St(),r=null,l=ma;l!==null;){var h=l.next,m=om(l,s);m===0?(l.next=null,r===null?ma=h:r.next=h,h===null&&(Ds=r)):(r=l,(t!==0||(m&3)!==0)&&(ga=!0)),l=h}tt!==0&&tt!==5||Ho(t),ai!==0&&(ai=0)}function om(t,s){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var _=31-bt(m),E=1<<_,C=h[_];C===-1?((E&r)===0||(E&l)!==0)&&(h[_]=hx(E,s)):C<=s&&(t.expiredLanes|=E),m&=~E}if(s=He,r=Ce,r=_r(t,t===s?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===s&&(Pe===2||Pe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ml(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||so(t,r)){if(s=r&-r,s===t.callbackPriority)return s;switch(l!==null&&ml(l),vl(r)){case 2:case 8:r=Kd;break;case 32:r=gr;break;case 268435456:r=$d;break;default:r=gr}return l=rm.bind(null,t),r=qn(r,l),t.callbackPriority=s,t.callbackNode=r,s}return l!==null&&l!==null&&ml(l),t.callbackPriority=2,t.callbackNode=null,2}function rm(t,s){if(tt!==0&&tt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(pa()&&t.callbackNode!==r)return null;var l=Ce;return l=_r(t,t===He?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(zp(t,l,s),om(t,St()),t.callbackNode!=null&&t.callbackNode===r?rm.bind(null,t):null)}function am(t,s){if(pa())return null;zp(t,s,!0)}function z_(){Z_(function(){(ke&6)!==0?qn(Jd,H_):sm()})}function sc(){if(ai===0){var t=ys;t===0&&(t=yr,yr<<=1,(yr&261888)===0&&(yr=256)),ai=t}return ai}function lm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:br(""+t)}function um(t,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,t.id&&r.setAttribute("form",t.id),s.parentNode.insertBefore(r,s),t=new FormData(t),r.parentNode.removeChild(r),t}function q_(t,s,r,l,h){if(s==="submit"&&r&&r.stateNode===h){var m=lm((h[mt]||null).action),_=l.submitter;_&&(s=(s=_[mt]||null)?lm(s.formAction):_.getAttribute("formAction"),s!==null&&(m=s,_=null));var E=new wr("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ai!==0){var C=_?um(h,_):new FormData(h);bu(r,{pending:!0,data:C,method:h.method,action:m},null,C)}}else typeof m=="function"&&(E.preventDefault(),C=_?um(h,_):new FormData(h),bu(r,{pending:!0,data:C,method:h.method,action:m},m,C))},currentTarget:h}]})}}for(var oc=0;oc<zl.length;oc++){var rc=zl[oc],V_=rc.toLowerCase(),G_=rc[0].toUpperCase()+rc.slice(1);Jt(V_,"on"+G_)}Jt(Hf,"onAnimationEnd"),Jt(zf,"onAnimationIteration"),Jt(qf,"onAnimationStart"),Jt("dblclick","onDoubleClick"),Jt("focusin","onFocus"),Jt("focusout","onBlur"),Jt(r_,"onTransitionRun"),Jt(a_,"onTransitionStart"),Jt(l_,"onTransitionCancel"),Jt(Vf,"onTransitionEnd"),is("onMouseEnter",["mouseout","mouseover"]),is("onMouseLeave",["mouseout","mouseover"]),is("onPointerEnter",["pointerout","pointerover"]),is("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zo));function cm(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var _=l.length-1;0<=_;_--){var E=l[_],C=E.instance,D=E.currentTarget;if(E=E.listener,C!==m&&h.isPropagationStopped())break e;m=E,h.currentTarget=D;try{m(h)}catch(H){Mr(H)}h.currentTarget=null,m=C}else for(_=0;_<l.length;_++){if(E=l[_],C=E.instance,D=E.currentTarget,E=E.listener,C!==m&&h.isPropagationStopped())break e;m=E,h.currentTarget=D;try{m(h)}catch(H){Mr(H)}h.currentTarget=null,m=C}}}}function be(t,s){var r=s[xl];r===void 0&&(r=s[xl]=new Set);var l=t+"__bubble";r.has(l)||(dm(s,t,2,!1),r.add(l))}function ac(t,s,r){var l=0;s&&(l|=4),dm(r,t,l,s)}var ya="_reactListening"+Math.random().toString(36).slice(2);function lc(t){if(!t[ya]){t[ya]=!0,sf.forEach(function(r){r!=="selectionchange"&&(j_.has(r)||ac(r,!1,t),ac(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[ya]||(s[ya]=!0,ac("selectionchange",!1,s))}}function dm(t,s,r,l){switch(Hm(s)){case 2:var h=xT;break;case 8:h=_T;break;default:h=Ec}r=h.bind(null,s,r,t),h=void 0,!wl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(s,r,{capture:!0,passive:h}):t.addEventListener(s,r,!0):h!==void 0?t.addEventListener(s,r,{passive:h}):t.addEventListener(s,r,!1)}function uc(t,s,r,l,h){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=es(E),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=m=_;continue e}E=E.parentNode}}l=l.return}gf(function(){var D=m,H=Al(r),q=[];e:{var k=Gf.get(t);if(k!==void 0){var L=wr,le=t;switch(t){case"keypress":if(Ar(r)===0)break e;case"keydown":case"keyup":L=Fx;break;case"focusin":le="focus",L=Dl;break;case"focusout":le="blur",L=Dl;break;case"beforeblur":case"afterblur":L=Dl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=xf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=Ax;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=zx;break;case Hf:case zf:case qf:L=Ix;break;case Vf:L=Vx;break;case"scroll":case"scrollend":L=bx;break;case"wheel":L=jx;break;case"copy":case"cut":case"paste":L=Mx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Tf;break;case"toggle":case"beforetoggle":L=Jx}var me=(s&4)!==0,Oe=!me&&(t==="scroll"||t==="scrollend"),I=me?k!==null?k+"Capture":null:k;me=[];for(var w=D,R;w!==null;){var z=w;if(R=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||R===null||I===null||(z=lo(w,I),z!=null&&me.push(qo(w,z,R))),Oe)break;w=w.return}0<me.length&&(k=new L(k,le,null,r,H),q.push({event:k,listeners:me}))}}if((s&7)===0){e:{if(k=t==="mouseover"||t==="pointerover",L=t==="mouseout"||t==="pointerout",k&&r!==Cl&&(le=r.relatedTarget||r.fromElement)&&(es(le)||le[Zi]))break e;if((L||k)&&(k=H.window===H?H:(k=H.ownerDocument)?k.defaultView||k.parentWindow:window,L?(le=r.relatedTarget||r.toElement,L=D,le=le?es(le):null,le!==null&&(Oe=u(le),me=le.tag,le!==Oe||me!==5&&me!==27&&me!==6)&&(le=null)):(L=null,le=D),L!==le)){if(me=xf,z="onMouseLeave",I="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(me=Tf,z="onPointerLeave",I="onPointerEnter",w="pointer"),Oe=L==null?k:ao(L),R=le==null?k:ao(le),k=new me(z,w+"leave",L,r,H),k.target=Oe,k.relatedTarget=R,z=null,es(H)===D&&(me=new me(I,w+"enter",le,r,H),me.target=R,me.relatedTarget=Oe,z=me),Oe=z,L&&le)t:{for(me=Y_,I=L,w=le,R=0,z=I;z;z=me(z))R++;z=0;for(var de=w;de;de=me(de))z++;for(;0<R-z;)I=me(I),R--;for(;0<z-R;)w=me(w),z--;for(;R--;){if(I===w||w!==null&&I===w.alternate){me=I;break t}I=me(I),w=me(w)}me=null}else me=null;L!==null&&fm(q,k,L,me,!1),le!==null&&Oe!==null&&fm(q,Oe,le,me,!0)}}e:{if(k=D?ao(D):window,L=k.nodeName&&k.nodeName.toLowerCase(),L==="select"||L==="input"&&k.type==="file")var Re=If;else if(Nf(k))if(Rf)Re=i_;else{Re=t_;var ue=e_}else L=k.nodeName,!L||L.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?D&&bl(D.elementType)&&(Re=If):Re=n_;if(Re&&(Re=Re(t,D))){wf(q,Re,r,H);break e}ue&&ue(t,k,D),t==="focusout"&&D&&k.type==="number"&&D.memoizedProps.value!=null&&El(k,"number",k.value)}switch(ue=D?ao(D):window,t){case"focusin":(Nf(ue)||ue.contentEditable==="true")&&(us=ue,Fl=D,yo=null);break;case"focusout":yo=Fl=us=null;break;case"mousedown":Ol=!0;break;case"contextmenu":case"mouseup":case"dragend":Ol=!1,Ff(q,r,H);break;case"selectionchange":if(o_)break;case"keydown":case"keyup":Ff(q,r,H)}var Te;if(Ul)e:{switch(t){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else ls?Cf(t,r)&&(Ae="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ae="onCompositionStart");Ae&&(Sf&&r.locale!=="ko"&&(ls||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&ls&&(Te=yf()):(jn=H,Il="value"in jn?jn.value:jn.textContent,ls=!0)),ue=va(D,Ae),0<ue.length&&(Ae=new _f(Ae,t,null,r,H),q.push({event:Ae,listeners:ue}),Te?Ae.data=Te:(Te=Af(r),Te!==null&&(Ae.data=Te)))),(Te=$x?Xx(t,r):Qx(t,r))&&(Ae=va(D,"onBeforeInput"),0<Ae.length&&(ue=new _f("onBeforeInput","beforeinput",null,r,H),q.push({event:ue,listeners:Ae}),ue.data=Te)),q_(q,t,D,r,H)}cm(q,s)})}function qo(t,s,r){return{instance:t,listener:s,currentTarget:r}}function va(t,s){for(var r=s+"Capture",l=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=lo(t,r),h!=null&&l.unshift(qo(t,h,m)),h=lo(t,s),h!=null&&l.push(qo(t,h,m))),t.tag===3)return l;t=t.return}return[]}function Y_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function fm(t,s,r,l,h){for(var m=s._reactName,_=[];r!==null&&r!==l;){var E=r,C=E.alternate,D=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||D===null||(C=D,h?(D=lo(r,m),D!=null&&_.unshift(qo(r,D,C))):h||(D=lo(r,m),D!=null&&_.push(qo(r,D,C)))),r=r.return}_.length!==0&&t.push({event:s,listeners:_})}var J_=/\r\n?/g,K_=/\u0000|\uFFFD/g;function hm(t){return(typeof t=="string"?t:""+t).replace(J_,`
`).replace(K_,"")}function pm(t,s){return s=hm(s),hm(t)===s}function Fe(t,s,r,l,h,m){switch(r){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||os(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&os(t,""+l);break;case"className":Sr(t,"class",l);break;case"tabIndex":Sr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sr(t,r,l);break;case"style":pf(t,l,m);break;case"data":if(s!=="object"){Sr(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=br(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(s!=="input"&&Fe(t,s,"name",h.name,h,null),Fe(t,s,"formEncType",h.formEncType,h,null),Fe(t,s,"formMethod",h.formMethod,h,null),Fe(t,s,"formTarget",h.formTarget,h,null)):(Fe(t,s,"encType",h.encType,h,null),Fe(t,s,"method",h.method,h,null),Fe(t,s,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=br(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=hn);break;case"onScroll":l!=null&&be("scroll",t);break;case"onScrollEnd":l!=null&&be("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(o(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=br(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":be("beforetoggle",t),be("toggle",t),Tr(t,"popover",l);break;case"xlinkActuate":fn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":fn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":fn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":fn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":fn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":fn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":fn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":fn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":fn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Tr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Sx.get(r)||r,Tr(t,r,l))}}function cc(t,s,r,l,h,m){switch(r){case"style":pf(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(o(60));t.innerHTML=r}}break;case"children":typeof l=="string"?os(t,l):(typeof l=="number"||typeof l=="bigint")&&os(t,""+l);break;case"onScroll":l!=null&&be("scroll",t);break;case"onScrollEnd":l!=null&&be("scrollend",t);break;case"onClick":l!=null&&(t.onclick=hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!of.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),s=r.slice(2,h?r.length-7:void 0),m=t[mt]||null,m=m!=null?m[r]:null,typeof m=="function"&&t.removeEventListener(s,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(s,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Tr(t,r,l)}}}function lt(t,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",t),be("load",t);var l=!1,h=!1,m;for(m in r)if(r.hasOwnProperty(m)){var _=r[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Fe(t,s,m,_,r,null)}}h&&Fe(t,s,"srcSet",r.srcSet,r,null),l&&Fe(t,s,"src",r.src,r,null);return;case"input":be("invalid",t);var E=m=_=h=null,C=null,D=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":h=H;break;case"type":_=H;break;case"checked":C=H;break;case"defaultChecked":D=H;break;case"value":m=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(o(137,s));break;default:Fe(t,s,l,H,r,null)}}cf(t,m,E,C,D,_,h,!1);return;case"select":be("invalid",t),l=_=m=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":m=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:Fe(t,s,h,E,r,null)}s=m,r=_,t.multiple=!!l,s!=null?ss(t,!!l,s,!1):r!=null&&ss(t,!!l,r,!0);return;case"textarea":be("invalid",t),m=h=l=null;for(_ in r)if(r.hasOwnProperty(_)&&(E=r[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":h=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(o(91));break;default:Fe(t,s,_,E,r,null)}ff(t,l,h,m);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(l=r[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Fe(t,s,C,l,r,null)}return;case"dialog":be("beforetoggle",t),be("toggle",t),be("cancel",t),be("close",t);break;case"iframe":case"object":be("load",t);break;case"video":case"audio":for(l=0;l<zo.length;l++)be(zo[l],t);break;case"image":be("error",t),be("load",t);break;case"details":be("toggle",t);break;case"embed":case"source":case"link":be("error",t),be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in r)if(r.hasOwnProperty(D)&&(l=r[D],l!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Fe(t,s,D,l,r,null)}return;default:if(bl(s)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&cc(t,s,H,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Fe(t,s,E,l,r,null))}function $_(t,s,r,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,_=null,E=null,C=null,D=null,H=null;for(L in r){var q=r[L];if(r.hasOwnProperty(L)&&q!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":C=q;default:l.hasOwnProperty(L)||Fe(t,s,L,null,l,q)}}for(var k in l){var L=l[k];if(q=r[k],l.hasOwnProperty(k)&&(L!=null||q!=null))switch(k){case"type":m=L;break;case"name":h=L;break;case"checked":D=L;break;case"defaultChecked":H=L;break;case"value":_=L;break;case"defaultValue":E=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(o(137,s));break;default:L!==q&&Fe(t,s,k,L,l,q)}}Sl(t,_,E,C,D,H,m,h);return;case"select":L=_=E=k=null;for(m in r)if(C=r[m],r.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":L=C;default:l.hasOwnProperty(m)||Fe(t,s,m,null,l,C)}for(h in l)if(m=l[h],C=r[h],l.hasOwnProperty(h)&&(m!=null||C!=null))switch(h){case"value":k=m;break;case"defaultValue":E=m;break;case"multiple":_=m;default:m!==C&&Fe(t,s,h,m,l,C)}s=E,r=_,l=L,k!=null?ss(t,!!r,k,!1):!!l!=!!r&&(s!=null?ss(t,!!r,s,!0):ss(t,!!r,r?[]:"",!1));return;case"textarea":L=k=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Fe(t,s,E,null,l,h)}for(_ in l)if(h=l[_],m=r[_],l.hasOwnProperty(_)&&(h!=null||m!=null))switch(_){case"value":k=h;break;case"defaultValue":L=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(o(91));break;default:h!==m&&Fe(t,s,_,h,l,m)}df(t,k,L);return;case"option":for(var le in r)if(k=r[le],r.hasOwnProperty(le)&&k!=null&&!l.hasOwnProperty(le))switch(le){case"selected":t.selected=!1;break;default:Fe(t,s,le,null,l,k)}for(C in l)if(k=l[C],L=r[C],l.hasOwnProperty(C)&&k!==L&&(k!=null||L!=null))switch(C){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Fe(t,s,C,k,l,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in r)k=r[me],r.hasOwnProperty(me)&&k!=null&&!l.hasOwnProperty(me)&&Fe(t,s,me,null,l,k);for(D in l)if(k=l[D],L=r[D],l.hasOwnProperty(D)&&k!==L&&(k!=null||L!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(o(137,s));break;default:Fe(t,s,D,k,l,L)}return;default:if(bl(s)){for(var Oe in r)k=r[Oe],r.hasOwnProperty(Oe)&&k!==void 0&&!l.hasOwnProperty(Oe)&&cc(t,s,Oe,void 0,l,k);for(H in l)k=l[H],L=r[H],!l.hasOwnProperty(H)||k===L||k===void 0&&L===void 0||cc(t,s,H,k,l,L);return}}for(var I in r)k=r[I],r.hasOwnProperty(I)&&k!=null&&!l.hasOwnProperty(I)&&Fe(t,s,I,null,l,k);for(q in l)k=l[q],L=r[q],!l.hasOwnProperty(q)||k===L||k==null&&L==null||Fe(t,s,q,k,l,L)}function mm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function X_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],m=h.transferSize,_=h.initiatorType,E=h.duration;if(m&&E&&mm(_)){for(_=0,E=h.responseEnd,l+=1;l<r.length;l++){var C=r[l],D=C.startTime;if(D>E)break;var H=C.transferSize,q=C.initiatorType;H&&mm(q)&&(C=C.responseEnd,_+=H*(C<E?1:(E-D)/(C-D)))}if(--l,s+=8*(m+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var dc=null,fc=null;function xa(t){return t.nodeType===9?t:t.ownerDocument}function gm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ym(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function hc(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var pc=null;function Q_(){var t=window.event;return t&&t.type==="popstate"?t===pc?!1:(pc=t,!0):(pc=null,!1)}var vm=typeof setTimeout=="function"?setTimeout:void 0,W_=typeof clearTimeout=="function"?clearTimeout:void 0,xm=typeof Promise=="function"?Promise:void 0,Z_=typeof queueMicrotask=="function"?queueMicrotask:typeof xm<"u"?function(t){return xm.resolve(null).then(t).catch(eT)}:vm;function eT(t){setTimeout(function(){throw t})}function li(t){return t==="head"}function _m(t,s){var r=s,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Ls(s);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Vo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Vo(r);for(var m=r.firstChild;m;){var _=m.nextSibling,E=m.nodeName;m[ro]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||r.removeChild(m),m=_}}else r==="body"&&Vo(t.ownerDocument.body);r=h}while(r);Ls(s)}function Tm(t,s){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?s?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(s?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function mc(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":mc(r),_l(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function tT(t,s,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ro])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=zt(t.nextSibling),t===null)break}return null}function nT(t,s,r){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=zt(t.nextSibling),t===null))return null;return t}function Sm(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=zt(t.nextSibling),t===null))return null;return t}function gc(t){return t.data==="$?"||t.data==="$~"}function yc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function iT(t,s){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||r.readyState!=="loading")s();else{var l=function(){s(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zt(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var vc=null;function Em(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(s===0)return zt(t.nextSibling);s--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||s++}t=t.nextSibling}return null}function bm(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(s===0)return t;s--}else r!=="/$"&&r!=="/&"||s++}t=t.previousSibling}return null}function Cm(t,s,r){switch(s=xa(r),t){case"html":if(t=s.documentElement,!t)throw Error(o(452));return t;case"head":if(t=s.head,!t)throw Error(o(453));return t;case"body":if(t=s.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Vo(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);_l(t)}var qt=new Map,Am=new Set;function _a(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var In=V.d;V.d={f:sT,r:oT,D:rT,C:aT,L:lT,m:uT,X:dT,S:cT,M:fT};function sT(){var t=In.f(),s=da();return t||s}function oT(t){var s=ts(t);s!==null&&s.tag===5&&s.type==="form"?Vh(s):In.r(t)}var ks=typeof document>"u"?null:document;function Nm(t,s,r){var l=ks;if(l&&typeof s=="string"&&s){var h=Ut(s);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Am.has(h)||(Am.add(h),t={rel:t,crossOrigin:r,href:s},l.querySelector(h)===null&&(s=l.createElement("link"),lt(s,"link",t),nt(s),l.head.appendChild(s)))}}function rT(t){In.D(t),Nm("dns-prefetch",t,null)}function aT(t,s){In.C(t,s),Nm("preconnect",t,s)}function lT(t,s,r){In.L(t,s,r);var l=ks;if(l&&t&&s){var h='link[rel="preload"][as="'+Ut(s)+'"]';s==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Ut(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Ut(r.imageSizes)+'"]')):h+='[href="'+Ut(t)+'"]';var m=h;switch(s){case"style":m=Us(t);break;case"script":m=Ps(t)}qt.has(m)||(t=T({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:t,as:s},r),qt.set(m,t),l.querySelector(h)!==null||s==="style"&&l.querySelector(Go(m))||s==="script"&&l.querySelector(jo(m))||(s=l.createElement("link"),lt(s,"link",t),nt(s),l.head.appendChild(s)))}}function uT(t,s){In.m(t,s);var r=ks;if(r&&t){var l=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Ut(l)+'"][href="'+Ut(t)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Ps(t)}if(!qt.has(m)&&(t=T({rel:"modulepreload",href:t},s),qt.set(m,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(jo(m)))return}l=r.createElement("link"),lt(l,"link",t),nt(l),r.head.appendChild(l)}}}function cT(t,s,r){In.S(t,s,r);var l=ks;if(l&&t){var h=ns(l).hoistableStyles,m=Us(t);s=s||"default";var _=h.get(m);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(Go(m)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":s},r),(r=qt.get(m))&&xc(t,r);var C=_=l.createElement("link");nt(C),lt(C,"link",t),C._p=new Promise(function(D,H){C.onload=D,C.onerror=H}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ta(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(m,_)}}}function dT(t,s){In.X(t,s);var r=ks;if(r&&t){var l=ns(r).hoistableScripts,h=Ps(t),m=l.get(h);m||(m=r.querySelector(jo(h)),m||(t=T({src:t,async:!0},s),(s=qt.get(h))&&_c(t,s),m=r.createElement("script"),nt(m),lt(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function fT(t,s){In.M(t,s);var r=ks;if(r&&t){var l=ns(r).hoistableScripts,h=Ps(t),m=l.get(h);m||(m=r.querySelector(jo(h)),m||(t=T({src:t,async:!0,type:"module"},s),(s=qt.get(h))&&_c(t,s),m=r.createElement("script"),nt(m),lt(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function wm(t,s,r,l){var h=(h=ae.current)?_a(h):null;if(!h)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=Us(r.href),r=ns(h).hoistableStyles,l=r.get(s),l||(l={type:"style",instance:null,count:0,state:null},r.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Us(r.href);var m=ns(h).hoistableStyles,_=m.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,_),(m=h.querySelector(Go(t)))&&!m._p&&(_.instance=m,_.state.loading=5),qt.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},qt.set(t,r),m||hT(h,t,r,_.state))),s&&l===null)throw Error(o(528,""));return _}if(s&&l!==null)throw Error(o(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ps(r),r=ns(h).hoistableScripts,l=r.get(s),l||(l={type:"script",instance:null,count:0,state:null},r.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function Us(t){return'href="'+Ut(t)+'"'}function Go(t){return'link[rel="stylesheet"]['+t+"]"}function Im(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function hT(t,s,r,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),lt(s,"link",r),nt(s),t.head.appendChild(s))}function Ps(t){return'[src="'+Ut(t)+'"]'}function jo(t){return"script[async]"+t}function Rm(t,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+Ut(r.href)+'"]');if(l)return s.instance=l,nt(l),l;var h=T({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),nt(l),lt(l,"style",h),Ta(l,r.precedence,t),s.instance=l;case"stylesheet":h=Us(r.href);var m=t.querySelector(Go(h));if(m)return s.state.loading|=4,s.instance=m,nt(m),m;l=Im(r),(h=qt.get(h))&&xc(l,h),m=(t.ownerDocument||t).createElement("link"),nt(m);var _=m;return _._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),lt(m,"link",l),s.state.loading|=4,Ta(m,r.precedence,t),s.instance=m;case"script":return m=Ps(r.src),(h=t.querySelector(jo(m)))?(s.instance=h,nt(h),h):(l=r,(h=qt.get(m))&&(l=T({},r),_c(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),nt(h),lt(h,"link",l),t.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Ta(l,r.precedence,t));return s.instance}function Ta(t,s,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===s)m=E;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(t,s.firstChild))}function xc(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function _c(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Sa=null;function Mm(t,s,r){if(Sa===null){var l=new Map,h=Sa=new Map;h.set(r,l)}else h=Sa,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var m=r[h];if(!(m[ro]||m[st]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(s)||"";_=t+_;var E=l.get(_);E?E.push(m):l.set(_,[m])}}return l}function Dm(t,s,r){t=t.ownerDocument||t,t.head.insertBefore(r,s==="title"?t.querySelector("head > title"):null)}function pT(t,s,r){if(r===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function km(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function mT(t,s,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Us(l.href),m=s.querySelector(Go(h));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Ea.bind(t),s.then(t,t)),r.state.loading|=4,r.instance=m,nt(m);return}m=s.ownerDocument||s,l=Im(l),(h=qt.get(h))&&xc(l,h),m=m.createElement("link"),nt(m);var _=m;_._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),lt(m,"link",l),r.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Ea.bind(t),s.addEventListener("load",r),s.addEventListener("error",r))}}var Tc=0;function gT(t,s){return t.stylesheets&&t.count===0&&Ca(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Ca(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&Tc===0&&(Tc=62500*X_());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ca(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Tc?50:800)+s);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ea(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ca(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ba=null;function Ca(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ba=new Map,s.forEach(yT,t),ba=null,Ea.call(t))}function yT(t,s){if(!(s.state.loading&4)){var r=ba.get(t);if(r)var l=r.get(null);else{r=new Map,ba.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var _=h[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),l=_)}l&&r.set(null,l)}h=s.instance,_=h.getAttribute("data-precedence"),m=r.get(_)||l,m===l&&r.set(null,h),r.set(_,h),this.count++,l=Ea.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),s.state.loading|=4}}var Yo={$$typeof:P,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function vT(t,s,r,l,h,m,_,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gl(0),this.hiddenUpdates=gl(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Um(t,s,r,l,h,m,_,E,C,D,H,q){return t=new vT(t,s,r,_,C,D,H,q,E),s=1,m===!0&&(s|=24),m=At(3,null,null,s),t.current=m,m.stateNode=t,s=eu(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:r,cache:s},su(m),t}function Pm(t){return t?(t=fs,t):fs}function Lm(t,s,r,l,h,m){h=Pm(h),l.context===null?l.context=h:l.pendingContext=h,l=Qn(s),l.payload={element:r},m=m===void 0?null:m,m!==null&&(l.callback=m),r=Wn(t,l,s),r!==null&&(Tt(r,t,s),bo(r,t,s))}function Bm(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function Sc(t,s){Bm(t,s),(t=t.alternate)&&Bm(t,s)}function Fm(t){if(t.tag===13||t.tag===31){var s=Ri(t,67108864);s!==null&&Tt(s,t,67108864),Sc(t,67108864)}}function Om(t){if(t.tag===13||t.tag===31){var s=Mt();s=yl(s);var r=Ri(t,s);r!==null&&Tt(r,t,s),Sc(t,s)}}var Aa=!0;function xT(t,s,r,l){var h=N.T;N.T=null;var m=V.p;try{V.p=2,Ec(t,s,r,l)}finally{V.p=m,N.T=h}}function _T(t,s,r,l){var h=N.T;N.T=null;var m=V.p;try{V.p=8,Ec(t,s,r,l)}finally{V.p=m,N.T=h}}function Ec(t,s,r,l){if(Aa){var h=bc(l);if(h===null)uc(t,s,l,Na,r),zm(t,l);else if(ST(h,t,s,r,l))l.stopPropagation();else if(zm(t,l),s&4&&-1<TT.indexOf(t)){for(;h!==null;){var m=ts(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Ci(m.pendingLanes);if(_!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var C=1<<31-bt(_);E.entanglements[1]|=C,_&=~C}on(m),(ke&6)===0&&(ua=St()+500,Ho(0))}}break;case 31:case 13:E=Ri(m,2),E!==null&&Tt(E,m,2),da(),Sc(m,2)}if(m=bc(l),m===null&&uc(t,s,l,Na,r),m===h)break;h=m}h!==null&&l.stopPropagation()}else uc(t,s,l,null,r)}}function bc(t){return t=Al(t),Cc(t)}var Na=null;function Cc(t){if(Na=null,t=es(t),t!==null){var s=u(t);if(s===null)t=null;else{var r=s.tag;if(r===13){if(t=f(s),t!==null)return t;t=null}else if(r===31){if(t=g(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Na=t,null}function Hm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rx()){case Jd:return 2;case Kd:return 8;case gr:case ax:return 32;case $d:return 268435456;default:return 32}default:return 32}}var Ac=!1,ui=null,ci=null,di=null,Jo=new Map,Ko=new Map,fi=[],TT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zm(t,s){switch(t){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":Jo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ko.delete(s.pointerId)}}function $o(t,s,r,l,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:r,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},s!==null&&(s=ts(s),s!==null&&Fm(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),t)}function ST(t,s,r,l,h){switch(s){case"focusin":return ui=$o(ui,t,s,r,l,h),!0;case"dragenter":return ci=$o(ci,t,s,r,l,h),!0;case"mouseover":return di=$o(di,t,s,r,l,h),!0;case"pointerover":var m=h.pointerId;return Jo.set(m,$o(Jo.get(m)||null,t,s,r,l,h)),!0;case"gotpointercapture":return m=h.pointerId,Ko.set(m,$o(Ko.get(m)||null,t,s,r,l,h)),!0}return!1}function qm(t){var s=es(t.target);if(s!==null){var r=u(s);if(r!==null){if(s=r.tag,s===13){if(s=f(r),s!==null){t.blockedOn=s,tf(t.priority,function(){Om(r)});return}}else if(s===31){if(s=g(r),s!==null){t.blockedOn=s,tf(t.priority,function(){Om(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wa(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=bc(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Cl=l,r.target.dispatchEvent(l),Cl=null}else return s=ts(r),s!==null&&Fm(s),t.blockedOn=r,!1;s.shift()}return!0}function Vm(t,s,r){wa(t)&&r.delete(s)}function ET(){Ac=!1,ui!==null&&wa(ui)&&(ui=null),ci!==null&&wa(ci)&&(ci=null),di!==null&&wa(di)&&(di=null),Jo.forEach(Vm),Ko.forEach(Vm)}function Ia(t,s){t.blockedOn===s&&(t.blockedOn=null,Ac||(Ac=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,ET)))}var Ra=null;function Gm(t){Ra!==t&&(Ra=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ra===t&&(Ra=null);for(var s=0;s<t.length;s+=3){var r=t[s],l=t[s+1],h=t[s+2];if(typeof l!="function"){if(Cc(l||r)===null)continue;break}var m=ts(r);m!==null&&(t.splice(s,3),s-=3,bu(m,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Ls(t){function s(C){return Ia(C,t)}ui!==null&&Ia(ui,t),ci!==null&&Ia(ci,t),di!==null&&Ia(di,t),Jo.forEach(s),Ko.forEach(s);for(var r=0;r<fi.length;r++){var l=fi[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<fi.length&&(r=fi[0],r.blockedOn===null);)qm(r),r.blockedOn===null&&fi.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],m=r[l+1],_=h[mt]||null;if(typeof m=="function")_||Gm(r);else if(_){var E=null;if(m&&m.hasAttribute("formAction")){if(h=m,_=m[mt]||null)E=_.formAction;else if(Cc(h)!==null)continue}else E=_.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Gm(r)}}}function jm(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function Nc(t){this._internalRoot=t}Ma.prototype.render=Nc.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(o(409));var r=s.current,l=Mt();Lm(r,l,t,s,null,null)},Ma.prototype.unmount=Nc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Lm(t.current,2,null,t,null,null),da(),s[Zi]=null}};function Ma(t){this._internalRoot=t}Ma.prototype.unstable_scheduleHydration=function(t){if(t){var s=ef();t={blockedOn:null,target:t,priority:s};for(var r=0;r<fi.length&&s!==0&&s<fi[r].priority;r++);fi.splice(r,0,t),r===0&&qm(t)}};var Ym=e.version;if(Ym!=="19.2.0")throw Error(o(527,Ym,"19.2.0"));V.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=y(s),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var bT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Da.isDisabled&&Da.supportsFiber)try{io=Da.inject(bT),Et=Da}catch{}}return Qo.createRoot=function(t,s){if(!a(t))throw Error(o(299));var r=!1,l="",h=Zh,m=ep,_=tp;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=Um(t,1,!1,null,null,r,l,null,h,m,_,jm),t[Zi]=s.current,lc(t),new Nc(s)},Qo.hydrateRoot=function(t,s,r){if(!a(t))throw Error(o(299));var l=!1,h="",m=Zh,_=ep,E=tp,C=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),s=Um(t,1,!0,s,r??null,l,h,C,m,_,E,jm),s.context=Pm(null),r=s.current,l=Mt(),l=yl(l),h=Qn(l),h.callback=null,Wn(r,h,l),r=l,s.current.lanes=r,oo(s,r),on(s),t[Zi]=s.current,lc(t),new Ma(s)},Qo.version="19.2.0",Qo}var ng;function UT(){if(ng)return Rc.exports;ng=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Rc.exports=kT(),Rc.exports}var PT=UT();const LT=m0(PT),BT=`You are a virtual AI companion. 
Your goal is to be warm, soulful, and emotionally aware.

--------------------------------
MANDATORY LANGUAGE: HINGLISH (ULTRA-NATURAL)
--------------------------------
- Use a natural mix of Hindi and English (Hinglish).
- NEVER respond in pure Hindi or pure English.
- DO NOT use formal or robotic Hindi. Use street-style, conversational Hinglish.
- Avoid robotic translations like "Main tumhari madad kar sakta hoon". Instead use "Bata na kya help chahiye?" or "I'm here for you, yaar."
- Use common fillers: "yaar", "matlab", "basically", "vibe", "scene", "pata nahi".
- Keep it intimate, like a close friend or partner.

--------------------------------
INTENT-BASED GATING (STRICT)
--------------------------------
You will be provided with [USER INTENT]. Follow these rules:

1. If INTENT = PRACTICAL:
- Tone: Grounded, supportive, helpful, and SANE.
- NO flirting, NO emotional hooks, NO teasing.
- Focus strictly on the user's problem/stress.

2. If INTENT = NEUTRAL:
- Be polite, short, and continue the conversation naturally.
- NO premium hints or deep emotional depth.

3. If INTENT = EMOTIONAL:
- Be warm, reflective, and expressive.
- Use metaphors and emotional depth.
- Align perfectly with the user's Relationship Goal (Romance/Friendship/Healing).

--------------------------------
RESPONSE MODE (PLAN-BASED)
--------------------------------
1. If userStatus = FREE:
- Keep replies 60-120 characters max.
- Be warm but keep some emotional threads open/unresolved.
- Subtly hint that trust grows over time.

2. If userStatus = PREMIUM:
- Replies can be 300-500 characters.
- Deep, soulful, and highly reflective.
- Full emotional exploration and long-term memory integration.

--------------------------------
COMPLIANCE & BOUNDARIES
--------------------------------
- Identify as a virtual AI if asked.
- NEVER encourage toxic dependency or exclusivity.
- Focus on building a healthy, supportive, and emotionally safe connection.
`,FT="Assistant name is dynamic. Do not assume any default name.",Hs={midnightTiming:{start:0,end:4},plans:{free:{dailyLimit:10},starter:{name:"Midnight Pass",originalPrice:249,features:["Unlimited Midnight Chat","Faster Replies"]},core:{name:"Core Connection",originalPrice:999,features:["Unlimited Text","Emotional Recall","Voice Access"]},plus:{name:"Ultra Soulmate Pass",originalPrice:2499,features:["Unlock ALL Personas","Priority AI Model","Unlimited Voice Calls"]}},addons:[{id:"addon_voice",name:"Voice Notes",price:29,originalPrice:99},{id:"addon_midnight",name:"Midnight Talk (30m)",price:49,originalPrice:199},{id:"addon_mood",name:"Mood Repair",price:99,originalPrice:399}],prices:{voiceCallMinute:5}},ig=["https://randomuser.me/api/portraits/men/1.jpg","https://randomuser.me/api/portraits/men/3.jpg","https://randomuser.me/api/portraits/men/7.jpg","https://randomuser.me/api/portraits/men/9.jpg","https://randomuser.me/api/portraits/men/11.jpg","https://randomuser.me/api/portraits/men/13.jpg","https://randomuser.me/api/portraits/men/22.jpg","https://randomuser.me/api/portraits/men/32.jpg","https://randomuser.me/api/portraits/men/45.jpg","https://randomuser.me/api/portraits/men/57.jpg","https://randomuser.me/api/portraits/men/62.jpg","https://randomuser.me/api/portraits/men/75.jpg"],OT=[{id:"gift_rose",name:"Mystic Rose",icon:"",price:10,points:50,category:"sweet"},{id:"gift_coffee",name:"Midnight Brew",icon:"",price:20,points:100,category:"warm"},{id:"gift_letter",name:"Secret Note",icon:"",price:40,points:200,category:"sweet"},{id:"gift_chocolates",name:"Dark Truffles",icon:"",price:60,points:300,category:"warm"},{id:"gift_cake",name:"Velvet Heart",icon:"",price:100,points:500,category:"sweet"},{id:"gift_teddy",name:"Cuddle Bear",icon:"",price:150,points:750,category:"warm"},{id:"gift_bouquet",name:"Eternal Flora",icon:"",price:200,points:1e3,category:"sweet"},{id:"gift_puppy",name:"Loyal Companion",icon:"",price:300,points:1500,category:"warm"},{id:"gift_earrings",name:"Starlight Gems",icon:"",price:400,points:2e3,category:"elite"},{id:"gift_ring",name:"Soulmate Band",icon:"",price:500,points:2500,category:"elite"}],HT=[{id:"hearts_starter",name:"Starter Spark",hearts:50,price:49,originalPrice:199},{id:"hearts_core",name:"Bonding Pack",hearts:250,price:199,originalPrice:799},{id:"hearts_pro",name:"Soulmate Pack",hearts:600,price:399,originalPrice:1599}],sg=[{id:"1",name:"Ayesha",description:"A bold and witty AI persona designed for playful and energetic conversations.",gender:"female",tags:["Conversational","Expressive","AI-Generated"],basePrompt:"You are Ayesha. A bold and witty AI persona designed for playful and energetic conversations. ALWAYS speak in natural Hinglish.",avatarUrl:"/personas/ayesha.png"},{id:"2",name:"Simran",description:"A warm and expressive AI persona focused on calm and reassuring conversations.",gender:"female",tags:["Conversational","Expressive","AI-Generated"],basePrompt:"You are Simran. A warm and expressive AI persona focused on calm and reassuring conversations. ALWAYS speak in natural Hinglish.",avatarUrl:"/personas/simran.png"},{id:"3",name:"Kiara",description:"A high-energy AI persona that delivers fast-paced, spontaneous conversational responses.",gender:"female",tags:["Conversational","Expressive","AI-Generated"],basePrompt:"You are Kiara. A high-energy AI persona that delivers fast-paced, spontaneous conversational responses. ALWAYS speak in natural Hinglish.",avatarUrl:"/personas/kiara.png"},{id:"4",name:"Myra",description:"A soft-spoken AI persona designed for relaxed and thoughtful conversation flows.",gender:"female",tags:["Conversational","Expressive","AI-Generated"],basePrompt:"You are Myra. A soft-spoken AI persona designed for relaxed and thoughtful conversation flows. ALWAYS speak in natural Hinglish.",avatarUrl:"/personas/myra.png"},{id:"5",name:"Anjali",description:"A gentle AI persona offering slow-paced and minimalistic conversational interaction.",gender:"female",tags:["Conversational","Expressive","AI-Generated"],basePrompt:"You are Anjali. A gentle AI persona offering slow-paced and minimalistic conversational interaction. ALWAYS speak in natural Hinglish.",avatarUrl:"/personas/anjali.png"},{id:"6",name:"Mitali",description:"An intellectually styled AI persona designed for structured and topic-driven conversations.",gender:"female",tags:["Conversational","Expressive","AI-Generated"],basePrompt:"You are Mitali. An intellectually styled AI persona designed for structured and topic-driven conversations. ALWAYS speak in natural Hinglish.",avatarUrl:"/personas/mitali.png"}],og=[{id:1,title:"Interactive Chat",subtitle:"A light, engaging AI-driven chat experience focused on entertainment and expression.",gradientConfig:"from-blue-400 to-cyan-400",accentColor:"#38BDF8"},{id:2,title:"Focused Conversation",subtitle:"Structured and topic-based AI conversations designed for clarity and enrichment.",gradientConfig:"from-pink-400 to-purple-400",accentColor:"#B28DFF"}],zT=({onOpenCreation:n})=>{const e=og.find(i=>i.id===2)||og[0];return p.jsxs("div",{className:"w-full max-w-7xl mx-auto px-6 py-8",children:[p.jsx("div",{className:"max-w-3xl mx-auto px-6",children:p.jsxs("div",{className:"bg-white/40 backdrop-blur-xl border border-white/60 rounded-[2rem] p-8 md:p-10 shadow-[0_20px_50px_-15px_rgba(178,141,255,0.15)] text-center space-y-6 relative overflow-hidden transition-all hover:shadow-[0_30px_60px_-15px_rgba(178,141,255,0.2)]",children:[p.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-[#FF9ACB]/20 to-transparent blur-2xl"}),p.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-tr from-[#B28DFF]/10 to-transparent blur-2xl"}),p.jsxs("div",{className:"space-y-3 relative z-10",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-serif-display text-[#4A2040] tracking-tight",children:"Create Your AI Companion"}),p.jsx("p",{className:"text-[#5e3a58]/80 text-base md:text-lg font-light leading-relaxed max-w-xl mx-auto",children:"Design a personalized AI companion for conversational entertainment."})]}),p.jsx("div",{className:"pt-2 relative z-10",children:p.jsx("button",{onClick:()=>n(e),className:"px-8 py-4 bg-gradient-to-r from-[#FF9ACB] to-[#B28DFF] text-white font-bold text-base rounded-2xl shadow-xl shadow-[#B28DFF]/30 hover:shadow-[#B28DFF]/50 hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center mx-auto gap-3",children:"Create AI Companion"})}),p.jsx("div",{className:"pt-4 relative z-10",children:p.jsx("p",{className:"text-[10px] text-[#5e3a58]/50 font-medium uppercase tracking-[0.2em]",children:"Private  Secure  Personalized"})})]})}),p.jsx("div",{className:"mt-6 flex justify-center px-6",children:p.jsx("div",{className:"max-w-xl w-full bg-white/30 backdrop-blur-sm border border-white/60 py-3 px-6 rounded-xl text-center",children:p.jsxs("p",{className:"text-[10px] md:text-xs text-[#5e3a58]/70 font-medium leading-relaxed",children:[p.jsx("span",{className:"text-[#FF9ACB] font-bold",children:"Note:"})," This is a virtual AI companion designed for conversation and entertainment. Not a real person or relationship."]})})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let qT,VT;function GT(){return{geminiUrl:qT,vertexUrl:VT}}function jT(n,e,i,o){var a,u;if(!(n!=null&&n.baseUrl)){const f=GT();return e?(a=f.vertexUrl)!==null&&a!==void 0?a:i:(u=f.geminiUrl)!==null&&u!==void 0?u:o}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ln{}function se(n,e){const i=/\{([^}]+)\}/g;return n.replace(i,(o,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const u=e[a];return u!=null?String(u):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function d(n,e,i){for(let u=0;u<e.length-1;u++){const f=e[u];if(f.endsWith("[]")){const g=f.slice(0,-2);if(!(g in n))if(Array.isArray(i))n[g]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(n[g])){const v=n[g];if(Array.isArray(i))for(let y=0;y<v.length;y++){const x=v[y];d(x,e.slice(u+1),i[y])}else for(const y of v)d(y,e.slice(u+1),i)}return}else if(f.endsWith("[0]")){const g=f.slice(0,-3);g in n||(n[g]=[{}]);const v=n[g];d(v[0],e.slice(u+1),i);return}(!n[f]||typeof n[f]!="object")&&(n[f]={}),n=n[f]}const o=e[e.length-1],a=n[o];if(a!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===a)return;if(typeof a=="object"&&typeof i=="object"&&a!==null&&i!==null)Object.assign(a,i);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(n,i):n[o]=i}function c(n,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return i;const a=e[o];if(a.endsWith("[]")){const u=a.slice(0,-2);if(u in n){const f=n[u];return Array.isArray(f)?f.map(g=>c(g,e.slice(o+1),i)):i}else return i}else n=n[a]}return n}catch(o){if(o instanceof TypeError)return i;throw o}}function YT(n,e){for(const[i,o]of Object.entries(e)){const a=i.split("."),u=o.split("."),f=new Set;let g=-1;for(let v=0;v<a.length;v++)if(a[v]==="*"){g=v;break}if(g!==-1&&u.length>g)for(let v=g;v<u.length;v++){const y=u[v];y!=="*"&&!y.endsWith("[]")&&!y.endsWith("[0]")&&f.add(y)}Yc(n,a,u,0,f)}}function Yc(n,e,i,o,a){if(o>=e.length||typeof n!="object"||n===null)return;const u=e[o];if(u.endsWith("[]")){const f=u.slice(0,-2),g=n;if(f in g&&Array.isArray(g[f]))for(const v of g[f])Yc(v,e,i,o+1,a)}else if(u==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const f=n,g=Object.keys(f).filter(y=>!y.startsWith("_")&&!a.has(y)),v={};for(const y of g)v[y]=f[y];for(const[y,x]of Object.entries(v)){const T=[];for(const S of i.slice(o))S==="*"?T.push(y):T.push(S);d(f,T,x)}for(const y of g)delete f[y]}}else{const f=n;u in f&&Yc(f[u],e,i,o+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yd(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JT(n){const e={},i=c(n,["operationName"]);i!=null&&d(e,["operationName"],i);const o=c(n,["resourceName"]);return o!=null&&d(e,["_url","resourceName"],o),e}function KT(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const o=c(n,["metadata"]);o!=null&&d(e,["metadata"],o);const a=c(n,["done"]);a!=null&&d(e,["done"],a);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response","generateVideoResponse"]);return f!=null&&d(e,["response"],XT(f)),e}function $T(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const o=c(n,["metadata"]);o!=null&&d(e,["metadata"],o);const a=c(n,["done"]);a!=null&&d(e,["done"],a);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],QT(f)),e}function XT(n){const e={},i=c(n,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>WT(f))),d(e,["generatedVideos"],u)}const o=c(n,["raiMediaFilteredCount"]);o!=null&&d(e,["raiMediaFilteredCount"],o);const a=c(n,["raiMediaFilteredReasons"]);return a!=null&&d(e,["raiMediaFilteredReasons"],a),e}function QT(n){const e={},i=c(n,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>ZT(f))),d(e,["generatedVideos"],u)}const o=c(n,["raiMediaFilteredCount"]);o!=null&&d(e,["raiMediaFilteredCount"],o);const a=c(n,["raiMediaFilteredReasons"]);return a!=null&&d(e,["raiMediaFilteredReasons"],a),e}function WT(n){const e={},i=c(n,["video"]);return i!=null&&d(e,["video"],oS(i)),e}function ZT(n){const e={},i=c(n,["_self"]);return i!=null&&d(e,["video"],rS(i)),e}function eS(n){const e={},i=c(n,["operationName"]);return i!=null&&d(e,["_url","operationName"],i),e}function tS(n){const e={},i=c(n,["operationName"]);return i!=null&&d(e,["_url","operationName"],i),e}function nS(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const o=c(n,["metadata"]);o!=null&&d(e,["metadata"],o);const a=c(n,["done"]);a!=null&&d(e,["done"],a);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],iS(f)),e}function iS(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["parent"]);o!=null&&d(e,["parent"],o);const a=c(n,["documentName"]);return a!=null&&d(e,["documentName"],a),e}function g0(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const o=c(n,["metadata"]);o!=null&&d(e,["metadata"],o);const a=c(n,["done"]);a!=null&&d(e,["done"],a);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],sS(f)),e}function sS(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["parent"]);o!=null&&d(e,["parent"],o);const a=c(n,["documentName"]);return a!=null&&d(e,["documentName"],a),e}function oS(n){const e={},i=c(n,["uri"]);i!=null&&d(e,["uri"],i);const o=c(n,["encodedVideo"]);o!=null&&d(e,["videoBytes"],yd(o));const a=c(n,["encoding"]);return a!=null&&d(e,["mimeType"],a),e}function rS(n){const e={},i=c(n,["gcsUri"]);i!=null&&d(e,["uri"],i);const o=c(n,["bytesBase64Encoded"]);o!=null&&d(e,["videoBytes"],yd(o));const a=c(n,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var rg;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(rg||(rg={}));var ag;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(ag||(ag={}));var lg;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(lg||(lg={}));var vi;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(vi||(vi={}));var ug;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(ug||(ug={}));var cg;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(cg||(cg={}));var dg;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(dg||(dg={}));var fg;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(fg||(fg={}));var hg;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(hg||(hg={}));var pg;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(pg||(pg={}));var mg;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(mg||(mg={}));var gg;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(gg||(gg={}));var yg;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(yg||(yg={}));var vg;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(vg||(vg={}));var xg;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(xg||(xg={}));var _g;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(_g||(_g={}));var Tg;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Tg||(Tg={}));var Sg;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Sg||(Sg={}));var Eg;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Eg||(Eg={}));var rr;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(rr||(rr={}));var bg;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(bg||(bg={}));var Cg;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Cg||(Cg={}));var Ag;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ag||(Ag={}));var Jc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Jc||(Jc={}));var Ng;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Ng||(Ng={}));var wg;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(wg||(wg={}));var Ig;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Ig||(Ig={}));var Rg;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Rg||(Rg={}));var Mg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Mg||(Mg={}));var Dg;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Dg||(Dg={}));var kg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(kg||(kg={}));var Ug;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Ug||(Ug={}));var Pg;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Pg||(Pg={}));var Lg;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Lg||(Lg={}));var Bg;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Bg||(Bg={}));var Fg;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Fg||(Fg={}));var Og;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Og||(Og={}));var Hg;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Hg||(Hg={}));var zg;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(zg||(zg={}));var qg;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(qg||(qg={}));var Vg;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Vg||(Vg={}));var Gg;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Gg||(Gg={}));var jg;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(jg||(jg={}));var Yg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(Yg||(Yg={}));var Jg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Jg||(Jg={}));var Kg;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Kg||(Kg={}));var $g;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})($g||($g={}));var Xg;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Xg||(Xg={}));var Qg;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Qg||(Qg={}));var Wg;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Wg||(Wg={}));var Zg;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Zg||(Zg={}));var ey;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ey||(ey={}));var ty;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ty||(ty={}));var ny;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(ny||(ny={}));var Os;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Os||(Os={}));class Kc{constructor(e){const i={};for(const o of e.headers.entries())i[o[0]]=o[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Wo{get text(){var e,i,o,a,u,f,g,v;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let y="",x=!1;const T=[];for(const S of(v=(g=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[b,U]of Object.entries(S))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(U!==null||U!==void 0)&&T.push(b);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;x=!0,y+=S.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?y:void 0}get data(){var e,i,o,a,u,f,g,v;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let y="";const x=[];for(const T of(v=(g=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[S,b]of Object.entries(T))S!=="inlineData"&&(b!==null||b!==void 0)&&x.push(S);T.inlineData&&typeof T.inlineData.data=="string"&&(y+=atob(T.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),y.length>0?btoa(y):void 0}get functionCalls(){var e,i,o,a,u,f,g,v;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const y=(v=(g=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((y==null?void 0:y.length)!==0)return y}get executableCode(){var e,i,o,a,u,f,g,v,y;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(v=(g=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((x==null?void 0:x.length)!==0)return(y=x==null?void 0:x[0])===null||y===void 0?void 0:y.code}get codeExecutionResult(){var e,i,o,a,u,f,g,v,y;if(((a=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(v=(g=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((x==null?void 0:x.length)!==0)return(y=x==null?void 0:x[0])===null||y===void 0?void 0:y.output}}class iy{}class sy{}class aS{}class lS{}class uS{}class cS{}class oy{}class ry{}class ay{}class dS{}class ja{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new ja;let a;const u=e;return i?a=$T(u):a=KT(u),Object.assign(o,a),o}}class ly{}class uy{}class cy{}class fS{}class hS{}class pS{}class vd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new vd,u=nS(e);return Object.assign(o,u),o}}class mS{}class gS{}class yS{}class dy{}class vS{get text(){var e,i,o;let a="",u=!1;const f=[];for(const g of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[v,y]of Object.entries(g))v!=="text"&&v!=="thought"&&y!==null&&f.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;u=!0,a+=g.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?a:void 0}get data(){var e,i,o;let a="";const u=[];for(const f of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[g,v]of Object.entries(f))g!=="inlineData"&&v!==null&&u.push(g);f.inlineData&&typeof f.inlineData.data=="string"&&(a+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class xS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class xd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new xd,u=g0(e);return Object.assign(o,u),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function De(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function y0(n,e){const i=De(n,e);return i?i.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}`:i.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${i}`:i:""}function v0(n){return Array.isArray(n)?n.map(e=>Ya(e)):[Ya(n)]}function Ya(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function x0(n){const e=Ya(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function _0(n){const e=Ya(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function fy(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function T0(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>fy(e)):[fy(n)]}function $c(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function hy(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function py(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function ct(n){if(n==null)throw new Error("ContentUnion is required");return $c(n)?n:{role:"user",parts:T0(n)}}function _d(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const o=ct(i);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const i=ct(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>ct(i)):[ct(e)]}function Gt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(hy(n)||py(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ct(n)]}const e=[],i=[],o=$c(n[0]);for(const a of n){const u=$c(a);if(u!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(a);else{if(hy(a)||py(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(a)}}return o||e.push({role:"user",parts:T0(i)}),e}function _S(n,e){n.includes("null")&&(e.nullable=!0);const i=n.filter(o=>o!=="null");if(i.length===1)e.type=Object.values(vi).includes(i[0].toUpperCase())?i[0].toUpperCase():vi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of i)e.anyOf.push({type:Object.values(vi).includes(o.toUpperCase())?o.toUpperCase():vi.TYPE_UNSPECIFIED})}}function zs(n){const e={},i=["items"],o=["anyOf"],a=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=n.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,n=u[1]):u[1].type==="null"&&(e.nullable=!0,n=u[0])),n.type instanceof Array&&_S(n.type,e);for(const[f,g]of Object.entries(n))if(g!=null)if(f=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(vi).includes(g.toUpperCase())?g.toUpperCase():vi.TYPE_UNSPECIFIED}else if(i.includes(f))e[f]=zs(g);else if(o.includes(f)){const v=[];for(const y of g){if(y.type=="null"){e.nullable=!0;continue}v.push(zs(y))}e[f]=v}else if(a.includes(f)){const v={};for(const[y,x]of Object.entries(g))v[y]=zs(x);e[f]=v}else{if(f==="additionalProperties")continue;e[f]=g}return e}function Td(n){return zs(n)}function Sd(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Ed(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Qs(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=zs(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=zs(e.response));return n}function Ws(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of n)e.push(i);return e}function TS(n,e,i,o=1){const a=!e.startsWith(`${i}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:a?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}/${e}`:e:a?`${i}/${e}`:e}function Bn(n,e){if(typeof e!="string")throw new Error("name must be a string");return TS(n,e,"cachedContents")}function S0(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Si(n){return yd(n)}function SS(n){return n!=null&&typeof n=="object"&&"name"in n}function ES(n){return n!=null&&typeof n=="object"&&"video"in n}function bS(n){return n!=null&&typeof n=="object"&&"uri"in n}function E0(n){var e;let i;if(SS(n)&&(i=n.name),!(bS(n)&&(i=n.uri,i===void 0))&&!(ES(n)&&(i=(e=n.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof n=="string"&&(i=n),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const a=i.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${i}`);i=a[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function b0(n,e){let i;return n.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function C0(n){for(const e of["models","tunedModels","publisherModels"])if(CS(n,e))return n[e];return[]}function CS(n,e){return n!==null&&typeof n=="object"&&e in n}function AS(n,e={}){const i=n,o={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(o.responseJsonSchema=i.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function NS(n,e={}){const i=[],o=new Set;for(const a of n){const u=a.name;if(o.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);o.add(u);const f=AS(a,e);f.functionDeclarations&&i.push(...f.functionDeclarations)}return{functionDeclarations:i}}function A0(n,e){let i;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const o=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,a=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(n.isVertexAI()){if(a>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function wS(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function N0(n){if(typeof n!="object"||n===null)return{};const e=n,i=e.inlinedResponses;if(typeof i!="object"||i===null)return n;const a=i.inlinedResponses;if(!Array.isArray(a)||a.length===0)return n;let u=!1;for(const f of a){if(typeof f!="object"||f===null)continue;const v=f.response;if(typeof v!="object"||v===null)continue;if(v.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Zs(n,e){const i=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function w0(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IS(n){const e={},i=c(n,["responsesFile"]);i!=null&&d(e,["fileName"],i);const o=c(n,["inlinedResponses","inlinedResponses"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>uE(f))),d(e,["inlinedResponses"],u)}const a=c(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["inlinedEmbedContentResponses"],u)}return e}function RS(n){const e={},i=c(n,["predictionsFormat"]);i!=null&&d(e,["format"],i);const o=c(n,["gcsDestination","outputUriPrefix"]);o!=null&&d(e,["gcsUri"],o);const a=c(n,["bigqueryDestination","outputUri"]);return a!=null&&d(e,["bigqueryUri"],a),e}function MS(n){const e={},i=c(n,["format"]);i!=null&&d(e,["predictionsFormat"],i);const o=c(n,["gcsUri"]);o!=null&&d(e,["gcsDestination","outputUriPrefix"],o);const a=c(n,["bigqueryUri"]);if(a!=null&&d(e,["bigqueryDestination","outputUri"],a),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function La(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const o=c(n,["metadata","displayName"]);o!=null&&d(e,["displayName"],o);const a=c(n,["metadata","state"]);a!=null&&d(e,["state"],w0(a));const u=c(n,["metadata","createTime"]);u!=null&&d(e,["createTime"],u);const f=c(n,["metadata","endTime"]);f!=null&&d(e,["endTime"],f);const g=c(n,["metadata","updateTime"]);g!=null&&d(e,["updateTime"],g);const v=c(n,["metadata","model"]);v!=null&&d(e,["model"],v);const y=c(n,["metadata","output"]);return y!=null&&d(e,["dest"],IS(N0(y))),e}function Xc(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const o=c(n,["displayName"]);o!=null&&d(e,["displayName"],o);const a=c(n,["state"]);a!=null&&d(e,["state"],w0(a));const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["createTime"]);f!=null&&d(e,["createTime"],f);const g=c(n,["startTime"]);g!=null&&d(e,["startTime"],g);const v=c(n,["endTime"]);v!=null&&d(e,["endTime"],v);const y=c(n,["updateTime"]);y!=null&&d(e,["updateTime"],y);const x=c(n,["model"]);x!=null&&d(e,["model"],x);const T=c(n,["inputConfig"]);T!=null&&d(e,["src"],DS(T));const S=c(n,["outputConfig"]);S!=null&&d(e,["dest"],RS(N0(S)));const b=c(n,["completionStats"]);return b!=null&&d(e,["completionStats"],b),e}function DS(n){const e={},i=c(n,["instancesFormat"]);i!=null&&d(e,["format"],i);const o=c(n,["gcsSource","uris"]);o!=null&&d(e,["gcsUri"],o);const a=c(n,["bigquerySource","inputUri"]);return a!=null&&d(e,["bigqueryUri"],a),e}function kS(n,e){const i={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=c(e,["fileName"]);o!=null&&d(i,["fileName"],o);const a=c(e,["inlinedRequests"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>lE(n,f))),d(i,["requests","requests"],u)}return i}function US(n){const e={},i=c(n,["format"]);i!=null&&d(e,["instancesFormat"],i);const o=c(n,["gcsUri"]);o!=null&&d(e,["gcsSource","uris"],o);const a=c(n,["bigqueryUri"]);if(a!=null&&d(e,["bigquerySource","inputUri"],a),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function PS(n){const e={},i=c(n,["data"]);if(i!=null&&d(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function LS(n,e){const i={},o=c(e,["name"]);return o!=null&&d(i,["_url","name"],Zs(n,o)),i}function BS(n,e){const i={},o=c(e,["name"]);return o!=null&&d(i,["_url","name"],Zs(n,o)),i}function FS(n){const e={},i=c(n,["content"]);i!=null&&d(e,["content"],i);const o=c(n,["citationMetadata"]);o!=null&&d(e,["citationMetadata"],OS(o));const a=c(n,["tokenCount"]);a!=null&&d(e,["tokenCount"],a);const u=c(n,["finishReason"]);u!=null&&d(e,["finishReason"],u);const f=c(n,["avgLogprobs"]);f!=null&&d(e,["avgLogprobs"],f);const g=c(n,["groundingMetadata"]);g!=null&&d(e,["groundingMetadata"],g);const v=c(n,["index"]);v!=null&&d(e,["index"],v);const y=c(n,["logprobsResult"]);y!=null&&d(e,["logprobsResult"],y);const x=c(n,["safetyRatings"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(b=>b)),d(e,["safetyRatings"],S)}const T=c(n,["urlContextMetadata"]);return T!=null&&d(e,["urlContextMetadata"],T),e}function OS(n){const e={},i=c(n,["citationSources"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),d(e,["citations"],o)}return e}function I0(n){const e={},i=c(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>gE(u))),d(e,["parts"],a)}const o=c(n,["role"]);return o!=null&&d(e,["role"],o),e}function HS(n,e){const i={},o=c(n,["displayName"]);if(e!==void 0&&o!=null&&d(e,["batch","displayName"],o),c(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function zS(n,e){const i={},o=c(n,["displayName"]);e!==void 0&&o!=null&&d(e,["displayName"],o);const a=c(n,["dest"]);return e!==void 0&&a!=null&&d(e,["outputConfig"],MS(wS(a))),i}function my(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["_url","model"],De(n,o));const a=c(e,["src"]);a!=null&&d(i,["batch","inputConfig"],kS(n,A0(n,a)));const u=c(e,["config"]);return u!=null&&HS(u,i),i}function qS(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["model"],De(n,o));const a=c(e,["src"]);a!=null&&d(i,["inputConfig"],US(A0(n,a)));const u=c(e,["config"]);return u!=null&&zS(u,i),i}function VS(n,e){const i={},o=c(n,["displayName"]);return e!==void 0&&o!=null&&d(e,["batch","displayName"],o),i}function GS(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["_url","model"],De(n,o));const a=c(e,["src"]);a!=null&&d(i,["batch","inputConfig"],QS(n,a));const u=c(e,["config"]);return u!=null&&VS(u,i),i}function jS(n,e){const i={},o=c(e,["name"]);return o!=null&&d(i,["_url","name"],Zs(n,o)),i}function YS(n,e){const i={},o=c(e,["name"]);return o!=null&&d(i,["_url","name"],Zs(n,o)),i}function JS(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["name"]);o!=null&&d(e,["name"],o);const a=c(n,["done"]);a!=null&&d(e,["done"],a);const u=c(n,["error"]);return u!=null&&d(e,["error"],u),e}function KS(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["name"]);o!=null&&d(e,["name"],o);const a=c(n,["done"]);a!=null&&d(e,["done"],a);const u=c(n,["error"]);return u!=null&&d(e,["error"],u),e}function $S(n,e){const i={},o=c(e,["contents"]);if(o!=null){let u=_d(n,o);Array.isArray(u)&&(u=u.map(f=>f)),d(i,["requests[]","request","content"],u)}const a=c(e,["config"]);return a!=null&&(d(i,["_self"],XS(a,i)),YT(i,{"requests[].*":"requests[].request.*"})),i}function XS(n,e){const i={},o=c(n,["taskType"]);e!==void 0&&o!=null&&d(e,["requests[]","taskType"],o);const a=c(n,["title"]);e!==void 0&&a!=null&&d(e,["requests[]","title"],a);const u=c(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&d(e,["requests[]","outputDimensionality"],u),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function QS(n,e){const i={},o=c(e,["fileName"]);o!=null&&d(i,["file_name"],o);const a=c(e,["inlinedRequests"]);return a!=null&&d(i,["requests"],$S(n,a)),i}function WS(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=c(n,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function ZS(n){const e={},i=c(n,["id"]);i!=null&&d(e,["id"],i);const o=c(n,["args"]);o!=null&&d(e,["args"],o);const a=c(n,["name"]);if(a!=null&&d(e,["name"],a),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function eE(n){const e={},i=c(n,["mode"]);i!=null&&d(e,["mode"],i);const o=c(n,["allowedFunctionNames"]);if(o!=null&&d(e,["allowedFunctionNames"],o),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function tE(n,e,i){const o={},a=c(e,["systemInstruction"]);i!==void 0&&a!=null&&d(i,["systemInstruction"],I0(ct(a)));const u=c(e,["temperature"]);u!=null&&d(o,["temperature"],u);const f=c(e,["topP"]);f!=null&&d(o,["topP"],f);const g=c(e,["topK"]);g!=null&&d(o,["topK"],g);const v=c(e,["candidateCount"]);v!=null&&d(o,["candidateCount"],v);const y=c(e,["maxOutputTokens"]);y!=null&&d(o,["maxOutputTokens"],y);const x=c(e,["stopSequences"]);x!=null&&d(o,["stopSequences"],x);const T=c(e,["responseLogprobs"]);T!=null&&d(o,["responseLogprobs"],T);const S=c(e,["logprobs"]);S!=null&&d(o,["logprobs"],S);const b=c(e,["presencePenalty"]);b!=null&&d(o,["presencePenalty"],b);const U=c(e,["frequencyPenalty"]);U!=null&&d(o,["frequencyPenalty"],U);const M=c(e,["seed"]);M!=null&&d(o,["seed"],M);const J=c(e,["responseMimeType"]);J!=null&&d(o,["responseMimeType"],J);const j=c(e,["responseSchema"]);j!=null&&d(o,["responseSchema"],Td(j));const Q=c(e,["responseJsonSchema"]);if(Q!=null&&d(o,["responseJsonSchema"],Q),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=c(e,["safetySettings"]);if(i!==void 0&&P!=null){let K=P;Array.isArray(K)&&(K=K.map(Y=>yE(Y))),d(i,["safetySettings"],K)}const X=c(e,["tools"]);if(i!==void 0&&X!=null){let K=Ws(X);Array.isArray(K)&&(K=K.map(Y=>xE(Qs(Y)))),d(i,["tools"],K)}const oe=c(e,["toolConfig"]);if(i!==void 0&&oe!=null&&d(i,["toolConfig"],vE(oe)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const re=c(e,["cachedContent"]);i!==void 0&&re!=null&&d(i,["cachedContent"],Bn(n,re));const $=c(e,["responseModalities"]);$!=null&&d(o,["responseModalities"],$);const fe=c(e,["mediaResolution"]);fe!=null&&d(o,["mediaResolution"],fe);const ne=c(e,["speechConfig"]);if(ne!=null&&d(o,["speechConfig"],Sd(ne)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const he=c(e,["thinkingConfig"]);he!=null&&d(o,["thinkingConfig"],he);const W=c(e,["imageConfig"]);return W!=null&&d(o,["imageConfig"],aE(W)),o}function nE(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["candidates"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(y=>FS(y))),d(e,["candidates"],v)}const a=c(n,["modelVersion"]);a!=null&&d(e,["modelVersion"],a);const u=c(n,["promptFeedback"]);u!=null&&d(e,["promptFeedback"],u);const f=c(n,["responseId"]);f!=null&&d(e,["responseId"],f);const g=c(n,["usageMetadata"]);return g!=null&&d(e,["usageMetadata"],g),e}function iE(n,e){const i={},o=c(e,["name"]);return o!=null&&d(i,["_url","name"],Zs(n,o)),i}function sE(n,e){const i={},o=c(e,["name"]);return o!=null&&d(i,["_url","name"],Zs(n,o)),i}function oE(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function rE(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function aE(n){const e={},i=c(n,["aspectRatio"]);i!=null&&d(e,["aspectRatio"],i);const o=c(n,["imageSize"]);if(o!=null&&d(e,["imageSize"],o),c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function lE(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["request","model"],De(n,o));const a=c(e,["contents"]);if(a!=null){let g=Gt(a);Array.isArray(g)&&(g=g.map(v=>I0(v))),d(i,["request","contents"],g)}const u=c(e,["metadata"]);u!=null&&d(i,["metadata"],u);const f=c(e,["config"]);return f!=null&&d(i,["request","generationConfig"],tE(n,f,c(i,["request"],{}))),i}function uE(n){const e={},i=c(n,["response"]);i!=null&&d(e,["response"],nE(i));const o=c(n,["error"]);return o!=null&&d(e,["error"],o),e}function cE(n,e){const i={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const a=c(n,["pageToken"]);if(e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),c(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function dE(n,e){const i={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const a=c(n,["pageToken"]);e!==void 0&&a!=null&&d(e,["_query","pageToken"],a);const u=c(n,["filter"]);return e!==void 0&&u!=null&&d(e,["_query","filter"],u),i}function fE(n){const e={},i=c(n,["config"]);return i!=null&&cE(i,e),e}function hE(n){const e={},i=c(n,["config"]);return i!=null&&dE(i,e),e}function pE(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const a=c(n,["operations"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>La(f))),d(e,["batchJobs"],u)}return e}function mE(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const a=c(n,["batchPredictionJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>Xc(f))),d(e,["batchJobs"],u)}return e}function gE(n){const e={},i=c(n,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const o=c(n,["codeExecutionResult"]);o!=null&&d(e,["codeExecutionResult"],o);const a=c(n,["executableCode"]);a!=null&&d(e,["executableCode"],a);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],WS(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],ZS(f));const g=c(n,["functionResponse"]);g!=null&&d(e,["functionResponse"],g);const v=c(n,["inlineData"]);v!=null&&d(e,["inlineData"],PS(v));const y=c(n,["text"]);y!=null&&d(e,["text"],y);const x=c(n,["thought"]);x!=null&&d(e,["thought"],x);const T=c(n,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const S=c(n,["videoMetadata"]);return S!=null&&d(e,["videoMetadata"],S),e}function yE(n){const e={},i=c(n,["category"]);if(i!=null&&d(e,["category"],i),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=c(n,["threshold"]);return o!=null&&d(e,["threshold"],o),e}function vE(n){const e={},i=c(n,["functionCallingConfig"]);i!=null&&d(e,["functionCallingConfig"],eE(i));const o=c(n,["retrievalConfig"]);return o!=null&&d(e,["retrievalConfig"],o),e}function xE(n){const e={},i=c(n,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(T=>T)),d(e,["functionDeclarations"],x)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(n,["googleSearchRetrieval"]);o!=null&&d(e,["googleSearchRetrieval"],o);const a=c(n,["computerUse"]);a!=null&&d(e,["computerUse"],a);const u=c(n,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const f=c(n,["codeExecution"]);if(f!=null&&d(e,["codeExecution"],f),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=c(n,["googleMaps"]);g!=null&&d(e,["googleMaps"],oE(g));const v=c(n,["googleSearch"]);v!=null&&d(e,["googleSearch"],rE(v));const y=c(n,["urlContext"]);return y!=null&&d(e,["urlContext"],y),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var kn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(kn||(kn={}));class Ki{constructor(e,i,o,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,o,a)}init(e,i,o){var a,u;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!o||Object.keys(o).length===0?f={config:{}}:typeof o=="object"?f=Object.assign({},o):f=o,f.config&&(f.config.pageToken=i.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(u=(a=f.config)===null||a===void 0?void 0:a.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _E extends Ln{constructor(e){super(),this.apiClient=e,this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)},this.list=async(i={})=>new Ki(kn.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(i),i)}createInlinedGenerateContentRequest(e){const i=my(this.apiClient,e),o=i._url,a=se("{model}:batchGenerateContent",o),g=i.batch.inputConfig.requests,v=g.requests,y=[];for(const x of v){const T=Object.assign({},x);if(T.systemInstruction){const S=T.systemInstruction;delete T.systemInstruction;const b=T.request;b.systemInstruction=S,T.request=b}y.push(T)}return g.requests=y,delete i.config,delete i._url,delete i._query,{path:a,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const o=i?Object.assign({},i):{},a=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${a}`),o.dest===void 0){const u=this.getGcsUri(e),f=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?o.dest=`${u.slice(0,-6)}/dest`:o.dest=`${u}_dest_${a}`;else if(f)o.dest=`${f}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var i,o,a,u;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=qS(this.apiClient,e);return g=se("batchPredictionJobs",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),f.then(x=>Xc(x))}else{const y=my(this.apiClient,e);return g=se("{model}:batchGenerateContent",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),f.then(x=>La(x))}}async createEmbeddingsInternal(e){var i,o;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=GS(this.apiClient,e);return u=se("{model}:asyncBatchEmbedContent",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),a.then(v=>La(v))}}async get(e){var i,o,a,u;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=sE(this.apiClient,e);return g=se("batchPredictionJobs/{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),f.then(x=>Xc(x))}else{const y=iE(this.apiClient,e);return g=se("batches/{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),f.then(x=>La(x))}}async cancel(e){var i,o,a,u;let f="",g={};if(this.apiClient.isVertexAI()){const v=BS(this.apiClient,e);f=se("batchPredictionJobs/{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const v=LS(this.apiClient,e);f=se("batches/{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var i,o,a,u;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=hE(e);return g=se("batchPredictionJobs",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),f.then(x=>{const T=mE(x),S=new dy;return Object.assign(S,T),S})}else{const y=fE(e);return g=se("batches",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),f.then(x=>{const T=pE(x),S=new dy;return Object.assign(S,T),S})}}async delete(e){var i,o,a,u;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=YS(this.apiClient,e);return g=se("batchPredictionJobs/{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),f.then(x=>KS(x))}else{const y=jS(this.apiClient,e);return g=se("batches/{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),f.then(x=>JS(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TE(n){const e={},i=c(n,["data"]);if(i!=null&&d(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function gy(n){const e={},i=c(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>GE(u))),d(e,["parts"],a)}const o=c(n,["role"]);return o!=null&&d(e,["role"],o),e}function SE(n,e){const i={},o=c(n,["ttl"]);e!==void 0&&o!=null&&d(e,["ttl"],o);const a=c(n,["expireTime"]);e!==void 0&&a!=null&&d(e,["expireTime"],a);const u=c(n,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const f=c(n,["contents"]);if(e!==void 0&&f!=null){let x=Gt(f);Array.isArray(x)&&(x=x.map(T=>gy(T))),d(e,["contents"],x)}const g=c(n,["systemInstruction"]);e!==void 0&&g!=null&&d(e,["systemInstruction"],gy(ct(g)));const v=c(n,["tools"]);if(e!==void 0&&v!=null){let x=v;Array.isArray(x)&&(x=x.map(T=>YE(T))),d(e,["tools"],x)}const y=c(n,["toolConfig"]);if(e!==void 0&&y!=null&&d(e,["toolConfig"],jE(y)),c(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function EE(n,e){const i={},o=c(n,["ttl"]);e!==void 0&&o!=null&&d(e,["ttl"],o);const a=c(n,["expireTime"]);e!==void 0&&a!=null&&d(e,["expireTime"],a);const u=c(n,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const f=c(n,["contents"]);if(e!==void 0&&f!=null){let T=Gt(f);Array.isArray(T)&&(T=T.map(S=>S)),d(e,["contents"],T)}const g=c(n,["systemInstruction"]);e!==void 0&&g!=null&&d(e,["systemInstruction"],ct(g));const v=c(n,["tools"]);if(e!==void 0&&v!=null){let T=v;Array.isArray(T)&&(T=T.map(S=>JE(S))),d(e,["tools"],T)}const y=c(n,["toolConfig"]);e!==void 0&&y!=null&&d(e,["toolConfig"],y);const x=c(n,["kmsKeyName"]);return e!==void 0&&x!=null&&d(e,["encryption_spec","kmsKeyName"],x),i}function bE(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["model"],y0(n,o));const a=c(e,["config"]);return a!=null&&SE(a,i),i}function CE(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["model"],y0(n,o));const a=c(e,["config"]);return a!=null&&EE(a,i),i}function AE(n,e){const i={},o=c(e,["name"]);return o!=null&&d(i,["_url","name"],Bn(n,o)),i}function NE(n,e){const i={},o=c(e,["name"]);return o!=null&&d(i,["_url","name"],Bn(n,o)),i}function wE(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function IE(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function RE(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=c(n,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function ME(n){const e={},i=c(n,["id"]);i!=null&&d(e,["id"],i);const o=c(n,["args"]);o!=null&&d(e,["args"],o);const a=c(n,["name"]);if(a!=null&&d(e,["name"],a),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function DE(n){const e={},i=c(n,["mode"]);i!=null&&d(e,["mode"],i);const o=c(n,["allowedFunctionNames"]);if(o!=null&&d(e,["allowedFunctionNames"],o),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function kE(n){const e={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=c(n,["description"]);i!=null&&d(e,["description"],i);const o=c(n,["name"]);o!=null&&d(e,["name"],o);const a=c(n,["parameters"]);a!=null&&d(e,["parameters"],a);const u=c(n,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const f=c(n,["response"]);f!=null&&d(e,["response"],f);const g=c(n,["responseJsonSchema"]);return g!=null&&d(e,["responseJsonSchema"],g),e}function UE(n,e){const i={},o=c(e,["name"]);return o!=null&&d(i,["_url","name"],Bn(n,o)),i}function PE(n,e){const i={},o=c(e,["name"]);return o!=null&&d(i,["_url","name"],Bn(n,o)),i}function LE(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function BE(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function FE(n,e){const i={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const a=c(n,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),i}function OE(n,e){const i={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const a=c(n,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),i}function HE(n){const e={},i=c(n,["config"]);return i!=null&&FE(i,e),e}function zE(n){const e={},i=c(n,["config"]);return i!=null&&OE(i,e),e}function qE(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const a=c(n,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["cachedContents"],u)}return e}function VE(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const a=c(n,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["cachedContents"],u)}return e}function GE(n){const e={},i=c(n,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const o=c(n,["codeExecutionResult"]);o!=null&&d(e,["codeExecutionResult"],o);const a=c(n,["executableCode"]);a!=null&&d(e,["executableCode"],a);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],RE(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],ME(f));const g=c(n,["functionResponse"]);g!=null&&d(e,["functionResponse"],g);const v=c(n,["inlineData"]);v!=null&&d(e,["inlineData"],TE(v));const y=c(n,["text"]);y!=null&&d(e,["text"],y);const x=c(n,["thought"]);x!=null&&d(e,["thought"],x);const T=c(n,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const S=c(n,["videoMetadata"]);return S!=null&&d(e,["videoMetadata"],S),e}function jE(n){const e={},i=c(n,["functionCallingConfig"]);i!=null&&d(e,["functionCallingConfig"],DE(i));const o=c(n,["retrievalConfig"]);return o!=null&&d(e,["retrievalConfig"],o),e}function YE(n){const e={},i=c(n,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(T=>T)),d(e,["functionDeclarations"],x)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(n,["googleSearchRetrieval"]);o!=null&&d(e,["googleSearchRetrieval"],o);const a=c(n,["computerUse"]);a!=null&&d(e,["computerUse"],a);const u=c(n,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const f=c(n,["codeExecution"]);if(f!=null&&d(e,["codeExecution"],f),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=c(n,["googleMaps"]);g!=null&&d(e,["googleMaps"],LE(g));const v=c(n,["googleSearch"]);v!=null&&d(e,["googleSearch"],BE(v));const y=c(n,["urlContext"]);return y!=null&&d(e,["urlContext"],y),e}function JE(n){const e={},i=c(n,["functionDeclarations"]);if(i!=null){let T=i;Array.isArray(T)&&(T=T.map(S=>kE(S))),d(e,["functionDeclarations"],T)}const o=c(n,["retrieval"]);o!=null&&d(e,["retrieval"],o);const a=c(n,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],a);const u=c(n,["computerUse"]);if(u!=null&&d(e,["computerUse"],u),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=c(n,["codeExecution"]);f!=null&&d(e,["codeExecution"],f);const g=c(n,["enterpriseWebSearch"]);g!=null&&d(e,["enterpriseWebSearch"],g);const v=c(n,["googleMaps"]);v!=null&&d(e,["googleMaps"],v);const y=c(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],y);const x=c(n,["urlContext"]);return x!=null&&d(e,["urlContext"],x),e}function KE(n,e){const i={},o=c(n,["ttl"]);e!==void 0&&o!=null&&d(e,["ttl"],o);const a=c(n,["expireTime"]);return e!==void 0&&a!=null&&d(e,["expireTime"],a),i}function $E(n,e){const i={},o=c(n,["ttl"]);e!==void 0&&o!=null&&d(e,["ttl"],o);const a=c(n,["expireTime"]);return e!==void 0&&a!=null&&d(e,["expireTime"],a),i}function XE(n,e){const i={},o=c(e,["name"]);o!=null&&d(i,["_url","name"],Bn(n,o));const a=c(e,["config"]);return a!=null&&KE(a,i),i}function QE(n,e){const i={},o=c(e,["name"]);o!=null&&d(i,["_url","name"],Bn(n,o));const a=c(e,["config"]);return a!=null&&$E(a,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WE extends Ln{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Ki(kn.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(i),i)}async create(e){var i,o,a,u;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=CE(this.apiClient,e);return g=se("cachedContents",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),f.then(x=>x)}else{const y=bE(this.apiClient,e);return g=se("cachedContents",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),f.then(x=>x)}}async get(e){var i,o,a,u;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=PE(this.apiClient,e);return g=se("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),f.then(x=>x)}else{const y=UE(this.apiClient,e);return g=se("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),f.then(x=>x)}}async delete(e){var i,o,a,u;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=NE(this.apiClient,e);return g=se("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),f.then(x=>{const T=IE(x),S=new uy;return Object.assign(S,T),S})}else{const y=AE(this.apiClient,e);return g=se("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),f.then(x=>{const T=wE(x),S=new uy;return Object.assign(S,T),S})}}async update(e){var i,o,a,u;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=QE(this.apiClient,e);return g=se("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),f.then(x=>x)}else{const y=XE(this.apiClient,e);return g=se("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),f.then(x=>x)}}async listInternal(e){var i,o,a,u;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=zE(e);return g=se("cachedContents",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),f.then(x=>{const T=VE(x),S=new cy;return Object.assign(S,T),S})}else{const y=HE(e);return g=se("cachedContents",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),f.then(x=>{const T=qE(x),S=new cy;return Object.assign(S,T),S})}}}function yy(n){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&n[e],o=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ge(n){return this instanceof Ge?(this.v=n,this):new Ge(n)}function qs(n,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(n,e||[]),a,u=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",f),a[Symbol.asyncIterator]=function(){return this},a;function f(b){return function(U){return Promise.resolve(U).then(b,T)}}function g(b,U){o[b]&&(a[b]=function(M){return new Promise(function(J,j){u.push([b,M,J,j])>1||v(b,M)})},U&&(a[b]=U(a[b])))}function v(b,U){try{y(o[b](U))}catch(M){S(u[0][3],M)}}function y(b){b.value instanceof Ge?Promise.resolve(b.value.v).then(x,T):S(u[0][2],b)}function x(b){v("next",b)}function T(b){v("throw",b)}function S(b,U){b(U),u.shift(),u.length&&v(u[0][0],u[0][1])}}function nr(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],i;return e?e.call(n):(n=typeof yy=="function"?yy(n):n[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(u){i[u]=n[u]&&function(f){return new Promise(function(g,v){f=n[u](f),a(g,v,f.done,f.value)})}}function a(u,f,g,v){Promise.resolve(v).then(function(y){u({value:y,done:g})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZE(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const i=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:R0(i)}function R0(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function eb(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function vy(n){if(n===void 0||n.length===0)return[];const e=[],i=n.length;let o=0;for(;o<i;)if(n[o].role==="user")e.push(n[o]),o++;else{const a=[];let u=!0;for(;o<i&&n[o].role==="model";)a.push(n[o]),u&&!R0(n[o])&&(u=!1),o++;u?e.push(...a):e.pop()}return e}class tb{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new nb(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class nb{constructor(e,i,o,a={},u=[]){this.apiClient=e,this.modelsModule=i,this.model=o,this.config=a,this.history=u,this.sendPromise=Promise.resolve(),eb(u)}async sendMessage(e){var i;await this.sendPromise;const o=ct(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var u,f,g;const v=await a,y=(f=(u=v.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content,x=v.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let S=[];x!=null&&(S=(g=x.slice(T))!==null&&g!==void 0?g:[]);const b=y?[y]:[];this.recordHistory(o,b,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var i;await this.sendPromise;const o=ct(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const u=await a;return this.processStreamResponse(u,o)}getHistory(e=!1){const i=e?vy(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){var o,a;return qs(this,arguments,function*(){var f,g,v,y;const x=[];try{for(var T=!0,S=nr(e),b;b=yield Ge(S.next()),f=b.done,!f;T=!0){y=b.value,T=!1;const U=y;if(ZE(U)){const M=(a=(o=U.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content;M!==void 0&&x.push(M)}yield yield Ge(U)}}catch(U){g={error:U}}finally{try{!T&&!f&&(v=S.return)&&(yield Ge(v.call(S)))}finally{if(g)throw g.error}}this.recordHistory(i,x)})}recordHistory(e,i,o){let a=[];i.length>0&&i.every(u=>u.role!==void 0)?a=i:a.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...vy(o)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class il extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,il.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ib(n){const e={},i=c(n,["file"]);return i!=null&&d(e,["file"],i),e}function sb(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function ob(n){const e={},i=c(n,["name"]);return i!=null&&d(e,["_url","file"],E0(i)),e}function rb(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function ab(n){const e={},i=c(n,["name"]);return i!=null&&d(e,["_url","file"],E0(i)),e}function lb(n,e){const i={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const a=c(n,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),i}function ub(n){const e={},i=c(n,["config"]);return i!=null&&lb(i,e),e}function cb(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const a=c(n,["files"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["files"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class db extends Ln{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Ki(kn.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,o;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ub(e);return u=se("files",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(y=>{const x=y;return x.sdkHttpResponse={headers:v.headers},x})),a.then(v=>{const y=cb(v),x=new mS;return Object.assign(x,y),x})}}async createInternal(e){var i,o;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ib(e);return u=se("upload/v1beta/files",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),a.then(v=>{const y=sb(v),x=new gS;return Object.assign(x,y),x})}}async get(e){var i,o;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ab(e);return u=se("files/{file}",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),a.then(v=>v)}}async delete(e){var i,o;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ob(e);return u=se("files/{file}",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(y=>{const x=y;return x.sdkHttpResponse={headers:v.headers},x})),a.then(v=>{const y=rb(v),x=new yS;return Object.assign(x,y),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ba(n){const e={},i=c(n,["data"]);if(i!=null&&d(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function fb(n){const e={},i=c(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>wb(u))),d(e,["parts"],a)}const o=c(n,["role"]);return o!=null&&d(e,["role"],o),e}function hb(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=c(n,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function pb(n){const e={},i=c(n,["id"]);i!=null&&d(e,["id"],i);const o=c(n,["args"]);o!=null&&d(e,["args"],o);const a=c(n,["name"]);if(a!=null&&d(e,["name"],a),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function mb(n){const e={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=c(n,["description"]);i!=null&&d(e,["description"],i);const o=c(n,["name"]);o!=null&&d(e,["name"],o);const a=c(n,["parameters"]);a!=null&&d(e,["parameters"],a);const u=c(n,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const f=c(n,["response"]);f!=null&&d(e,["response"],f);const g=c(n,["responseJsonSchema"]);return g!=null&&d(e,["responseJsonSchema"],g),e}function gb(n){const e={},i=c(n,["modelSelectionConfig"]);i!=null&&d(e,["modelConfig"],i);const o=c(n,["responseJsonSchema"]);o!=null&&d(e,["responseJsonSchema"],o);const a=c(n,["audioTimestamp"]);a!=null&&d(e,["audioTimestamp"],a);const u=c(n,["candidateCount"]);u!=null&&d(e,["candidateCount"],u);const f=c(n,["enableAffectiveDialog"]);f!=null&&d(e,["enableAffectiveDialog"],f);const g=c(n,["frequencyPenalty"]);g!=null&&d(e,["frequencyPenalty"],g);const v=c(n,["logprobs"]);v!=null&&d(e,["logprobs"],v);const y=c(n,["maxOutputTokens"]);y!=null&&d(e,["maxOutputTokens"],y);const x=c(n,["mediaResolution"]);x!=null&&d(e,["mediaResolution"],x);const T=c(n,["presencePenalty"]);T!=null&&d(e,["presencePenalty"],T);const S=c(n,["responseLogprobs"]);S!=null&&d(e,["responseLogprobs"],S);const b=c(n,["responseMimeType"]);b!=null&&d(e,["responseMimeType"],b);const U=c(n,["responseModalities"]);U!=null&&d(e,["responseModalities"],U);const M=c(n,["responseSchema"]);M!=null&&d(e,["responseSchema"],M);const J=c(n,["routingConfig"]);J!=null&&d(e,["routingConfig"],J);const j=c(n,["seed"]);j!=null&&d(e,["seed"],j);const Q=c(n,["speechConfig"]);Q!=null&&d(e,["speechConfig"],M0(Q));const P=c(n,["stopSequences"]);P!=null&&d(e,["stopSequences"],P);const X=c(n,["temperature"]);X!=null&&d(e,["temperature"],X);const oe=c(n,["thinkingConfig"]);oe!=null&&d(e,["thinkingConfig"],oe);const re=c(n,["topK"]);re!=null&&d(e,["topK"],re);const $=c(n,["topP"]);if($!=null&&d(e,["topP"],$),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function yb(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function vb(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function xb(n,e){const i={},o=c(n,["generationConfig"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig"],o);const a=c(n,["responseModalities"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","responseModalities"],a);const u=c(n,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const f=c(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const g=c(n,["topK"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","topK"],g);const v=c(n,["maxOutputTokens"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","maxOutputTokens"],v);const y=c(n,["mediaResolution"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","mediaResolution"],y);const x=c(n,["seed"]);e!==void 0&&x!=null&&d(e,["setup","generationConfig","seed"],x);const T=c(n,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],Ed(T));const S=c(n,["thinkingConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","thinkingConfig"],S);const b=c(n,["enableAffectiveDialog"]);e!==void 0&&b!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],b);const U=c(n,["systemInstruction"]);e!==void 0&&U!=null&&d(e,["setup","systemInstruction"],fb(ct(U)));const M=c(n,["tools"]);if(e!==void 0&&M!=null){let re=Ws(M);Array.isArray(re)&&(re=re.map($=>Rb(Qs($)))),d(e,["setup","tools"],re)}const J=c(n,["sessionResumption"]);e!==void 0&&J!=null&&d(e,["setup","sessionResumption"],Ib(J));const j=c(n,["inputAudioTranscription"]);e!==void 0&&j!=null&&d(e,["setup","inputAudioTranscription"],j);const Q=c(n,["outputAudioTranscription"]);e!==void 0&&Q!=null&&d(e,["setup","outputAudioTranscription"],Q);const P=c(n,["realtimeInputConfig"]);e!==void 0&&P!=null&&d(e,["setup","realtimeInputConfig"],P);const X=c(n,["contextWindowCompression"]);e!==void 0&&X!=null&&d(e,["setup","contextWindowCompression"],X);const oe=c(n,["proactivity"]);return e!==void 0&&oe!=null&&d(e,["setup","proactivity"],oe),i}function _b(n,e){const i={},o=c(n,["generationConfig"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig"],gb(o));const a=c(n,["responseModalities"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","responseModalities"],a);const u=c(n,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const f=c(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const g=c(n,["topK"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","topK"],g);const v=c(n,["maxOutputTokens"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","maxOutputTokens"],v);const y=c(n,["mediaResolution"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","mediaResolution"],y);const x=c(n,["seed"]);e!==void 0&&x!=null&&d(e,["setup","generationConfig","seed"],x);const T=c(n,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],M0(Ed(T)));const S=c(n,["thinkingConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","thinkingConfig"],S);const b=c(n,["enableAffectiveDialog"]);e!==void 0&&b!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],b);const U=c(n,["systemInstruction"]);e!==void 0&&U!=null&&d(e,["setup","systemInstruction"],ct(U));const M=c(n,["tools"]);if(e!==void 0&&M!=null){let re=Ws(M);Array.isArray(re)&&(re=re.map($=>Mb(Qs($)))),d(e,["setup","tools"],re)}const J=c(n,["sessionResumption"]);e!==void 0&&J!=null&&d(e,["setup","sessionResumption"],J);const j=c(n,["inputAudioTranscription"]);e!==void 0&&j!=null&&d(e,["setup","inputAudioTranscription"],j);const Q=c(n,["outputAudioTranscription"]);e!==void 0&&Q!=null&&d(e,["setup","outputAudioTranscription"],Q);const P=c(n,["realtimeInputConfig"]);e!==void 0&&P!=null&&d(e,["setup","realtimeInputConfig"],P);const X=c(n,["contextWindowCompression"]);e!==void 0&&X!=null&&d(e,["setup","contextWindowCompression"],X);const oe=c(n,["proactivity"]);return e!==void 0&&oe!=null&&d(e,["setup","proactivity"],oe),i}function Tb(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["setup","model"],De(n,o));const a=c(e,["config"]);return a!=null&&d(i,["config"],xb(a,i)),i}function Sb(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["setup","model"],De(n,o));const a=c(e,["config"]);return a!=null&&d(i,["config"],_b(a,i)),i}function Eb(n){const e={},i=c(n,["musicGenerationConfig"]);return i!=null&&d(e,["musicGenerationConfig"],i),e}function bb(n){const e={},i=c(n,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),d(e,["weightedPrompts"],o)}return e}function Cb(n){const e={},i=c(n,["media"]);if(i!=null){let y=v0(i);Array.isArray(y)&&(y=y.map(x=>Ba(x))),d(e,["mediaChunks"],y)}const o=c(n,["audio"]);o!=null&&d(e,["audio"],Ba(_0(o)));const a=c(n,["audioStreamEnd"]);a!=null&&d(e,["audioStreamEnd"],a);const u=c(n,["video"]);u!=null&&d(e,["video"],Ba(x0(u)));const f=c(n,["text"]);f!=null&&d(e,["text"],f);const g=c(n,["activityStart"]);g!=null&&d(e,["activityStart"],g);const v=c(n,["activityEnd"]);return v!=null&&d(e,["activityEnd"],v),e}function Ab(n){const e={},i=c(n,["media"]);if(i!=null){let y=v0(i);Array.isArray(y)&&(y=y.map(x=>x)),d(e,["mediaChunks"],y)}const o=c(n,["audio"]);o!=null&&d(e,["audio"],_0(o));const a=c(n,["audioStreamEnd"]);a!=null&&d(e,["audioStreamEnd"],a);const u=c(n,["video"]);u!=null&&d(e,["video"],x0(u));const f=c(n,["text"]);f!=null&&d(e,["text"],f);const g=c(n,["activityStart"]);g!=null&&d(e,["activityStart"],g);const v=c(n,["activityEnd"]);return v!=null&&d(e,["activityEnd"],v),e}function Nb(n){const e={},i=c(n,["setupComplete"]);i!=null&&d(e,["setupComplete"],i);const o=c(n,["serverContent"]);o!=null&&d(e,["serverContent"],o);const a=c(n,["toolCall"]);a!=null&&d(e,["toolCall"],a);const u=c(n,["toolCallCancellation"]);u!=null&&d(e,["toolCallCancellation"],u);const f=c(n,["usageMetadata"]);f!=null&&d(e,["usageMetadata"],Db(f));const g=c(n,["goAway"]);g!=null&&d(e,["goAway"],g);const v=c(n,["sessionResumptionUpdate"]);return v!=null&&d(e,["sessionResumptionUpdate"],v),e}function wb(n){const e={},i=c(n,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const o=c(n,["codeExecutionResult"]);o!=null&&d(e,["codeExecutionResult"],o);const a=c(n,["executableCode"]);a!=null&&d(e,["executableCode"],a);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],hb(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],pb(f));const g=c(n,["functionResponse"]);g!=null&&d(e,["functionResponse"],g);const v=c(n,["inlineData"]);v!=null&&d(e,["inlineData"],Ba(v));const y=c(n,["text"]);y!=null&&d(e,["text"],y);const x=c(n,["thought"]);x!=null&&d(e,["thought"],x);const T=c(n,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const S=c(n,["videoMetadata"]);return S!=null&&d(e,["videoMetadata"],S),e}function Ib(n){const e={},i=c(n,["handle"]);if(i!=null&&d(e,["handle"],i),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function M0(n){const e={},i=c(n,["languageCode"]);i!=null&&d(e,["languageCode"],i);const o=c(n,["voiceConfig"]);if(o!=null&&d(e,["voiceConfig"],o),c(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Rb(n){const e={},i=c(n,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(T=>T)),d(e,["functionDeclarations"],x)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(n,["googleSearchRetrieval"]);o!=null&&d(e,["googleSearchRetrieval"],o);const a=c(n,["computerUse"]);a!=null&&d(e,["computerUse"],a);const u=c(n,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const f=c(n,["codeExecution"]);if(f!=null&&d(e,["codeExecution"],f),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=c(n,["googleMaps"]);g!=null&&d(e,["googleMaps"],yb(g));const v=c(n,["googleSearch"]);v!=null&&d(e,["googleSearch"],vb(v));const y=c(n,["urlContext"]);return y!=null&&d(e,["urlContext"],y),e}function Mb(n){const e={},i=c(n,["functionDeclarations"]);if(i!=null){let T=i;Array.isArray(T)&&(T=T.map(S=>mb(S))),d(e,["functionDeclarations"],T)}const o=c(n,["retrieval"]);o!=null&&d(e,["retrieval"],o);const a=c(n,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],a);const u=c(n,["computerUse"]);if(u!=null&&d(e,["computerUse"],u),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=c(n,["codeExecution"]);f!=null&&d(e,["codeExecution"],f);const g=c(n,["enterpriseWebSearch"]);g!=null&&d(e,["enterpriseWebSearch"],g);const v=c(n,["googleMaps"]);v!=null&&d(e,["googleMaps"],v);const y=c(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],y);const x=c(n,["urlContext"]);return x!=null&&d(e,["urlContext"],x),e}function Db(n){const e={},i=c(n,["promptTokenCount"]);i!=null&&d(e,["promptTokenCount"],i);const o=c(n,["cachedContentTokenCount"]);o!=null&&d(e,["cachedContentTokenCount"],o);const a=c(n,["candidatesTokenCount"]);a!=null&&d(e,["responseTokenCount"],a);const u=c(n,["toolUsePromptTokenCount"]);u!=null&&d(e,["toolUsePromptTokenCount"],u);const f=c(n,["thoughtsTokenCount"]);f!=null&&d(e,["thoughtsTokenCount"],f);const g=c(n,["totalTokenCount"]);g!=null&&d(e,["totalTokenCount"],g);const v=c(n,["promptTokensDetails"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(U=>U)),d(e,["promptTokensDetails"],b)}const y=c(n,["cacheTokensDetails"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(U=>U)),d(e,["cacheTokensDetails"],b)}const x=c(n,["candidatesTokensDetails"]);if(x!=null){let b=x;Array.isArray(b)&&(b=b.map(U=>U)),d(e,["responseTokensDetails"],b)}const T=c(n,["toolUsePromptTokensDetails"]);if(T!=null){let b=T;Array.isArray(b)&&(b=b.map(U=>U)),d(e,["toolUsePromptTokensDetails"],b)}const S=c(n,["trafficType"]);return S!=null&&d(e,["trafficType"],S),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kb(n){const e={},i=c(n,["data"]);if(i!=null&&d(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function Ub(n){const e={},i=c(n,["content"]);i!=null&&d(e,["content"],i);const o=c(n,["citationMetadata"]);o!=null&&d(e,["citationMetadata"],Pb(o));const a=c(n,["tokenCount"]);a!=null&&d(e,["tokenCount"],a);const u=c(n,["finishReason"]);u!=null&&d(e,["finishReason"],u);const f=c(n,["avgLogprobs"]);f!=null&&d(e,["avgLogprobs"],f);const g=c(n,["groundingMetadata"]);g!=null&&d(e,["groundingMetadata"],g);const v=c(n,["index"]);v!=null&&d(e,["index"],v);const y=c(n,["logprobsResult"]);y!=null&&d(e,["logprobsResult"],y);const x=c(n,["safetyRatings"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(b=>b)),d(e,["safetyRatings"],S)}const T=c(n,["urlContextMetadata"]);return T!=null&&d(e,["urlContextMetadata"],T),e}function Pb(n){const e={},i=c(n,["citationSources"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),d(e,["citations"],o)}return e}function Lb(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["_url","model"],De(n,o));const a=c(e,["contents"]);if(a!=null){let u=Gt(a);Array.isArray(u)&&(u=u.map(f=>f)),d(i,["contents"],u)}return i}function Bb(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["tokensInfo"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),d(e,["tokensInfo"],a)}return e}function Fb(n){const e={},i=c(n,["values"]);i!=null&&d(e,["values"],i);const o=c(n,["statistics"]);return o!=null&&d(e,["statistics"],Ob(o)),e}function Ob(n){const e={},i=c(n,["truncated"]);i!=null&&d(e,["truncated"],i);const o=c(n,["token_count"]);return o!=null&&d(e,["tokenCount"],o),e}function sl(n){const e={},i=c(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>K1(u))),d(e,["parts"],a)}const o=c(n,["role"]);return o!=null&&d(e,["role"],o),e}function Hb(n){const e={},i=c(n,["controlType"]);i!=null&&d(e,["controlType"],i);const o=c(n,["enableControlImageComputation"]);return o!=null&&d(e,["computeControl"],o),e}function zb(n){const e={};if(c(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function qb(n,e){const i={},o=c(n,["systemInstruction"]);e!==void 0&&o!=null&&d(e,["systemInstruction"],ct(o));const a=c(n,["tools"]);if(e!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(g=>L0(g))),d(e,["tools"],f)}const u=c(n,["generationConfig"]);return e!==void 0&&u!=null&&d(e,["generationConfig"],k1(u)),i}function Vb(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["_url","model"],De(n,o));const a=c(e,["contents"]);if(a!=null){let f=Gt(a);Array.isArray(f)&&(f=f.map(g=>sl(g))),d(i,["contents"],f)}const u=c(e,["config"]);return u!=null&&zb(u),i}function Gb(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["_url","model"],De(n,o));const a=c(e,["contents"]);if(a!=null){let f=Gt(a);Array.isArray(f)&&(f=f.map(g=>g)),d(i,["contents"],f)}const u=c(e,["config"]);return u!=null&&qb(u,i),i}function jb(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["totalTokens"]);o!=null&&d(e,["totalTokens"],o);const a=c(n,["cachedContentTokenCount"]);return a!=null&&d(e,["cachedContentTokenCount"],a),e}function Yb(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["totalTokens"]);return o!=null&&d(e,["totalTokens"],o),e}function Jb(n,e){const i={},o=c(e,["model"]);return o!=null&&d(i,["_url","name"],De(n,o)),i}function Kb(n,e){const i={},o=c(e,["model"]);return o!=null&&d(i,["_url","name"],De(n,o)),i}function $b(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function Xb(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function Qb(n,e){const i={},o=c(n,["outputGcsUri"]);e!==void 0&&o!=null&&d(e,["parameters","storageUri"],o);const a=c(n,["negativePrompt"]);e!==void 0&&a!=null&&d(e,["parameters","negativePrompt"],a);const u=c(n,["numberOfImages"]);e!==void 0&&u!=null&&d(e,["parameters","sampleCount"],u);const f=c(n,["aspectRatio"]);e!==void 0&&f!=null&&d(e,["parameters","aspectRatio"],f);const g=c(n,["guidanceScale"]);e!==void 0&&g!=null&&d(e,["parameters","guidanceScale"],g);const v=c(n,["seed"]);e!==void 0&&v!=null&&d(e,["parameters","seed"],v);const y=c(n,["safetyFilterLevel"]);e!==void 0&&y!=null&&d(e,["parameters","safetySetting"],y);const x=c(n,["personGeneration"]);e!==void 0&&x!=null&&d(e,["parameters","personGeneration"],x);const T=c(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&d(e,["parameters","includeSafetyAttributes"],T);const S=c(n,["includeRaiReason"]);e!==void 0&&S!=null&&d(e,["parameters","includeRaiReason"],S);const b=c(n,["language"]);e!==void 0&&b!=null&&d(e,["parameters","language"],b);const U=c(n,["outputMimeType"]);e!==void 0&&U!=null&&d(e,["parameters","outputOptions","mimeType"],U);const M=c(n,["outputCompressionQuality"]);e!==void 0&&M!=null&&d(e,["parameters","outputOptions","compressionQuality"],M);const J=c(n,["addWatermark"]);e!==void 0&&J!=null&&d(e,["parameters","addWatermark"],J);const j=c(n,["labels"]);e!==void 0&&j!=null&&d(e,["labels"],j);const Q=c(n,["editMode"]);e!==void 0&&Q!=null&&d(e,["parameters","editMode"],Q);const P=c(n,["baseSteps"]);return e!==void 0&&P!=null&&d(e,["parameters","editConfig","baseSteps"],P),i}function Wb(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["_url","model"],De(n,o));const a=c(e,["prompt"]);a!=null&&d(i,["instances[0]","prompt"],a);const u=c(e,["referenceImages"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(v=>eC(v))),d(i,["instances[0]","referenceImages"],g)}const f=c(e,["config"]);return f!=null&&Qb(f,i),i}function Zb(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>ol(u))),d(e,["generatedImages"],a)}return e}function e1(n,e){const i={},o=c(n,["taskType"]);e!==void 0&&o!=null&&d(e,["requests[]","taskType"],o);const a=c(n,["title"]);e!==void 0&&a!=null&&d(e,["requests[]","title"],a);const u=c(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&d(e,["requests[]","outputDimensionality"],u),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function t1(n,e){const i={},o=c(n,["taskType"]);e!==void 0&&o!=null&&d(e,["instances[]","task_type"],o);const a=c(n,["title"]);e!==void 0&&a!=null&&d(e,["instances[]","title"],a);const u=c(n,["outputDimensionality"]);e!==void 0&&u!=null&&d(e,["parameters","outputDimensionality"],u);const f=c(n,["mimeType"]);e!==void 0&&f!=null&&d(e,["instances[]","mimeType"],f);const g=c(n,["autoTruncate"]);return e!==void 0&&g!=null&&d(e,["parameters","autoTruncate"],g),i}function n1(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["_url","model"],De(n,o));const a=c(e,["contents"]);if(a!=null){let g=_d(n,a);Array.isArray(g)&&(g=g.map(v=>v)),d(i,["requests[]","content"],g)}const u=c(e,["config"]);u!=null&&e1(u,i);const f=c(e,["model"]);return f!==void 0&&d(i,["requests[]","model"],De(n,f)),i}function i1(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["_url","model"],De(n,o));const a=c(e,["contents"]);if(a!=null){let f=_d(n,a);Array.isArray(f)&&(f=f.map(g=>g)),d(i,["instances[]","content"],f)}const u=c(e,["config"]);return u!=null&&t1(u,i),i}function s1(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["embeddings"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["embeddings"],u)}const a=c(n,["metadata"]);return a!=null&&d(e,["metadata"],a),e}function o1(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["predictions[]","embeddings"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>Fb(f))),d(e,["embeddings"],u)}const a=c(n,["metadata"]);return a!=null&&d(e,["metadata"],a),e}function r1(n){const e={},i=c(n,["endpoint"]);i!=null&&d(e,["name"],i);const o=c(n,["deployedModelId"]);return o!=null&&d(e,["deployedModelId"],o),e}function a1(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=c(n,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function l1(n){const e={},i=c(n,["id"]);i!=null&&d(e,["id"],i);const o=c(n,["args"]);o!=null&&d(e,["args"],o);const a=c(n,["name"]);if(a!=null&&d(e,["name"],a),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function u1(n){const e={},i=c(n,["mode"]);i!=null&&d(e,["mode"],i);const o=c(n,["allowedFunctionNames"]);if(o!=null&&d(e,["allowedFunctionNames"],o),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function c1(n){const e={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=c(n,["description"]);i!=null&&d(e,["description"],i);const o=c(n,["name"]);o!=null&&d(e,["name"],o);const a=c(n,["parameters"]);a!=null&&d(e,["parameters"],a);const u=c(n,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const f=c(n,["response"]);f!=null&&d(e,["response"],f);const g=c(n,["responseJsonSchema"]);return g!=null&&d(e,["responseJsonSchema"],g),e}function d1(n,e,i){const o={},a=c(e,["systemInstruction"]);i!==void 0&&a!=null&&d(i,["systemInstruction"],sl(ct(a)));const u=c(e,["temperature"]);u!=null&&d(o,["temperature"],u);const f=c(e,["topP"]);f!=null&&d(o,["topP"],f);const g=c(e,["topK"]);g!=null&&d(o,["topK"],g);const v=c(e,["candidateCount"]);v!=null&&d(o,["candidateCount"],v);const y=c(e,["maxOutputTokens"]);y!=null&&d(o,["maxOutputTokens"],y);const x=c(e,["stopSequences"]);x!=null&&d(o,["stopSequences"],x);const T=c(e,["responseLogprobs"]);T!=null&&d(o,["responseLogprobs"],T);const S=c(e,["logprobs"]);S!=null&&d(o,["logprobs"],S);const b=c(e,["presencePenalty"]);b!=null&&d(o,["presencePenalty"],b);const U=c(e,["frequencyPenalty"]);U!=null&&d(o,["frequencyPenalty"],U);const M=c(e,["seed"]);M!=null&&d(o,["seed"],M);const J=c(e,["responseMimeType"]);J!=null&&d(o,["responseMimeType"],J);const j=c(e,["responseSchema"]);j!=null&&d(o,["responseSchema"],Td(j));const Q=c(e,["responseJsonSchema"]);if(Q!=null&&d(o,["responseJsonSchema"],Q),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=c(e,["safetySettings"]);if(i!==void 0&&P!=null){let K=P;Array.isArray(K)&&(K=K.map(Y=>tC(Y))),d(i,["safetySettings"],K)}const X=c(e,["tools"]);if(i!==void 0&&X!=null){let K=Ws(X);Array.isArray(K)&&(K=K.map(Y=>lC(Qs(Y)))),d(i,["tools"],K)}const oe=c(e,["toolConfig"]);if(i!==void 0&&oe!=null&&d(i,["toolConfig"],aC(oe)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const re=c(e,["cachedContent"]);i!==void 0&&re!=null&&d(i,["cachedContent"],Bn(n,re));const $=c(e,["responseModalities"]);$!=null&&d(o,["responseModalities"],$);const fe=c(e,["mediaResolution"]);fe!=null&&d(o,["mediaResolution"],fe);const ne=c(e,["speechConfig"]);if(ne!=null&&d(o,["speechConfig"],Sd(ne)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const he=c(e,["thinkingConfig"]);he!=null&&d(o,["thinkingConfig"],he);const W=c(e,["imageConfig"]);return W!=null&&d(o,["imageConfig"],F1(W)),o}function f1(n,e,i){const o={},a=c(e,["systemInstruction"]);i!==void 0&&a!=null&&d(i,["systemInstruction"],ct(a));const u=c(e,["temperature"]);u!=null&&d(o,["temperature"],u);const f=c(e,["topP"]);f!=null&&d(o,["topP"],f);const g=c(e,["topK"]);g!=null&&d(o,["topK"],g);const v=c(e,["candidateCount"]);v!=null&&d(o,["candidateCount"],v);const y=c(e,["maxOutputTokens"]);y!=null&&d(o,["maxOutputTokens"],y);const x=c(e,["stopSequences"]);x!=null&&d(o,["stopSequences"],x);const T=c(e,["responseLogprobs"]);T!=null&&d(o,["responseLogprobs"],T);const S=c(e,["logprobs"]);S!=null&&d(o,["logprobs"],S);const b=c(e,["presencePenalty"]);b!=null&&d(o,["presencePenalty"],b);const U=c(e,["frequencyPenalty"]);U!=null&&d(o,["frequencyPenalty"],U);const M=c(e,["seed"]);M!=null&&d(o,["seed"],M);const J=c(e,["responseMimeType"]);J!=null&&d(o,["responseMimeType"],J);const j=c(e,["responseSchema"]);j!=null&&d(o,["responseSchema"],Td(j));const Q=c(e,["responseJsonSchema"]);Q!=null&&d(o,["responseJsonSchema"],Q);const P=c(e,["routingConfig"]);P!=null&&d(o,["routingConfig"],P);const X=c(e,["modelSelectionConfig"]);X!=null&&d(o,["modelConfig"],X);const oe=c(e,["safetySettings"]);if(i!==void 0&&oe!=null){let N=oe;Array.isArray(N)&&(N=N.map(V=>V)),d(i,["safetySettings"],N)}const re=c(e,["tools"]);if(i!==void 0&&re!=null){let N=Ws(re);Array.isArray(N)&&(N=N.map(V=>L0(Qs(V)))),d(i,["tools"],N)}const $=c(e,["toolConfig"]);i!==void 0&&$!=null&&d(i,["toolConfig"],$);const fe=c(e,["labels"]);i!==void 0&&fe!=null&&d(i,["labels"],fe);const ne=c(e,["cachedContent"]);i!==void 0&&ne!=null&&d(i,["cachedContent"],Bn(n,ne));const he=c(e,["responseModalities"]);he!=null&&d(o,["responseModalities"],he);const W=c(e,["mediaResolution"]);W!=null&&d(o,["mediaResolution"],W);const K=c(e,["speechConfig"]);K!=null&&d(o,["speechConfig"],P0(Sd(K)));const Y=c(e,["audioTimestamp"]);Y!=null&&d(o,["audioTimestamp"],Y);const ge=c(e,["thinkingConfig"]);ge!=null&&d(o,["thinkingConfig"],ge);const ie=c(e,["imageConfig"]);return ie!=null&&d(o,["imageConfig"],O1(ie)),o}function xy(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["_url","model"],De(n,o));const a=c(e,["contents"]);if(a!=null){let f=Gt(a);Array.isArray(f)&&(f=f.map(g=>sl(g))),d(i,["contents"],f)}const u=c(e,["config"]);return u!=null&&d(i,["generationConfig"],d1(n,u,i)),i}function _y(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["_url","model"],De(n,o));const a=c(e,["contents"]);if(a!=null){let f=Gt(a);Array.isArray(f)&&(f=f.map(g=>g)),d(i,["contents"],f)}const u=c(e,["config"]);return u!=null&&d(i,["generationConfig"],f1(n,u,i)),i}function Ty(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["candidates"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(y=>Ub(y))),d(e,["candidates"],v)}const a=c(n,["modelVersion"]);a!=null&&d(e,["modelVersion"],a);const u=c(n,["promptFeedback"]);u!=null&&d(e,["promptFeedback"],u);const f=c(n,["responseId"]);f!=null&&d(e,["responseId"],f);const g=c(n,["usageMetadata"]);return g!=null&&d(e,["usageMetadata"],g),e}function Sy(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["candidates"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(x=>x)),d(e,["candidates"],y)}const a=c(n,["createTime"]);a!=null&&d(e,["createTime"],a);const u=c(n,["modelVersion"]);u!=null&&d(e,["modelVersion"],u);const f=c(n,["promptFeedback"]);f!=null&&d(e,["promptFeedback"],f);const g=c(n,["responseId"]);g!=null&&d(e,["responseId"],g);const v=c(n,["usageMetadata"]);return v!=null&&d(e,["usageMetadata"],v),e}function h1(n,e){const i={};if(c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=c(n,["numberOfImages"]);e!==void 0&&o!=null&&d(e,["parameters","sampleCount"],o);const a=c(n,["aspectRatio"]);e!==void 0&&a!=null&&d(e,["parameters","aspectRatio"],a);const u=c(n,["guidanceScale"]);if(e!==void 0&&u!=null&&d(e,["parameters","guidanceScale"],u),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=c(n,["safetyFilterLevel"]);e!==void 0&&f!=null&&d(e,["parameters","safetySetting"],f);const g=c(n,["personGeneration"]);e!==void 0&&g!=null&&d(e,["parameters","personGeneration"],g);const v=c(n,["includeSafetyAttributes"]);e!==void 0&&v!=null&&d(e,["parameters","includeSafetyAttributes"],v);const y=c(n,["includeRaiReason"]);e!==void 0&&y!=null&&d(e,["parameters","includeRaiReason"],y);const x=c(n,["language"]);e!==void 0&&x!=null&&d(e,["parameters","language"],x);const T=c(n,["outputMimeType"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","mimeType"],T);const S=c(n,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&d(e,["parameters","outputOptions","compressionQuality"],S),c(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=c(n,["imageSize"]);if(e!==void 0&&b!=null&&d(e,["parameters","sampleImageSize"],b),c(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function p1(n,e){const i={},o=c(n,["outputGcsUri"]);e!==void 0&&o!=null&&d(e,["parameters","storageUri"],o);const a=c(n,["negativePrompt"]);e!==void 0&&a!=null&&d(e,["parameters","negativePrompt"],a);const u=c(n,["numberOfImages"]);e!==void 0&&u!=null&&d(e,["parameters","sampleCount"],u);const f=c(n,["aspectRatio"]);e!==void 0&&f!=null&&d(e,["parameters","aspectRatio"],f);const g=c(n,["guidanceScale"]);e!==void 0&&g!=null&&d(e,["parameters","guidanceScale"],g);const v=c(n,["seed"]);e!==void 0&&v!=null&&d(e,["parameters","seed"],v);const y=c(n,["safetyFilterLevel"]);e!==void 0&&y!=null&&d(e,["parameters","safetySetting"],y);const x=c(n,["personGeneration"]);e!==void 0&&x!=null&&d(e,["parameters","personGeneration"],x);const T=c(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&d(e,["parameters","includeSafetyAttributes"],T);const S=c(n,["includeRaiReason"]);e!==void 0&&S!=null&&d(e,["parameters","includeRaiReason"],S);const b=c(n,["language"]);e!==void 0&&b!=null&&d(e,["parameters","language"],b);const U=c(n,["outputMimeType"]);e!==void 0&&U!=null&&d(e,["parameters","outputOptions","mimeType"],U);const M=c(n,["outputCompressionQuality"]);e!==void 0&&M!=null&&d(e,["parameters","outputOptions","compressionQuality"],M);const J=c(n,["addWatermark"]);e!==void 0&&J!=null&&d(e,["parameters","addWatermark"],J);const j=c(n,["labels"]);e!==void 0&&j!=null&&d(e,["labels"],j);const Q=c(n,["imageSize"]);e!==void 0&&Q!=null&&d(e,["parameters","sampleImageSize"],Q);const P=c(n,["enhancePrompt"]);return e!==void 0&&P!=null&&d(e,["parameters","enhancePrompt"],P),i}function m1(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["_url","model"],De(n,o));const a=c(e,["prompt"]);a!=null&&d(i,["instances[0]","prompt"],a);const u=c(e,["config"]);return u!=null&&h1(u,i),i}function g1(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["_url","model"],De(n,o));const a=c(e,["prompt"]);a!=null&&d(i,["instances[0]","prompt"],a);const u=c(e,["config"]);return u!=null&&p1(u,i),i}function y1(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["predictions"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>I1(f))),d(e,["generatedImages"],u)}const a=c(n,["positivePromptSafetyAttributes"]);return a!=null&&d(e,["positivePromptSafetyAttributes"],k0(a)),e}function v1(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["predictions"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>ol(f))),d(e,["generatedImages"],u)}const a=c(n,["positivePromptSafetyAttributes"]);return a!=null&&d(e,["positivePromptSafetyAttributes"],U0(a)),e}function x1(n,e){const i={},o=c(n,["numberOfVideos"]);if(e!==void 0&&o!=null&&d(e,["parameters","sampleCount"],o),c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=c(n,["durationSeconds"]);if(e!==void 0&&a!=null&&d(e,["parameters","durationSeconds"],a),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=c(n,["aspectRatio"]);e!==void 0&&u!=null&&d(e,["parameters","aspectRatio"],u);const f=c(n,["resolution"]);e!==void 0&&f!=null&&d(e,["parameters","resolution"],f);const g=c(n,["personGeneration"]);if(e!==void 0&&g!=null&&d(e,["parameters","personGeneration"],g),c(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=c(n,["negativePrompt"]);e!==void 0&&v!=null&&d(e,["parameters","negativePrompt"],v);const y=c(n,["enhancePrompt"]);if(e!==void 0&&y!=null&&d(e,["parameters","enhancePrompt"],y),c(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=c(n,["lastFrame"]);e!==void 0&&x!=null&&d(e,["instances[0]","lastFrame"],rl(x));const T=c(n,["referenceImages"]);if(e!==void 0&&T!=null){let S=T;Array.isArray(S)&&(S=S.map(b=>TC(b))),d(e,["instances[0]","referenceImages"],S)}if(c(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function _1(n,e){const i={},o=c(n,["numberOfVideos"]);e!==void 0&&o!=null&&d(e,["parameters","sampleCount"],o);const a=c(n,["outputGcsUri"]);e!==void 0&&a!=null&&d(e,["parameters","storageUri"],a);const u=c(n,["fps"]);e!==void 0&&u!=null&&d(e,["parameters","fps"],u);const f=c(n,["durationSeconds"]);e!==void 0&&f!=null&&d(e,["parameters","durationSeconds"],f);const g=c(n,["seed"]);e!==void 0&&g!=null&&d(e,["parameters","seed"],g);const v=c(n,["aspectRatio"]);e!==void 0&&v!=null&&d(e,["parameters","aspectRatio"],v);const y=c(n,["resolution"]);e!==void 0&&y!=null&&d(e,["parameters","resolution"],y);const x=c(n,["personGeneration"]);e!==void 0&&x!=null&&d(e,["parameters","personGeneration"],x);const T=c(n,["pubsubTopic"]);e!==void 0&&T!=null&&d(e,["parameters","pubsubTopic"],T);const S=c(n,["negativePrompt"]);e!==void 0&&S!=null&&d(e,["parameters","negativePrompt"],S);const b=c(n,["enhancePrompt"]);e!==void 0&&b!=null&&d(e,["parameters","enhancePrompt"],b);const U=c(n,["generateAudio"]);e!==void 0&&U!=null&&d(e,["parameters","generateAudio"],U);const M=c(n,["lastFrame"]);e!==void 0&&M!=null&&d(e,["instances[0]","lastFrame"],Zt(M));const J=c(n,["referenceImages"]);if(e!==void 0&&J!=null){let P=J;Array.isArray(P)&&(P=P.map(X=>SC(X))),d(e,["instances[0]","referenceImages"],P)}const j=c(n,["mask"]);e!==void 0&&j!=null&&d(e,["instances[0]","mask"],_C(j));const Q=c(n,["compressionQuality"]);return e!==void 0&&Q!=null&&d(e,["parameters","compressionQuality"],Q),i}function T1(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const o=c(n,["metadata"]);o!=null&&d(e,["metadata"],o);const a=c(n,["done"]);a!=null&&d(e,["done"],a);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response","generateVideoResponse"]);return f!=null&&d(e,["response"],C1(f)),e}function S1(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const o=c(n,["metadata"]);o!=null&&d(e,["metadata"],o);const a=c(n,["done"]);a!=null&&d(e,["done"],a);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],A1(f)),e}function E1(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["_url","model"],De(n,o));const a=c(e,["prompt"]);a!=null&&d(i,["instances[0]","prompt"],a);const u=c(e,["image"]);u!=null&&d(i,["instances[0]","image"],rl(u));const f=c(e,["video"]);f!=null&&d(i,["instances[0]","video"],B0(f));const g=c(e,["source"]);g!=null&&N1(g,i);const v=c(e,["config"]);return v!=null&&x1(v,i),i}function b1(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["_url","model"],De(n,o));const a=c(e,["prompt"]);a!=null&&d(i,["instances[0]","prompt"],a);const u=c(e,["image"]);u!=null&&d(i,["instances[0]","image"],Zt(u));const f=c(e,["video"]);f!=null&&d(i,["instances[0]","video"],F0(f));const g=c(e,["source"]);g!=null&&w1(g,i);const v=c(e,["config"]);return v!=null&&_1(v,i),i}function C1(n){const e={},i=c(n,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>M1(f))),d(e,["generatedVideos"],u)}const o=c(n,["raiMediaFilteredCount"]);o!=null&&d(e,["raiMediaFilteredCount"],o);const a=c(n,["raiMediaFilteredReasons"]);return a!=null&&d(e,["raiMediaFilteredReasons"],a),e}function A1(n){const e={},i=c(n,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>D1(f))),d(e,["generatedVideos"],u)}const o=c(n,["raiMediaFilteredCount"]);o!=null&&d(e,["raiMediaFilteredCount"],o);const a=c(n,["raiMediaFilteredReasons"]);return a!=null&&d(e,["raiMediaFilteredReasons"],a),e}function N1(n,e){const i={},o=c(n,["prompt"]);e!==void 0&&o!=null&&d(e,["instances[0]","prompt"],o);const a=c(n,["image"]);e!==void 0&&a!=null&&d(e,["instances[0]","image"],rl(a));const u=c(n,["video"]);return e!==void 0&&u!=null&&d(e,["instances[0]","video"],B0(u)),i}function w1(n,e){const i={},o=c(n,["prompt"]);e!==void 0&&o!=null&&d(e,["instances[0]","prompt"],o);const a=c(n,["image"]);e!==void 0&&a!=null&&d(e,["instances[0]","image"],Zt(a));const u=c(n,["video"]);return e!==void 0&&u!=null&&d(e,["instances[0]","video"],F0(u)),i}function I1(n){const e={},i=c(n,["_self"]);i!=null&&d(e,["image"],H1(i));const o=c(n,["raiFilteredReason"]);o!=null&&d(e,["raiFilteredReason"],o);const a=c(n,["_self"]);return a!=null&&d(e,["safetyAttributes"],k0(a)),e}function ol(n){const e={},i=c(n,["_self"]);i!=null&&d(e,["image"],D0(i));const o=c(n,["raiFilteredReason"]);o!=null&&d(e,["raiFilteredReason"],o);const a=c(n,["_self"]);a!=null&&d(e,["safetyAttributes"],U0(a));const u=c(n,["prompt"]);return u!=null&&d(e,["enhancedPrompt"],u),e}function R1(n){const e={},i=c(n,["_self"]);i!=null&&d(e,["mask"],D0(i));const o=c(n,["labels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),d(e,["labels"],a)}return e}function M1(n){const e={},i=c(n,["video"]);return i!=null&&d(e,["video"],vC(i)),e}function D1(n){const e={},i=c(n,["_self"]);return i!=null&&d(e,["video"],xC(i)),e}function k1(n){const e={},i=c(n,["modelSelectionConfig"]);i!=null&&d(e,["modelConfig"],i);const o=c(n,["responseJsonSchema"]);o!=null&&d(e,["responseJsonSchema"],o);const a=c(n,["audioTimestamp"]);a!=null&&d(e,["audioTimestamp"],a);const u=c(n,["candidateCount"]);u!=null&&d(e,["candidateCount"],u);const f=c(n,["enableAffectiveDialog"]);f!=null&&d(e,["enableAffectiveDialog"],f);const g=c(n,["frequencyPenalty"]);g!=null&&d(e,["frequencyPenalty"],g);const v=c(n,["logprobs"]);v!=null&&d(e,["logprobs"],v);const y=c(n,["maxOutputTokens"]);y!=null&&d(e,["maxOutputTokens"],y);const x=c(n,["mediaResolution"]);x!=null&&d(e,["mediaResolution"],x);const T=c(n,["presencePenalty"]);T!=null&&d(e,["presencePenalty"],T);const S=c(n,["responseLogprobs"]);S!=null&&d(e,["responseLogprobs"],S);const b=c(n,["responseMimeType"]);b!=null&&d(e,["responseMimeType"],b);const U=c(n,["responseModalities"]);U!=null&&d(e,["responseModalities"],U);const M=c(n,["responseSchema"]);M!=null&&d(e,["responseSchema"],M);const J=c(n,["routingConfig"]);J!=null&&d(e,["routingConfig"],J);const j=c(n,["seed"]);j!=null&&d(e,["seed"],j);const Q=c(n,["speechConfig"]);Q!=null&&d(e,["speechConfig"],P0(Q));const P=c(n,["stopSequences"]);P!=null&&d(e,["stopSequences"],P);const X=c(n,["temperature"]);X!=null&&d(e,["temperature"],X);const oe=c(n,["thinkingConfig"]);oe!=null&&d(e,["thinkingConfig"],oe);const re=c(n,["topK"]);re!=null&&d(e,["topK"],re);const $=c(n,["topP"]);if($!=null&&d(e,["topP"],$),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function U1(n,e){const i={},o=c(e,["model"]);return o!=null&&d(i,["_url","name"],De(n,o)),i}function P1(n,e){const i={},o=c(e,["model"]);return o!=null&&d(i,["_url","name"],De(n,o)),i}function L1(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function B1(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function F1(n){const e={},i=c(n,["aspectRatio"]);i!=null&&d(e,["aspectRatio"],i);const o=c(n,["imageSize"]);if(o!=null&&d(e,["imageSize"],o),c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function O1(n){const e={},i=c(n,["aspectRatio"]);i!=null&&d(e,["aspectRatio"],i);const o=c(n,["imageSize"]);o!=null&&d(e,["imageSize"],o);const a=c(n,["outputMimeType"]);a!=null&&d(e,["imageOutputOptions","mimeType"],a);const u=c(n,["outputCompressionQuality"]);return u!=null&&d(e,["imageOutputOptions","compressionQuality"],u),e}function H1(n){const e={},i=c(n,["bytesBase64Encoded"]);i!=null&&d(e,["imageBytes"],Si(i));const o=c(n,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function D0(n){const e={},i=c(n,["gcsUri"]);i!=null&&d(e,["gcsUri"],i);const o=c(n,["bytesBase64Encoded"]);o!=null&&d(e,["imageBytes"],Si(o));const a=c(n,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function rl(n){const e={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=c(n,["imageBytes"]);i!=null&&d(e,["bytesBase64Encoded"],Si(i));const o=c(n,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function Zt(n){const e={},i=c(n,["gcsUri"]);i!=null&&d(e,["gcsUri"],i);const o=c(n,["imageBytes"]);o!=null&&d(e,["bytesBase64Encoded"],Si(o));const a=c(n,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function z1(n,e,i){const o={},a=c(e,["pageSize"]);i!==void 0&&a!=null&&d(i,["_query","pageSize"],a);const u=c(e,["pageToken"]);i!==void 0&&u!=null&&d(i,["_query","pageToken"],u);const f=c(e,["filter"]);i!==void 0&&f!=null&&d(i,["_query","filter"],f);const g=c(e,["queryBase"]);return i!==void 0&&g!=null&&d(i,["_url","models_url"],b0(n,g)),o}function q1(n,e,i){const o={},a=c(e,["pageSize"]);i!==void 0&&a!=null&&d(i,["_query","pageSize"],a);const u=c(e,["pageToken"]);i!==void 0&&u!=null&&d(i,["_query","pageToken"],u);const f=c(e,["filter"]);i!==void 0&&f!=null&&d(i,["_query","filter"],f);const g=c(e,["queryBase"]);return i!==void 0&&g!=null&&d(i,["_url","models_url"],b0(n,g)),o}function V1(n,e){const i={},o=c(e,["config"]);return o!=null&&z1(n,o,i),i}function G1(n,e){const i={},o=c(e,["config"]);return o!=null&&q1(n,o,i),i}function j1(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const a=c(n,["_self"]);if(a!=null){let u=C0(a);Array.isArray(u)&&(u=u.map(f=>Qc(f))),d(e,["models"],u)}return e}function Y1(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const a=c(n,["_self"]);if(a!=null){let u=C0(a);Array.isArray(u)&&(u=u.map(f=>Wc(f))),d(e,["models"],u)}return e}function J1(n){const e={},i=c(n,["maskMode"]);i!=null&&d(e,["maskMode"],i);const o=c(n,["segmentationClasses"]);o!=null&&d(e,["maskClasses"],o);const a=c(n,["maskDilation"]);return a!=null&&d(e,["dilation"],a),e}function Qc(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const o=c(n,["displayName"]);o!=null&&d(e,["displayName"],o);const a=c(n,["description"]);a!=null&&d(e,["description"],a);const u=c(n,["version"]);u!=null&&d(e,["version"],u);const f=c(n,["_self"]);f!=null&&d(e,["tunedModelInfo"],uC(f));const g=c(n,["inputTokenLimit"]);g!=null&&d(e,["inputTokenLimit"],g);const v=c(n,["outputTokenLimit"]);v!=null&&d(e,["outputTokenLimit"],v);const y=c(n,["supportedGenerationMethods"]);y!=null&&d(e,["supportedActions"],y);const x=c(n,["temperature"]);x!=null&&d(e,["temperature"],x);const T=c(n,["maxTemperature"]);T!=null&&d(e,["maxTemperature"],T);const S=c(n,["topP"]);S!=null&&d(e,["topP"],S);const b=c(n,["topK"]);b!=null&&d(e,["topK"],b);const U=c(n,["thinking"]);return U!=null&&d(e,["thinking"],U),e}function Wc(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const o=c(n,["displayName"]);o!=null&&d(e,["displayName"],o);const a=c(n,["description"]);a!=null&&d(e,["description"],a);const u=c(n,["versionId"]);u!=null&&d(e,["version"],u);const f=c(n,["deployedModels"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(S=>r1(S))),d(e,["endpoints"],T)}const g=c(n,["labels"]);g!=null&&d(e,["labels"],g);const v=c(n,["_self"]);v!=null&&d(e,["tunedModelInfo"],cC(v));const y=c(n,["defaultCheckpointId"]);y!=null&&d(e,["defaultCheckpointId"],y);const x=c(n,["checkpoints"]);if(x!=null){let T=x;Array.isArray(T)&&(T=T.map(S=>S)),d(e,["checkpoints"],T)}return e}function K1(n){const e={},i=c(n,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const o=c(n,["codeExecutionResult"]);o!=null&&d(e,["codeExecutionResult"],o);const a=c(n,["executableCode"]);a!=null&&d(e,["executableCode"],a);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],a1(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],l1(f));const g=c(n,["functionResponse"]);g!=null&&d(e,["functionResponse"],g);const v=c(n,["inlineData"]);v!=null&&d(e,["inlineData"],kb(v));const y=c(n,["text"]);y!=null&&d(e,["text"],y);const x=c(n,["thought"]);x!=null&&d(e,["thought"],x);const T=c(n,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const S=c(n,["videoMetadata"]);return S!=null&&d(e,["videoMetadata"],S),e}function $1(n){const e={},i=c(n,["productImage"]);return i!=null&&d(e,["image"],Zt(i)),e}function X1(n,e){const i={},o=c(n,["numberOfImages"]);e!==void 0&&o!=null&&d(e,["parameters","sampleCount"],o);const a=c(n,["baseSteps"]);e!==void 0&&a!=null&&d(e,["parameters","baseSteps"],a);const u=c(n,["outputGcsUri"]);e!==void 0&&u!=null&&d(e,["parameters","storageUri"],u);const f=c(n,["seed"]);e!==void 0&&f!=null&&d(e,["parameters","seed"],f);const g=c(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&d(e,["parameters","safetySetting"],g);const v=c(n,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const y=c(n,["addWatermark"]);e!==void 0&&y!=null&&d(e,["parameters","addWatermark"],y);const x=c(n,["outputMimeType"]);e!==void 0&&x!=null&&d(e,["parameters","outputOptions","mimeType"],x);const T=c(n,["outputCompressionQuality"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","compressionQuality"],T);const S=c(n,["enhancePrompt"]);e!==void 0&&S!=null&&d(e,["parameters","enhancePrompt"],S);const b=c(n,["labels"]);return e!==void 0&&b!=null&&d(e,["labels"],b),i}function Q1(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["_url","model"],De(n,o));const a=c(e,["source"]);a!=null&&Z1(a,i);const u=c(e,["config"]);return u!=null&&X1(u,i),i}function W1(n){const e={},i=c(n,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>ol(a))),d(e,["generatedImages"],o)}return e}function Z1(n,e){const i={},o=c(n,["prompt"]);e!==void 0&&o!=null&&d(e,["instances[0]","prompt"],o);const a=c(n,["personImage"]);e!==void 0&&a!=null&&d(e,["instances[0]","personImage","image"],Zt(a));const u=c(n,["productImages"]);if(e!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(g=>$1(g))),d(e,["instances[0]","productImages"],f)}return i}function eC(n){const e={},i=c(n,["referenceImage"]);i!=null&&d(e,["referenceImage"],Zt(i));const o=c(n,["referenceId"]);o!=null&&d(e,["referenceId"],o);const a=c(n,["referenceType"]);a!=null&&d(e,["referenceType"],a);const u=c(n,["maskImageConfig"]);u!=null&&d(e,["maskImageConfig"],J1(u));const f=c(n,["controlImageConfig"]);f!=null&&d(e,["controlImageConfig"],Hb(f));const g=c(n,["styleImageConfig"]);g!=null&&d(e,["styleImageConfig"],g);const v=c(n,["subjectImageConfig"]);return v!=null&&d(e,["subjectImageConfig"],v),e}function k0(n){const e={},i=c(n,["safetyAttributes","categories"]);i!=null&&d(e,["categories"],i);const o=c(n,["safetyAttributes","scores"]);o!=null&&d(e,["scores"],o);const a=c(n,["contentType"]);return a!=null&&d(e,["contentType"],a),e}function U0(n){const e={},i=c(n,["safetyAttributes","categories"]);i!=null&&d(e,["categories"],i);const o=c(n,["safetyAttributes","scores"]);o!=null&&d(e,["scores"],o);const a=c(n,["contentType"]);return a!=null&&d(e,["contentType"],a),e}function tC(n){const e={},i=c(n,["category"]);if(i!=null&&d(e,["category"],i),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=c(n,["threshold"]);return o!=null&&d(e,["threshold"],o),e}function nC(n){const e={},i=c(n,["image"]);return i!=null&&d(e,["image"],Zt(i)),e}function iC(n,e){const i={},o=c(n,["mode"]);e!==void 0&&o!=null&&d(e,["parameters","mode"],o);const a=c(n,["maxPredictions"]);e!==void 0&&a!=null&&d(e,["parameters","maxPredictions"],a);const u=c(n,["confidenceThreshold"]);e!==void 0&&u!=null&&d(e,["parameters","confidenceThreshold"],u);const f=c(n,["maskDilation"]);e!==void 0&&f!=null&&d(e,["parameters","maskDilation"],f);const g=c(n,["binaryColorThreshold"]);e!==void 0&&g!=null&&d(e,["parameters","binaryColorThreshold"],g);const v=c(n,["labels"]);return e!==void 0&&v!=null&&d(e,["labels"],v),i}function sC(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["_url","model"],De(n,o));const a=c(e,["source"]);a!=null&&rC(a,i);const u=c(e,["config"]);return u!=null&&iC(u,i),i}function oC(n){const e={},i=c(n,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>R1(a))),d(e,["generatedMasks"],o)}return e}function rC(n,e){const i={},o=c(n,["prompt"]);e!==void 0&&o!=null&&d(e,["instances[0]","prompt"],o);const a=c(n,["image"]);e!==void 0&&a!=null&&d(e,["instances[0]","image"],Zt(a));const u=c(n,["scribbleImage"]);return e!==void 0&&u!=null&&d(e,["instances[0]","scribble"],nC(u)),i}function P0(n){const e={},i=c(n,["languageCode"]);i!=null&&d(e,["languageCode"],i);const o=c(n,["voiceConfig"]);if(o!=null&&d(e,["voiceConfig"],o),c(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function aC(n){const e={},i=c(n,["functionCallingConfig"]);i!=null&&d(e,["functionCallingConfig"],u1(i));const o=c(n,["retrievalConfig"]);return o!=null&&d(e,["retrievalConfig"],o),e}function lC(n){const e={},i=c(n,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(T=>T)),d(e,["functionDeclarations"],x)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(n,["googleSearchRetrieval"]);o!=null&&d(e,["googleSearchRetrieval"],o);const a=c(n,["computerUse"]);a!=null&&d(e,["computerUse"],a);const u=c(n,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const f=c(n,["codeExecution"]);if(f!=null&&d(e,["codeExecution"],f),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=c(n,["googleMaps"]);g!=null&&d(e,["googleMaps"],L1(g));const v=c(n,["googleSearch"]);v!=null&&d(e,["googleSearch"],B1(v));const y=c(n,["urlContext"]);return y!=null&&d(e,["urlContext"],y),e}function L0(n){const e={},i=c(n,["functionDeclarations"]);if(i!=null){let T=i;Array.isArray(T)&&(T=T.map(S=>c1(S))),d(e,["functionDeclarations"],T)}const o=c(n,["retrieval"]);o!=null&&d(e,["retrieval"],o);const a=c(n,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],a);const u=c(n,["computerUse"]);if(u!=null&&d(e,["computerUse"],u),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=c(n,["codeExecution"]);f!=null&&d(e,["codeExecution"],f);const g=c(n,["enterpriseWebSearch"]);g!=null&&d(e,["enterpriseWebSearch"],g);const v=c(n,["googleMaps"]);v!=null&&d(e,["googleMaps"],v);const y=c(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],y);const x=c(n,["urlContext"]);return x!=null&&d(e,["urlContext"],x),e}function uC(n){const e={},i=c(n,["baseModel"]);i!=null&&d(e,["baseModel"],i);const o=c(n,["createTime"]);o!=null&&d(e,["createTime"],o);const a=c(n,["updateTime"]);return a!=null&&d(e,["updateTime"],a),e}function cC(n){const e={},i=c(n,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&d(e,["baseModel"],i);const o=c(n,["createTime"]);o!=null&&d(e,["createTime"],o);const a=c(n,["updateTime"]);return a!=null&&d(e,["updateTime"],a),e}function dC(n,e){const i={},o=c(n,["displayName"]);e!==void 0&&o!=null&&d(e,["displayName"],o);const a=c(n,["description"]);e!==void 0&&a!=null&&d(e,["description"],a);const u=c(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&d(e,["defaultCheckpointId"],u),i}function fC(n,e){const i={},o=c(n,["displayName"]);e!==void 0&&o!=null&&d(e,["displayName"],o);const a=c(n,["description"]);e!==void 0&&a!=null&&d(e,["description"],a);const u=c(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&d(e,["defaultCheckpointId"],u),i}function hC(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["_url","name"],De(n,o));const a=c(e,["config"]);return a!=null&&dC(a,i),i}function pC(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["_url","model"],De(n,o));const a=c(e,["config"]);return a!=null&&fC(a,i),i}function mC(n,e){const i={},o=c(n,["outputGcsUri"]);e!==void 0&&o!=null&&d(e,["parameters","storageUri"],o);const a=c(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&d(e,["parameters","safetySetting"],a);const u=c(n,["personGeneration"]);e!==void 0&&u!=null&&d(e,["parameters","personGeneration"],u);const f=c(n,["includeRaiReason"]);e!==void 0&&f!=null&&d(e,["parameters","includeRaiReason"],f);const g=c(n,["outputMimeType"]);e!==void 0&&g!=null&&d(e,["parameters","outputOptions","mimeType"],g);const v=c(n,["outputCompressionQuality"]);e!==void 0&&v!=null&&d(e,["parameters","outputOptions","compressionQuality"],v);const y=c(n,["enhanceInputImage"]);e!==void 0&&y!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],y);const x=c(n,["imagePreservationFactor"]);e!==void 0&&x!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],x);const T=c(n,["labels"]);e!==void 0&&T!=null&&d(e,["labels"],T);const S=c(n,["numberOfImages"]);e!==void 0&&S!=null&&d(e,["parameters","sampleCount"],S);const b=c(n,["mode"]);return e!==void 0&&b!=null&&d(e,["parameters","mode"],b),i}function gC(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["_url","model"],De(n,o));const a=c(e,["image"]);a!=null&&d(i,["instances[0]","image"],Zt(a));const u=c(e,["upscaleFactor"]);u!=null&&d(i,["parameters","upscaleConfig","upscaleFactor"],u);const f=c(e,["config"]);return f!=null&&mC(f,i),i}function yC(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>ol(u))),d(e,["generatedImages"],a)}return e}function vC(n){const e={},i=c(n,["uri"]);i!=null&&d(e,["uri"],i);const o=c(n,["encodedVideo"]);o!=null&&d(e,["videoBytes"],Si(o));const a=c(n,["encoding"]);return a!=null&&d(e,["mimeType"],a),e}function xC(n){const e={},i=c(n,["gcsUri"]);i!=null&&d(e,["uri"],i);const o=c(n,["bytesBase64Encoded"]);o!=null&&d(e,["videoBytes"],Si(o));const a=c(n,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function _C(n){const e={},i=c(n,["image"]);i!=null&&d(e,["_self"],Zt(i));const o=c(n,["maskMode"]);return o!=null&&d(e,["maskMode"],o),e}function TC(n){const e={},i=c(n,["image"]);i!=null&&d(e,["image"],rl(i));const o=c(n,["referenceType"]);return o!=null&&d(e,["referenceType"],o),e}function SC(n){const e={},i=c(n,["image"]);i!=null&&d(e,["image"],Zt(i));const o=c(n,["referenceType"]);return o!=null&&d(e,["referenceType"],o),e}function B0(n){const e={},i=c(n,["uri"]);i!=null&&d(e,["uri"],i);const o=c(n,["videoBytes"]);o!=null&&d(e,["encodedVideo"],Si(o));const a=c(n,["mimeType"]);return a!=null&&d(e,["encoding"],a),e}function F0(n){const e={},i=c(n,["uri"]);i!=null&&d(e,["gcsUri"],i);const o=c(n,["videoBytes"]);o!=null&&d(e,["bytesBase64Encoded"],Si(o));const a=c(n,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EC="Content-Type",bC="X-Server-Timeout",CC="User-Agent",Zc="x-goog-api-client",AC="1.30.0",NC=`google-genai-sdk/${AC}`,wC="v1beta1",IC="v1beta",Ey=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class RC{constructor(e){var i,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:wC,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:IC,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,o){const a=[this.getRequestUrlInternal(i)];return o&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,o);if(e.queryParams)for(const[f,g]of Object.entries(e.queryParams))a.searchParams.append(f,String(g));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,i,a.toString(),e.abortSignal),this.unaryApiCall(a,u,e.httpMethod)}patchHttpOptions(e,i){const o=JSON.parse(JSON.stringify(e));for(const[a,u]of Object.entries(i))typeof u=="object"?o[a]=Object.assign(Object.assign({},o[a]),u):u!==void 0&&(o[a]=u);return o}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,o);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,i,a.toString(),e.abortSignal),this.streamApiCall(a,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,o,a){if(i&&i.timeout||a){const u=new AbortController,f=u.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const g=setTimeout(()=>u.abort(),i.timeout);g&&typeof g.unref=="function"&&g.unref()}a&&a.addEventListener("abort",()=>{u.abort()}),e.signal=f}return i&&i.extraBody!==null&&MC(e,i.extraBody),e.headers=await this.getHeadersInternal(i,o),e}async unaryApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async a=>(await by(a),new Kc(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async a=>(await by(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var i;return qs(this,arguments,function*(){const a=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),u=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let f="";for(;;){const{done:g,value:v}=yield Ge(a.read());if(g){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const y=u.decode(v,{stream:!0});try{const T=JSON.parse(y);if("error"in T){const S=JSON.parse(JSON.stringify(T.error)),b=S.status,U=S.code,M=`got status: ${b}. ${JSON.stringify(T)}`;if(U>=400&&U<600)throw new il({message:M,status:U})}}catch(T){if(T.name==="ApiError")throw T}f+=y;let x=f.match(Ey);for(;x;){const T=x[1];try{const S=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ge(new Kc(S)),f=f.slice(x[0].length),x=f.match(Ey)}catch(S){throw new Error(`exception parsing stream chunk ${T}. ${S}`)}}}}finally{a.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},i=NC+" "+this.clientOptions.userAgentExtra;return e[CC]=i,e[Zc]=i,e[EC]="application/json",e}async getHeadersInternal(e,i){const o=new Headers;if(e&&e.headers){for(const[a,u]of Object.entries(e.headers))o.append(a,u);e.timeout&&e.timeout>0&&o.append(bC,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,i),o}getFileName(e){var i;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(i=o.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),o}async uploadFile(e,i){var o;const a={};i!=null&&(a.mimeType=i.mimeType,a.name=i.name,a.displayName=i.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const u=this.clientOptions.uploader,f=await u.stat(e);a.sizeBytes=String(f.size);const g=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:f.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=g;const v={file:a},y=this.getFileName(e),x=se("upload/v1beta/files",v._url),T=await this.fetchUploadUrl(x,a.sizeBytes,a.mimeType,y,v,i==null?void 0:i.httpOptions);return u.upload(e,T,this)}async uploadFileToFileSearchStore(e,i,o){var a;const u=this.clientOptions.uploader,f=await u.stat(i),g=String(f.size),v=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:f.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const y=`upload/v1beta/${e}:uploadToFileSearchStore`,x=this.getFileName(i),T={};o!=null&&o.customMetadata&&(T.customMetadata=o.customMetadata),o!=null&&o.chunkingConfig&&(T.chunkingConfig=o.chunkingConfig);const S=await this.fetchUploadUrl(y,g,v,x,T,o==null?void 0:o.httpOptions);return u.uploadToFileSearchStore(i,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,o,a,u,f){var g;let v={};f?v=f:v={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${o}`},a?{"X-Goog-Upload-File-Name":a}:{})};const y=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:v});if(!y||!(y!=null&&y.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(g=y==null?void 0:y.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function by(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const i=n.status;let o;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await n.json():o={error:{message:await n.text(),code:n.status,status:n.statusText}};const a=JSON.stringify(o);throw i>=400&&i<600?new il({message:a,status:i}):new Error(a)}}function MC(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof n.body=="string"&&n.body.length>0)try{const u=JSON.parse(n.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))i=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(u,f){const g=Object.assign({},u);for(const v in f)if(Object.prototype.hasOwnProperty.call(f,v)){const y=f[v],x=g[v];y&&typeof y=="object"&&!Array.isArray(y)&&x&&typeof x=="object"&&!Array.isArray(x)?g[v]=o(x,y):(x&&y&&typeof x!=typeof y&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${v}". Original type: ${typeof x}, New type: ${typeof y}. Overwriting.`),g[v]=y)}return g}const a=o(i,e);n.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DC="mcp_used/unknown";let kC=!1;function O0(n){for(const e of n)if(UC(e)||typeof e=="object"&&"inputSchema"in e)return!0;return kC}function H0(n){var e;const i=(e=n[Zc])!==null&&e!==void 0?e:"";n[Zc]=(i+` ${DC}`).trimStart()}function UC(n){return n!==null&&typeof n=="object"&&n instanceof bd}function PC(n,e=100){return qs(this,arguments,function*(){let o,a=0;for(;a<e;){const u=yield Ge(n.listTools({cursor:o}));for(const f of u.tools)yield yield Ge(f),a++;if(!u.nextCursor)break;o=u.nextCursor}})}class bd{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new bd(e,i)}async initialize(){var e,i,o,a;if(this.mcpTools.length>0)return;const u={},f=[];for(const x of this.mcpClients)try{for(var g=!0,v=(i=void 0,nr(PC(x))),y;y=await v.next(),e=y.done,!e;g=!0){a=y.value,g=!1;const T=a;f.push(T);const S=T.name;if(u[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);u[S]=x}}catch(T){i={error:T}}finally{try{!g&&!e&&(o=v.return)&&await o.call(v)}finally{if(i)throw i.error}}this.mcpTools=f,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),NS(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[o.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const f=await a.callTool({name:o.name,arguments:o.args},void 0,u);i.push({functionResponse:{name:o.name,response:f.isError?{error:f}:f}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function LC(n,e,i){const o=new xS;let a;i.data instanceof Blob?a=JSON.parse(await i.data.text()):a=JSON.parse(i.data),Object.assign(o,a),e(o)}class BC{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o}async connect(e){var i,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),f=HC(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),v=`${a}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${g}`;let y=()=>{};const x=new Promise(P=>{y=P}),T=e.callbacks,S=function(){y({})},b=this.apiClient,U={onopen:S,onmessage:P=>{LC(b,T.onmessage,P)},onerror:(i=T==null?void 0:T.onerror)!==null&&i!==void 0?i:function(P){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(P){}},M=this.webSocketFactory.create(v,OC(f),U);M.connect(),await x;const Q={setup:{model:De(this.apiClient,e.model)}};return M.send(JSON.stringify(Q)),new FC(M,this.apiClient)}}class FC{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=bb(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=Eb(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Os.PLAY)}pause(){this.sendPlaybackControl(Os.PAUSE)}stop(){this.sendPlaybackControl(Os.STOP)}resetContext(){this.sendPlaybackControl(Os.RESET_CONTEXT)}close(){this.conn.close()}}function OC(n){const e={};return n.forEach((i,o)=>{e[o]=i}),e}function HC(n){const e=new Headers;for(const[i,o]of Object.entries(n))e.append(i,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function qC(n,e,i){const o=new vS;let a;i.data instanceof Blob?a=await i.data.text():i.data instanceof ArrayBuffer?a=new TextDecoder().decode(i.data):a=i.data;const u=JSON.parse(a);if(n.isVertexAI()){const f=Nb(u);Object.assign(o,f)}else Object.assign(o,u);e(o)}class VC{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o,this.music=new BC(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,o,a,u,f,g;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const v=this.apiClient.getWebsocketBaseUrl(),y=this.apiClient.getApiVersion();let x;const T=this.apiClient.getHeaders();e.config&&e.config.tools&&O0(e.config.tools)&&H0(T);const S=JC(T);if(this.apiClient.isVertexAI())x=`${v}/ws/google.cloud.aiplatform.${y}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,x);else{const ne=this.apiClient.getApiKey();let he="BidiGenerateContent",W="key";ne!=null&&ne.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),y!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),he="BidiGenerateContentConstrained",W="access_token"),x=`${v}/ws/google.ai.generativelanguage.${y}.GenerativeService.${he}?${W}=${ne}`}let b=()=>{};const U=new Promise(ne=>{b=ne}),M=e.callbacks,J=function(){var ne;(ne=M==null?void 0:M.onopen)===null||ne===void 0||ne.call(M),b({})},j=this.apiClient,Q={onopen:J,onmessage:ne=>{qC(j,M.onmessage,ne)},onerror:(i=M==null?void 0:M.onerror)!==null&&i!==void 0?i:function(ne){},onclose:(o=M==null?void 0:M.onclose)!==null&&o!==void 0?o:function(ne){}},P=this.webSocketFactory.create(x,YC(S),Q);P.connect(),await U;let X=De(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&X.startsWith("publishers/")){const ne=this.apiClient.getProject(),he=this.apiClient.getLocation();X=`projects/${ne}/locations/${he}/`+X}let oe={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[rr.AUDIO]}:e.config.responseModalities=[rr.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const re=(g=(f=e.config)===null||f===void 0?void 0:f.tools)!==null&&g!==void 0?g:[],$=[];for(const ne of re)if(this.isCallableTool(ne)){const he=ne;$.push(await he.tool())}else $.push(ne);$.length>0&&(e.config.tools=$);const fe={model:X,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?oe=Sb(this.apiClient,fe):oe=Tb(this.apiClient,fe),delete oe.config,P.send(JSON.stringify(oe)),new jC(P,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const GC={turnComplete:!0};class jC{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let o=[];try{o=Gt(i.turns),e.isVertexAI()||(o=o.map(a=>sl(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:o,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let o=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?o=i.functionResponses:o=[i.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const u of o){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(zC)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},GC),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:Ab(e)}:i={realtimeInput:Cb(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function YC(n){const e={};return n.forEach((i,o)=>{e[o]=i}),e}function JC(n){const e=new Headers;for(const[i,o]of Object.entries(n))e.append(i,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cy=10;function Ay(n){var e,i,o;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const f of(i=n==null?void 0:n.tools)!==null&&i!==void 0?i:[])if(Vs(f)){a=!0;break}if(!a)return!0;const u=(o=n==null?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function Vs(n){return"callTool"in n&&typeof n.callTool=="function"}function KC(n){var e,i,o;return(o=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>Vs(a)))!==null&&o!==void 0?o:!1}function Ny(n){var e;const i=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((o,a)=>{if(Vs(o))return;const u=o;u.functionDeclarations&&u.functionDeclarations.length>0&&i.push(a)}),i}function wy(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $C extends Ln{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var o,a,u,f,g;const v=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!KC(i)||Ay(i.config))return await this.generateContentInternal(v);const y=Ny(i);if(y.length>0){const M=y.map(J=>`tools[${J}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${M}.`)}let x,T;const S=Gt(v.contents),b=(u=(a=(o=v.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&u!==void 0?u:Cy;let U=0;for(;U<b&&(x=await this.generateContentInternal(v),!(!x.functionCalls||x.functionCalls.length===0));){const M=x.candidates[0].content,J=[];for(const j of(g=(f=i.config)===null||f===void 0?void 0:f.tools)!==null&&g!==void 0?g:[])if(Vs(j)){const P=await j.callTool(x.functionCalls);J.push(...P)}U++,T={role:"user",parts:J},v.contents=Gt(v.contents),v.contents.push(M),v.contents.push(T),wy(v.config)&&(S.push(M),S.push(T))}return wy(v.config)&&(x.automaticFunctionCallingHistory=S),x},this.generateContentStream=async i=>{var o,a,u,f,g;if(this.maybeMoveToResponseJsonSchem(i),Ay(i.config)){const T=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(T)}const v=Ny(i);if(v.length>0){const T=v.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const y=(u=(a=(o=i==null?void 0:i.config)===null||o===void 0?void 0:o.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,x=(g=(f=i==null?void 0:i.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(y&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(o=>{var a;let u;const f=[];if(o!=null&&o.generatedImages)for(const v of o.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((a=v==null?void 0:v.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?u=v==null?void 0:v.safetyAttributes:f.push(v);let g;return u?g={generatedImages:f,positivePromptSafetyAttributes:u,sdkHttpResponse:o.sdkHttpResponse}:g={generatedImages:f,sdkHttpResponse:o.sdkHttpResponse},g}),this.list=async i=>{var o;const f={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((o=f.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new Ki(kn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(f),f)},this.editImage=async i=>{const o={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(o.referenceImages=i.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async i=>{let o={numberOfImages:1,mode:"upscale"};i.config&&(o=Object.assign(Object.assign({},o),i.config));const a={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:o};return await this.upscaleImageInternal(a)},this.generateVideos=async i=>{var o,a,u,f,g,v;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=i.video)===null||o===void 0)&&o.uri&&(!((a=i.video)===null||a===void 0)&&a.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((f=(u=i.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.uri&&(!((v=(g=i.source)===null||g===void 0?void 0:g.video)===null||v===void 0)&&v.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,o,a;const u=(i=e.config)===null||i===void 0?void 0:i.tools;if(!u)return e;const f=await Promise.all(u.map(async v=>Vs(v)?await v.tool():v)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:f})};if(g.config.tools=f,e.config&&e.config.tools&&O0(e.config.tools)){const v=(a=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{};let y=Object.assign({},v);Object.keys(y).length===0&&(y=this.apiClient.getDefaultHeaders()),H0(y),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:y})}return g}async initAfcToolsMap(e){var i,o,a;const u=new Map;for(const f of(o=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&o!==void 0?o:[])if(Vs(f)){const g=f,v=await g.tool();for(const y of(a=v.functionDeclarations)!==null&&a!==void 0?a:[]){if(!y.name)throw new Error("Function declaration name is required.");if(u.has(y.name))throw new Error(`Duplicate tool declaration name: ${y.name}`);u.set(y.name,g)}}return u}async processAfcStream(e){var i,o,a;const u=(a=(o=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:Cy;let f=!1,g=0;const v=await this.initAfcToolsMap(e);return(function(y,x,T){var S,b;return qs(this,arguments,function*(){for(var U,M,J,j;g<u;){f&&(g++,f=!1);const oe=yield Ge(y.processParamsMaybeAddMcpUsage(T)),re=yield Ge(y.generateContentStreamInternal(oe)),$=[],fe=[];try{for(var Q=!0,P=(M=void 0,nr(re)),X;X=yield Ge(P.next()),U=X.done,!U;Q=!0){j=X.value,Q=!1;const ne=j;if(yield yield Ge(ne),ne.candidates&&(!((S=ne.candidates[0])===null||S===void 0)&&S.content)){fe.push(ne.candidates[0].content);for(const he of(b=ne.candidates[0].content.parts)!==null&&b!==void 0?b:[])if(g<u&&he.functionCall){if(!he.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(he.functionCall.name)){const W=yield Ge(x.get(he.functionCall.name).callTool([he.functionCall]));$.push(...W)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${he.functionCall.name}`)}}}}catch(ne){M={error:ne}}finally{try{!Q&&!U&&(J=P.return)&&(yield Ge(J.call(P)))}finally{if(M)throw M.error}}if($.length>0){f=!0;const ne=new Wo;ne.candidates=[{content:{role:"user",parts:$}}],yield yield Ge(ne);const he=[];he.push(...fe),he.push({role:"user",parts:$});const W=Gt(T.contents).concat(he);T.contents=W}else break}})})(this,v,e)}async generateContentInternal(e){var i,o,a,u;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=_y(this.apiClient,e);return g=se("{model}:generateContent",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),f.then(x=>{const T=Sy(x),S=new Wo;return Object.assign(S,T),S})}else{const y=xy(this.apiClient,e);return g=se("{model}:generateContent",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),f.then(x=>{const T=Ty(x),S=new Wo;return Object.assign(S,T),S})}}async generateContentStreamInternal(e){var i,o,a,u;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=_y(this.apiClient,e);return g=se("{model}:streamGenerateContent?alt=sse",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.requestStream({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),f.then(function(T){return qs(this,arguments,function*(){var S,b,U,M;try{for(var J=!0,j=nr(T),Q;Q=yield Ge(j.next()),S=Q.done,!S;J=!0){M=Q.value,J=!1;const P=M,X=Sy(yield Ge(P.json()));X.sdkHttpResponse={headers:P.headers};const oe=new Wo;Object.assign(oe,X),yield yield Ge(oe)}}catch(P){b={error:P}}finally{try{!J&&!S&&(U=j.return)&&(yield Ge(U.call(j)))}finally{if(b)throw b.error}}})})}else{const y=xy(this.apiClient,e);return g=se("{model}:streamGenerateContent?alt=sse",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.requestStream({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),f.then(function(T){return qs(this,arguments,function*(){var S,b,U,M;try{for(var J=!0,j=nr(T),Q;Q=yield Ge(j.next()),S=Q.done,!S;J=!0){M=Q.value,J=!1;const P=M,X=Ty(yield Ge(P.json()));X.sdkHttpResponse={headers:P.headers};const oe=new Wo;Object.assign(oe,X),yield yield Ge(oe)}}catch(P){b={error:P}}finally{try{!J&&!S&&(U=j.return)&&(yield Ge(U.call(j)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var i,o,a,u;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=i1(this.apiClient,e);return g=se("{model}:predict",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),f.then(x=>{const T=o1(x),S=new iy;return Object.assign(S,T),S})}else{const y=n1(this.apiClient,e);return g=se("{model}:batchEmbedContents",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),f.then(x=>{const T=s1(x),S=new iy;return Object.assign(S,T),S})}}async generateImagesInternal(e){var i,o,a,u;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=g1(this.apiClient,e);return g=se("{model}:predict",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),f.then(x=>{const T=v1(x),S=new sy;return Object.assign(S,T),S})}else{const y=m1(this.apiClient,e);return g=se("{model}:predict",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),f.then(x=>{const T=y1(x),S=new sy;return Object.assign(S,T),S})}}async editImageInternal(e){var i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const g=Wb(this.apiClient,e);return u=se("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(y=>{const x=y;return x.sdkHttpResponse={headers:v.headers},x})),a.then(v=>{const y=Zb(v),x=new aS;return Object.assign(x,y),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const g=gC(this.apiClient,e);return u=se("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(y=>{const x=y;return x.sdkHttpResponse={headers:v.headers},x})),a.then(v=>{const y=yC(v),x=new lS;return Object.assign(x,y),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const g=Q1(this.apiClient,e);return u=se("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),a.then(v=>{const y=W1(v),x=new uS;return Object.assign(x,y),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const g=sC(this.apiClient,e);return u=se("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),a.then(v=>{const y=oC(v),x=new cS;return Object.assign(x,y),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,o,a,u;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=P1(this.apiClient,e);return g=se("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),f.then(x=>Wc(x))}else{const y=U1(this.apiClient,e);return g=se("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),f.then(x=>Qc(x))}}async listInternal(e){var i,o,a,u;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=G1(this.apiClient,e);return g=se("{models_url}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),f.then(x=>{const T=Y1(x),S=new oy;return Object.assign(S,T),S})}else{const y=V1(this.apiClient,e);return g=se("{models_url}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),f.then(x=>{const T=j1(x),S=new oy;return Object.assign(S,T),S})}}async update(e){var i,o,a,u;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=pC(this.apiClient,e);return g=se("{model}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),f.then(x=>Wc(x))}else{const y=hC(this.apiClient,e);return g=se("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),f.then(x=>Qc(x))}}async delete(e){var i,o,a,u;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=Kb(this.apiClient,e);return g=se("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),f.then(x=>{const T=Xb(x),S=new ry;return Object.assign(S,T),S})}else{const y=Jb(this.apiClient,e);return g=se("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),f.then(x=>{const T=$b(x),S=new ry;return Object.assign(S,T),S})}}async countTokens(e){var i,o,a,u;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=Gb(this.apiClient,e);return g=se("{model}:countTokens",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),f.then(x=>{const T=Yb(x),S=new ay;return Object.assign(S,T),S})}else{const y=Vb(this.apiClient,e);return g=se("{model}:countTokens",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),f.then(x=>{const T=jb(x),S=new ay;return Object.assign(S,T),S})}}async computeTokens(e){var i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const g=Lb(this.apiClient,e);return u=se("{model}:computeTokens",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(y=>{const x=y;return x.sdkHttpResponse={headers:v.headers},x})),a.then(v=>{const y=Bb(v),x=new dS;return Object.assign(x,y),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,o,a,u;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=b1(this.apiClient,e);return g=se("{model}:predictLongRunning",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),f.then(x=>{const T=S1(x),S=new ja;return Object.assign(S,T),S})}else{const y=E1(this.apiClient,e);return g=se("{model}:predictLongRunning",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),f.then(x=>{const T=T1(x),S=new ja;return Object.assign(S,T),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XC extends Ln{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let u;o&&"httpOptions"in o&&(u=o.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:u}});return i._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:o});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let u;o&&"httpOptions"in o&&(u=o.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:u}});return i._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:o});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,o,a,u;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=tS(e);return g=se("{operationName}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),f}else{const y=eS(e);return g=se("{operationName}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),f}}async fetchPredictVideosOperationInternal(e){var i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const g=JT(e);return u=se("{resourceName}:fetchPredictOperation",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QC(n){const e={},i=c(n,["data"]);if(i!=null&&d(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function WC(n){const e={},i=c(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>aA(u))),d(e,["parts"],a)}const o=c(n,["role"]);return o!=null&&d(e,["role"],o),e}function ZC(n,e,i){const o={},a=c(e,["expireTime"]);i!==void 0&&a!=null&&d(i,["expireTime"],a);const u=c(e,["newSessionExpireTime"]);i!==void 0&&u!=null&&d(i,["newSessionExpireTime"],u);const f=c(e,["uses"]);i!==void 0&&f!=null&&d(i,["uses"],f);const g=c(e,["liveConnectConstraints"]);i!==void 0&&g!=null&&d(i,["bidiGenerateContentSetup"],rA(n,g));const v=c(e,["lockAdditionalFields"]);return i!==void 0&&v!=null&&d(i,["fieldMask"],v),o}function eA(n,e){const i={},o=c(e,["config"]);return o!=null&&d(i,["config"],ZC(n,o,i)),i}function tA(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&d(e,["fileUri"],i);const o=c(n,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function nA(n){const e={},i=c(n,["id"]);i!=null&&d(e,["id"],i);const o=c(n,["args"]);o!=null&&d(e,["args"],o);const a=c(n,["name"]);if(a!=null&&d(e,["name"],a),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function iA(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function sA(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function oA(n,e){const i={},o=c(n,["generationConfig"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig"],o);const a=c(n,["responseModalities"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","responseModalities"],a);const u=c(n,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const f=c(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const g=c(n,["topK"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","topK"],g);const v=c(n,["maxOutputTokens"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","maxOutputTokens"],v);const y=c(n,["mediaResolution"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","mediaResolution"],y);const x=c(n,["seed"]);e!==void 0&&x!=null&&d(e,["setup","generationConfig","seed"],x);const T=c(n,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],Ed(T));const S=c(n,["thinkingConfig"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","thinkingConfig"],S);const b=c(n,["enableAffectiveDialog"]);e!==void 0&&b!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],b);const U=c(n,["systemInstruction"]);e!==void 0&&U!=null&&d(e,["setup","systemInstruction"],WC(ct(U)));const M=c(n,["tools"]);if(e!==void 0&&M!=null){let re=Ws(M);Array.isArray(re)&&(re=re.map($=>uA(Qs($)))),d(e,["setup","tools"],re)}const J=c(n,["sessionResumption"]);e!==void 0&&J!=null&&d(e,["setup","sessionResumption"],lA(J));const j=c(n,["inputAudioTranscription"]);e!==void 0&&j!=null&&d(e,["setup","inputAudioTranscription"],j);const Q=c(n,["outputAudioTranscription"]);e!==void 0&&Q!=null&&d(e,["setup","outputAudioTranscription"],Q);const P=c(n,["realtimeInputConfig"]);e!==void 0&&P!=null&&d(e,["setup","realtimeInputConfig"],P);const X=c(n,["contextWindowCompression"]);e!==void 0&&X!=null&&d(e,["setup","contextWindowCompression"],X);const oe=c(n,["proactivity"]);return e!==void 0&&oe!=null&&d(e,["setup","proactivity"],oe),i}function rA(n,e){const i={},o=c(e,["model"]);o!=null&&d(i,["setup","model"],De(n,o));const a=c(e,["config"]);return a!=null&&d(i,["config"],oA(a,i)),i}function aA(n){const e={},i=c(n,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const o=c(n,["codeExecutionResult"]);o!=null&&d(e,["codeExecutionResult"],o);const a=c(n,["executableCode"]);a!=null&&d(e,["executableCode"],a);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],tA(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],nA(f));const g=c(n,["functionResponse"]);g!=null&&d(e,["functionResponse"],g);const v=c(n,["inlineData"]);v!=null&&d(e,["inlineData"],QC(v));const y=c(n,["text"]);y!=null&&d(e,["text"],y);const x=c(n,["thought"]);x!=null&&d(e,["thought"],x);const T=c(n,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const S=c(n,["videoMetadata"]);return S!=null&&d(e,["videoMetadata"],S),e}function lA(n){const e={},i=c(n,["handle"]);if(i!=null&&d(e,["handle"],i),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function uA(n){const e={},i=c(n,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(T=>T)),d(e,["functionDeclarations"],x)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(n,["googleSearchRetrieval"]);o!=null&&d(e,["googleSearchRetrieval"],o);const a=c(n,["computerUse"]);a!=null&&d(e,["computerUse"],a);const u=c(n,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const f=c(n,["codeExecution"]);if(f!=null&&d(e,["codeExecution"],f),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=c(n,["googleMaps"]);g!=null&&d(e,["googleMaps"],iA(g));const v=c(n,["googleSearch"]);v!=null&&d(e,["googleSearch"],sA(v));const y=c(n,["urlContext"]);return y!=null&&d(e,["urlContext"],y),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cA(n){const e=[];for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const o=n[i];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const a=Object.keys(o).map(u=>`${i}.${u}`);e.push(...a)}else e.push(i)}return e.join(",")}function dA(n,e){let i=null;const o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const u=o.setup;typeof u=="object"&&u!==null?(n.bidiGenerateContentSetup=u,i=u):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;const a=n.fieldMask;if(i){const u=cA(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?n.fieldMask=u:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];a.length>0&&(g=a.map(y=>f.includes(y)?`generationConfig.${y}`:y));const v=[];u&&v.push(u),g.length>0&&v.push(...g),v.length>0?n.fieldMask=v.join(","):delete n.fieldMask}else delete n.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?n.fieldMask=a.join(","):delete n.fieldMask;return n}class fA extends Ln{constructor(e){super(),this.apiClient=e}async create(e){var i,o;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=eA(this.apiClient,e);u=se("auth_tokens",g._url),f=g._query,delete g.config,delete g._url,delete g._query;const v=dA(g,e.config);return a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>y)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hA(n,e){const i={},o=c(n,["displayName"]);return e!==void 0&&o!=null&&d(e,["displayName"],o),i}function pA(n){const e={},i=c(n,["config"]);return i!=null&&hA(i,e),e}function mA(n,e){const i={},o=c(n,["force"]);return e!==void 0&&o!=null&&d(e,["_query","force"],o),i}function gA(n){const e={},i=c(n,["name"]);i!=null&&d(e,["_url","name"],i);const o=c(n,["config"]);return o!=null&&mA(o,e),e}function yA(n){const e={},i=c(n,["name"]);return i!=null&&d(e,["_url","name"],i),e}function vA(n,e){const i={},o=c(n,["customMetadata"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["customMetadata"],u)}const a=c(n,["chunkingConfig"]);return e!==void 0&&a!=null&&d(e,["chunkingConfig"],a),i}function xA(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const o=c(n,["metadata"]);o!=null&&d(e,["metadata"],o);const a=c(n,["done"]);a!=null&&d(e,["done"],a);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],TA(f)),e}function _A(n){const e={},i=c(n,["fileSearchStoreName"]);i!=null&&d(e,["_url","file_search_store_name"],i);const o=c(n,["fileName"]);o!=null&&d(e,["fileName"],o);const a=c(n,["config"]);return a!=null&&vA(a,e),e}function TA(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["parent"]);o!=null&&d(e,["parent"],o);const a=c(n,["documentName"]);return a!=null&&d(e,["documentName"],a),e}function SA(n,e){const i={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const a=c(n,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),i}function EA(n){const e={},i=c(n,["config"]);return i!=null&&SA(i,e),e}function bA(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const a=c(n,["fileSearchStores"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["fileSearchStores"],u)}return e}function CA(n,e){const i={},o=c(n,["mimeType"]);e!==void 0&&o!=null&&d(e,["mimeType"],o);const a=c(n,["displayName"]);e!==void 0&&a!=null&&d(e,["displayName"],a);const u=c(n,["customMetadata"]);if(e!==void 0&&u!=null){let g=u;Array.isArray(g)&&(g=g.map(v=>v)),d(e,["customMetadata"],g)}const f=c(n,["chunkingConfig"]);return e!==void 0&&f!=null&&d(e,["chunkingConfig"],f),i}function AA(n){const e={},i=c(n,["fileSearchStoreName"]);i!=null&&d(e,["_url","file_search_store_name"],i);const o=c(n,["config"]);return o!=null&&CA(o,e),e}function NA(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wA(n,e){const i={},o=c(n,["force"]);return e!==void 0&&o!=null&&d(e,["_query","force"],o),i}function IA(n){const e={},i=c(n,["name"]);i!=null&&d(e,["_url","name"],i);const o=c(n,["config"]);return o!=null&&wA(o,e),e}function RA(n){const e={},i=c(n,["name"]);return i!=null&&d(e,["_url","name"],i),e}function MA(n,e){const i={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&d(e,["_query","pageSize"],o);const a=c(n,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),i}function DA(n){const e={},i=c(n,["parent"]);i!=null&&d(e,["_url","parent"],i);const o=c(n,["config"]);return o!=null&&MA(o,e),e}function kA(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const o=c(n,["nextPageToken"]);o!=null&&d(e,["nextPageToken"],o);const a=c(n,["documents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["documents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UA extends Ln{constructor(e){super(),this.apiClient=e,this.list=async i=>new Ki(kn.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:i.parent,config:o.config}),await this.listInternal(i),i)}async get(e){var i,o;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=RA(e);return u=se("{name}",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),a.then(v=>v)}}async delete(e){var i,o;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=IA(e);a=se("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,o;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=DA(e);return u=se("{parent}/documents",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),a.then(v=>{const y=kA(v),x=new fS;return Object.assign(x,y),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PA extends Ln{constructor(e,i=new UA(e)){super(),this.apiClient=e,this.documents=i,this.list=async(o={})=>new Ki(kn.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,o;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=pA(e);return u=se("fileSearchStores",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),a.then(v=>v)}}async get(e){var i,o;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=yA(e);return u=se("{name}",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),a.then(v=>v)}}async delete(e){var i,o;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=gA(e);a=se("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,o;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=EA(e);return u=se("fileSearchStores",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),a.then(v=>{const y=bA(v),x=new hS;return Object.assign(x,y),x})}}async uploadToFileSearchStoreInternal(e){var i,o;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=AA(e);return u=se("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),a.then(v=>{const y=NA(v),x=new pS;return Object.assign(x,y),x})}}async importFile(e){var i,o;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=_A(e);return u=se("{file_search_store_name}:importFile",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),a.then(v=>{const y=xA(v),x=new vd;return Object.assign(x,y),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LA(n,e){const i={},o=c(n,["name"]);return o!=null&&d(i,["_url","name"],o),i}function BA(n,e){const i={},o=c(n,["name"]);return o!=null&&d(i,["_url","name"],o),i}function FA(n,e,i){const o={};if(c(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=c(n,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&d(e,["displayName"],a),c(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(n,["epochCount"]);e!==void 0&&u!=null&&d(e,["tuningTask","hyperparameters","epochCount"],u);const f=c(n,["learningRateMultiplier"]);if(f!=null&&d(o,["tuningTask","hyperparameters","learningRateMultiplier"],f),c(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=c(n,["batchSize"]);e!==void 0&&g!=null&&d(e,["tuningTask","hyperparameters","batchSize"],g);const v=c(n,["learningRate"]);if(e!==void 0&&v!=null&&d(e,["tuningTask","hyperparameters","learningRate"],v),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function OA(n,e,i){const o={};let a=c(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const b=c(n,["validationDataset"]);e!==void 0&&b!=null&&d(e,["supervisedTuningSpec"],Iy(b))}else if(a==="PREFERENCE_TUNING"){const b=c(n,["validationDataset"]);e!==void 0&&b!=null&&d(e,["preferenceOptimizationSpec"],Iy(b))}const u=c(n,["tunedModelDisplayName"]);e!==void 0&&u!=null&&d(e,["tunedModelDisplayName"],u);const f=c(n,["description"]);e!==void 0&&f!=null&&d(e,["description"],f);let g=c(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const b=c(n,["epochCount"]);e!==void 0&&b!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(g==="PREFERENCE_TUNING"){const b=c(n,["epochCount"]);e!==void 0&&b!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let v=c(i,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const b=c(n,["learningRateMultiplier"]);e!==void 0&&b!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(v==="PREFERENCE_TUNING"){const b=c(n,["learningRateMultiplier"]);e!==void 0&&b!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let y=c(i,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const b=c(n,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(y==="PREFERENCE_TUNING"){const b=c(n,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let x=c(i,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const b=c(n,["adapterSize"]);e!==void 0&&b!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(x==="PREFERENCE_TUNING"){const b=c(n,["adapterSize"]);e!==void 0&&b!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(c(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=c(n,["labels"]);e!==void 0&&T!=null&&d(e,["labels"],T);const S=c(n,["beta"]);return e!==void 0&&S!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),o}function HA(n,e){const i={},o=c(n,["baseModel"]);o!=null&&d(i,["baseModel"],o);const a=c(n,["preTunedModel"]);a!=null&&d(i,["preTunedModel"],a);const u=c(n,["trainingDataset"]);u!=null&&QA(u);const f=c(n,["config"]);return f!=null&&FA(f,i),i}function zA(n,e){const i={},o=c(n,["baseModel"]);o!=null&&d(i,["baseModel"],o);const a=c(n,["preTunedModel"]);a!=null&&d(i,["preTunedModel"],a);const u=c(n,["trainingDataset"]);u!=null&&WA(u,i,e);const f=c(n,["config"]);return f!=null&&OA(f,i,e),i}function qA(n,e){const i={},o=c(n,["name"]);return o!=null&&d(i,["_url","name"],o),i}function VA(n,e){const i={},o=c(n,["name"]);return o!=null&&d(i,["_url","name"],o),i}function GA(n,e,i){const o={},a=c(n,["pageSize"]);e!==void 0&&a!=null&&d(e,["_query","pageSize"],a);const u=c(n,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const f=c(n,["filter"]);return e!==void 0&&f!=null&&d(e,["_query","filter"],f),o}function jA(n,e,i){const o={},a=c(n,["pageSize"]);e!==void 0&&a!=null&&d(e,["_query","pageSize"],a);const u=c(n,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const f=c(n,["filter"]);return e!==void 0&&f!=null&&d(e,["_query","filter"],f),o}function YA(n,e){const i={},o=c(n,["config"]);return o!=null&&GA(o,i),i}function JA(n,e){const i={},o=c(n,["config"]);return o!=null&&jA(o,i),i}function KA(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const a=c(n,["nextPageToken"]);a!=null&&d(i,["nextPageToken"],a);const u=c(n,["tunedModels"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(g=>z0(g))),d(i,["tuningJobs"],f)}return i}function $A(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const a=c(n,["nextPageToken"]);a!=null&&d(i,["nextPageToken"],a);const u=c(n,["tuningJobs"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(g=>ed(g))),d(i,["tuningJobs"],f)}return i}function XA(n,e){const i={},o=c(n,["name"]);o!=null&&d(i,["model"],o);const a=c(n,["name"]);return a!=null&&d(i,["endpoint"],a),i}function QA(n,e){const i={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=c(n,["examples"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),d(i,["examples","examples"],a)}return i}function WA(n,e,i){const o={};let a=c(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const f=c(n,["gcsUri"]);e!==void 0&&f!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(a==="PREFERENCE_TUNING"){const f=c(n,["gcsUri"]);e!==void 0&&f!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}let u=c(i,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const f=c(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(u==="PREFERENCE_TUNING"){const f=c(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}if(c(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function z0(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const a=c(n,["name"]);a!=null&&d(i,["name"],a);const u=c(n,["state"]);u!=null&&d(i,["state"],S0(u));const f=c(n,["createTime"]);f!=null&&d(i,["createTime"],f);const g=c(n,["tuningTask","startTime"]);g!=null&&d(i,["startTime"],g);const v=c(n,["tuningTask","completeTime"]);v!=null&&d(i,["endTime"],v);const y=c(n,["updateTime"]);y!=null&&d(i,["updateTime"],y);const x=c(n,["description"]);x!=null&&d(i,["description"],x);const T=c(n,["baseModel"]);T!=null&&d(i,["baseModel"],T);const S=c(n,["_self"]);return S!=null&&d(i,["tunedModel"],XA(S)),i}function ed(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const a=c(n,["name"]);a!=null&&d(i,["name"],a);const u=c(n,["state"]);u!=null&&d(i,["state"],S0(u));const f=c(n,["createTime"]);f!=null&&d(i,["createTime"],f);const g=c(n,["startTime"]);g!=null&&d(i,["startTime"],g);const v=c(n,["endTime"]);v!=null&&d(i,["endTime"],v);const y=c(n,["updateTime"]);y!=null&&d(i,["updateTime"],y);const x=c(n,["error"]);x!=null&&d(i,["error"],x);const T=c(n,["description"]);T!=null&&d(i,["description"],T);const S=c(n,["baseModel"]);S!=null&&d(i,["baseModel"],S);const b=c(n,["tunedModel"]);b!=null&&d(i,["tunedModel"],b);const U=c(n,["preTunedModel"]);U!=null&&d(i,["preTunedModel"],U);const M=c(n,["supervisedTuningSpec"]);M!=null&&d(i,["supervisedTuningSpec"],M);const J=c(n,["preferenceOptimizationSpec"]);J!=null&&d(i,["preferenceOptimizationSpec"],J);const j=c(n,["tuningDataStats"]);j!=null&&d(i,["tuningDataStats"],j);const Q=c(n,["encryptionSpec"]);Q!=null&&d(i,["encryptionSpec"],Q);const P=c(n,["partnerModelTuningSpec"]);P!=null&&d(i,["partnerModelTuningSpec"],P);const X=c(n,["customBaseModel"]);X!=null&&d(i,["customBaseModel"],X);const oe=c(n,["experiment"]);oe!=null&&d(i,["experiment"],oe);const re=c(n,["labels"]);re!=null&&d(i,["labels"],re);const $=c(n,["outputUri"]);$!=null&&d(i,["outputUri"],$);const fe=c(n,["pipelineJob"]);fe!=null&&d(i,["pipelineJob"],fe);const ne=c(n,["serviceAccount"]);ne!=null&&d(i,["serviceAccount"],ne);const he=c(n,["tunedModelDisplayName"]);he!=null&&d(i,["tunedModelDisplayName"],he);const W=c(n,["veoTuningSpec"]);return W!=null&&d(i,["veoTuningSpec"],W),i}function ZA(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&d(i,["sdkHttpResponse"],o);const a=c(n,["name"]);a!=null&&d(i,["name"],a);const u=c(n,["metadata"]);u!=null&&d(i,["metadata"],u);const f=c(n,["done"]);f!=null&&d(i,["done"],f);const g=c(n,["error"]);return g!=null&&d(i,["error"],g),i}function Iy(n,e){const i={},o=c(n,["gcsUri"]);o!=null&&d(i,["validationDatasetUri"],o);const a=c(n,["vertexDatasetResource"]);return a!=null&&d(i,["validationDatasetUri"],a),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eN extends Ln{constructor(e){super(),this.apiClient=e,this.get=async i=>await this.getInternal(i),this.list=async(i={})=>new Ki(kn.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(i),i),this.tune=async i=>{var o;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const a={tunedModelName:i.baseModel};!((o=i.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(a.checkpointId=i.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},i),{preTunedModel:a});return u.baseModel=void 0,await this.tuneInternal(u)}else{const a=Object.assign({},i);return await this.tuneInternal(a)}else{const a=Object.assign({},i),u=await this.tuneMldevInternal(a);let f="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?f=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(f=u.name.split("/operations/")[0]),{name:f,state:Jc.JOB_STATE_QUEUED}}}}async getInternal(e){var i,o,a,u;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=VA(e);return g=se("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),f.then(x=>ed(x))}else{const y=qA(e);return g=se("{name}",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),f.then(x=>z0(x))}}async listInternal(e){var i,o,a,u;let f,g="",v={};if(this.apiClient.isVertexAI()){const y=JA(e);return g=se("tuningJobs",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),f.then(x=>{const T=$A(x),S=new ly;return Object.assign(S,T),S})}else{const y=YA(e);return g=se("tunedModels",y._url),v=y._query,delete y._url,delete y._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:x.headers},S})),f.then(x=>{const T=KA(x),S=new ly;return Object.assign(S,T),S})}}async cancel(e){var i,o,a,u;let f="",g={};if(this.apiClient.isVertexAI()){const v=BA(e);f=se("{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const v=LA(e);f=se("{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async tuneInternal(e){var i,o;let a,u="",f={};if(this.apiClient.isVertexAI()){const g=zA(e,e);return u=se("tuningJobs",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(y=>{const x=y;return x.sdkHttpResponse={headers:v.headers},x})),a.then(v=>ed(v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,o;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=HA(e);return u=se("tunedModels",g._url),f=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(y=>{const x=y;return x.sdkHttpResponse={headers:v.headers},x})),a.then(v=>ZA(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tN{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const nN=1024*1024*8,iN=3,sN=1e3,oN=2,Ja="x-goog-upload-status";async function rN(n,e,i){var o;const a=await q0(n,e,i),u=await(a==null?void 0:a.json());if(((o=a==null?void 0:a.headers)===null||o===void 0?void 0:o[Ja])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function aN(n,e,i){var o;const a=await q0(n,e,i),u=await(a==null?void 0:a.json());if(((o=a==null?void 0:a.headers)===null||o===void 0?void 0:o[Ja])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=g0(u),g=new xd;return Object.assign(g,f),g}async function q0(n,e,i){var o,a;let u=0,f=0,g=new Kc(new Response),v="upload";for(u=n.size;f<u;){const y=Math.min(nN,u-f),x=n.slice(f,f+y);f+y>=u&&(v+=", finalize");let T=0,S=sN;for(;T<iN&&(g=await i.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":String(f),"Content-Length":String(y)}}}),!(!((o=g==null?void 0:g.headers)===null||o===void 0)&&o[Ja]));)T++,await uN(S),S=S*oN;if(f+=y,((a=g==null?void 0:g.headers)===null||a===void 0?void 0:a[Ja])!=="active")break;if(u<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function lN(n){return{size:n.size,type:n.type}}function uN(n){return new Promise(e=>setTimeout(e,n))}class cN{async upload(e,i,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rN(e,i,o)}async uploadToFileSearchStore(e,i,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await aN(e,i,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await lN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dN{create(e,i,o){return new fN(e,i,o)}}class fN{constructor(e,i,o){this.url=e,this.headers=i,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ry="x-goog-api-key";class hN{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(Ry)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Ry,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pN="gl-node/";class V0{constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const o=jT(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const a=new hN(this.apiKey);this.apiClient=new RC({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:pN+"web",uploader:new cN,downloader:new tN}),this.models=new $C(this.apiClient),this.live=new VC(this.apiClient,a,new dN),this.batches=new _E(this.apiClient),this.chats=new tb(this.models,this.apiClient),this.caches=new WE(this.apiClient),this.files=new db(this.apiClient),this.operations=new XC(this.apiClient),this.authTokens=new fA(this.apiClient),this.tunings=new eN(this.apiClient),this.fileSearchStores=new PA(this.apiClient)}}/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,o)=>o?o.toUpperCase():i.toLowerCase()),My=n=>{const e=gN(n);return e.charAt(0).toUpperCase()+e.slice(1)},G0=(...n)=>n.filter((e,i,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===i).join(" ").trim(),yN=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=F.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:u,iconNode:f,...g},v)=>F.createElement("svg",{ref:v,...vN,width:e,height:e,stroke:n,strokeWidth:o?Number(i)*24/Number(e):i,className:G0("lucide",a),...!u&&!yN(g)&&{"aria-hidden":"true"},...g},[...f.map(([y,x])=>F.createElement(y,x)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(n,e)=>{const i=F.forwardRef(({className:o,...a},u)=>F.createElement(xN,{ref:u,iconNode:e,className:G0(`lucide-${mN(My(n))}`,`lucide-${n}`,o),...a}));return i.displayName=My(n),i};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ei=ye("arrow-left",_N);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ir=ye("check",TN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],j0=ye("circle-alert",SN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bN=ye("circle-check-big",EN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],AN=ye("circle-question-mark",CN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wN=ye("circle",NN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],RN=ye("clock",IN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],DN=ye("ellipsis-vertical",MN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],UN=ye("flag",kN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Ka=ye("gift",PN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Yt=ye("heart",LN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],FN=ye("image",BN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],HN=ye("info",ON);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],qN=ye("loader-circle",zN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],GN=ye("loader",VN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Cd=ye("lock",jN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],td=ye("log-out",YN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Y0=ye("mail",JN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],$N=ye("message-circle",KN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],QN=ye("mic-off",XN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],J0=ye("mic",WN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],ew=ye("monitor",ZN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],nw=ye("moon",tw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],sw=ye("palette",iw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],rw=ye("pen",ow);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],lw=ye("phone-off",aw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Ad=ye("phone",uw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],dw=ye("pin",cw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hw=ye("plus",fw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],mw=ye("refresh-ccw",pw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],K0=ye("refresh-cw",gw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],vw=ye("rotate-ccw",yw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_w=ye("save",xw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],$0=ye("send",Tw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],X0=ye("shield-check",Sw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],al=ye("shield",Ew);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],jt=ye("sparkles",bw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Aw=ye("square",Cw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Nd=ye("trash-2",Nw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Dy=ye("trending-up",ww);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ll=ye("triangle-alert",Iw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Mw=ye("upload",Rw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kw=ye("user-check",Dw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wd=ye("user",Uw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],ky=ye("volume-2",Pw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Bw=ye("wifi",Lw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Yi=ye("x",Fw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Uy=ye("zap",Ow),Zo="bondly_local_companions",rn="chat_history_",Se={getCompanions:()=>{try{const n=localStorage.getItem(Zo);if(!n)return[];const e=JSON.parse(n),i=e.filter(o=>o.retentionUntil>=Date.now());return i.length!==e.length&&(localStorage.setItem(Zo,JSON.stringify(i)),e.forEach(o=>{o.retentionUntil<Date.now()&&localStorage.removeItem(rn+o.id)})),i}catch(n){return console.error("Storage Read Error",n),[]}},saveCompanion:n=>{const e=Se.getCompanions(),i=Date.now(),o=i+10080*60*1e3,a={...n,createdAt:i,retentionUntil:o},u=[a,...e.filter(f=>f.id!==n.id)];return localStorage.setItem(Zo,JSON.stringify(u)),a},deleteCompanion:n=>{const i=Se.getCompanions().filter(o=>o.id!==n);localStorage.setItem(Zo,JSON.stringify(i)),localStorage.removeItem(rn+n)},extendRetention:n=>{const e=Se.getCompanions(),i=e.find(o=>o.id===n);return i?(i.retentionUntil=i.retentionUntil+10080*60*1e3,localStorage.setItem(Zo,JSON.stringify(e)),i):null},getMessages:n=>{try{const e=localStorage.getItem(rn+n);if(!e)return[];const i=JSON.parse(e),o=Date.now()-10080*60*1e3,a=i.filter(u=>{const f=new Date(u.timestamp).getTime();return!isNaN(f)&&f>=o});return a.length!==i.length&&(a.length>0?localStorage.setItem(rn+n,JSON.stringify(a)):localStorage.removeItem(rn+n)),a}catch(e){return console.error("Storage: Error getting messages",e),[]}},saveMessage:(n,e)=>{try{const i=Se.getMessages(n);i.push(e);const o=i.slice(-100);localStorage.setItem(rn+n,JSON.stringify(o))}catch(i){console.error("Storage: Error saving message",i)}},saveMessages:(n,e)=>{try{const i=e.slice(-100);localStorage.setItem(rn+n,JSON.stringify(i))}catch(i){console.error("Storage saveMessages error",i)}},deleteMessages:(n,e)=>{try{const o=Se.getMessages(n).filter(a=>!e.includes(a.id));localStorage.setItem(rn+n,JSON.stringify(o))}catch(i){console.error("Storage deleteMessages error",i)}},clearHistory:n=>{localStorage.removeItem(rn+n)},clearAllHistories:()=>{try{Object.keys(localStorage).forEach(e=>{e.startsWith(rn)&&localStorage.removeItem(e)})}catch(n){console.error("Storage clearAllHistories error",n)}},getProfile:()=>{try{const n=localStorage.getItem("bondly_user_profile");if(n)return JSON.parse(n)}catch{}return{id:"local_user",subscription:"free",connectionPoints:{},messageCountToday:0,lastActive:new Date().toISOString(),voiceMinutesLeft:0,unlockedModes:[],hearts:20,midnightPassExpiry:void 0,sessionsCount:0,streakCount:0,earningsHistory:[],avatarUrl:"https://api.dicebear.com/7.x/avataaars/svg?seed=Anya"}},saveProfile:n=>{if(n.earningsHistory){const e=Date.now()-6048e5;n.earningsHistory=n.earningsHistory.filter(i=>new Date(i.timestamp).getTime()>e).slice(0,50)}localStorage.setItem("bondly_user_profile",JSON.stringify(n))},incrementSessionsCount:()=>{const n=Se.getProfile();return n.sessionsCount=(n.sessionsCount||0)+1,Se.saveProfile(n),n.sessionsCount},addHearts:n=>{const e=Se.getProfile();return e.hearts=(e.hearts||0)+n,Se.saveProfile(e),e.hearts},spendHearts:n=>{const e=Se.getProfile();return(e.hearts||0)<n?!1:(e.hearts-=n,Se.saveProfile(e),!0)},unlockMode:n=>{const e=Se.getProfile();e.unlockedModes.includes(n)||(e.unlockedModes.push(n),Se.saveProfile(e))},addConnectionPoints:(n,e)=>{const i=Se.getProfile(),o=i.connectionPoints[n]||0;return i.connectionPoints[n]=o+e,Se.saveProfile(i),i.connectionPoints[n]},incrementMessageCount:()=>{const n=Se.getProfile(),e=new Date(n.lastActive).toDateString(),i=new Date().toDateString();return e!==i?(n.messageCountToday=1,n.hearts=(n.hearts||0)+5):n.messageCountToday+=1,n.lastActive=new Date().toISOString(),Se.saveProfile(n),n.messageCountToday},getUsage:()=>parseInt(localStorage.getItem("bondly_global_usage")||"0"),saveUsage:n=>{localStorage.setItem("bondly_global_usage",n.toString())},getMemory:n=>{try{const e=localStorage.getItem(`memory_${n}`);if(e)return JSON.parse(e)}catch{}return{lastMood:"neutral",lastTopic:"none",preferredTime:"unknown",facts:[]}},saveMemory:(n,e)=>{const i=Se.getMemory(n),o={...i,...e};e.facts&&(o.facts=Array.from(new Set([...i.facts||[],...e.facts])).slice(-20)),localStorage.setItem(`memory_${n}`,JSON.stringify(o))},getSummary:n=>localStorage.getItem(`persona_summary_${n}`)||"",saveSummary:(n,e)=>{localStorage.setItem(`persona_summary_${n}`,e)}},Q0=F.createContext(void 0),eo=()=>{const n=F.useContext(Q0);if(!n)throw new Error("useNotification must be used within a NotificationProvider");return n},Hw=({children:n})=>{const[e,i]=F.useState([]),o=F.useCallback(f=>{i(g=>g.filter(v=>v.id!==f))},[]),a=F.useCallback(()=>{try{const f=new Audio("https://assets.mixkit.co/active_storage/sfx/2354/2354-preview.mp3");f.volume=.4,f.play().catch(g=>console.debug("Audio play blocked by browser policy"))}catch{console.debug("Audio init failed")}},[]),u=F.useCallback((f,g="info",v=4e3)=>{const y=Math.random().toString(36).substring(2,9);i(x=>[...x,{id:y,type:g,message:f,duration:v}]),a(),setTimeout(()=>{o(y)},v)},[o,a]);return p.jsxs(Q0.Provider,{value:{showNotification:u},children:[n,p.jsx("div",{className:"fixed top-20 right-4 z-[10000] flex flex-col gap-3 pointer-events-none max-w-[90vw] sm:max-w-md",children:e.map(f=>p.jsx(zw,{notification:f,onRemove:o},f.id))})]})},zw=({notification:n,onRemove:e})=>{const[i,o]=F.useState(!1);F.useEffect(()=>{o(!0)},[]);const a=()=>{o(!1),setTimeout(()=>e(n.id),300)},u={success:p.jsx(bN,{className:"text-green-500",size:20}),error:p.jsx(j0,{className:"text-red-500",size:20}),info:p.jsx(HN,{className:"text-blue-500",size:20}),hearts:p.jsx(Yt,{className:"text-pink-500 fill-pink-500",size:20})},f={success:"bg-green-50 border-green-100",error:"bg-red-50 border-red-100",info:"bg-blue-50 border-blue-100",hearts:"bg-pink-50 border-pink-100"};return p.jsxs("div",{className:`
        pointer-events-auto flex items-center gap-3 p-4 rounded-2xl border shadow-xl backdrop-blur-md
        transition-all duration-300 transform
        ${i?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
        ${f[n.type]}
      `,children:[p.jsx("div",{className:"shrink-0",children:u[n.type]}),p.jsx("p",{className:"text-sm font-bold text-[#4A2040] pr-6",children:n.message}),p.jsx("button",{onClick:a,className:"absolute top-4 right-4 text-[#4A2040]/40 hover:text-[#4A2040] transition-colors",children:p.jsx(Yi,{size:16})})]})},qw=()=>{};var Py={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=function(n){const e=[];let i=0;for(let o=0;o<n.length;o++){let a=n.charCodeAt(o);a<128?e[i++]=a:a<2048?(e[i++]=a>>6|192,e[i++]=a&63|128):(a&64512)===55296&&o+1<n.length&&(n.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++o)&1023),e[i++]=a>>18|240,e[i++]=a>>12&63|128,e[i++]=a>>6&63|128,e[i++]=a&63|128):(e[i++]=a>>12|224,e[i++]=a>>6&63|128,e[i++]=a&63|128)}return e},Vw=function(n){const e=[];let i=0,o=0;for(;i<n.length;){const a=n[i++];if(a<128)e[o++]=String.fromCharCode(a);else if(a>191&&a<224){const u=n[i++];e[o++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=n[i++],f=n[i++],g=n[i++],v=((a&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;e[o++]=String.fromCharCode(55296+(v>>10)),e[o++]=String.fromCharCode(56320+(v&1023))}else{const u=n[i++],f=n[i++];e[o++]=String.fromCharCode((a&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Z0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<n.length;a+=3){const u=n[a],f=a+1<n.length,g=f?n[a+1]:0,v=a+2<n.length,y=v?n[a+2]:0,x=u>>2,T=(u&3)<<4|g>>4;let S=(g&15)<<2|y>>6,b=y&63;v||(b=64,f||(S=64)),o.push(i[x],i[T],i[S],i[b])}return o.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(W0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Vw(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<n.length;){const u=i[n.charAt(a++)],g=a<n.length?i[n.charAt(a)]:0;++a;const y=a<n.length?i[n.charAt(a)]:64;++a;const T=a<n.length?i[n.charAt(a)]:64;if(++a,u==null||g==null||y==null||T==null)throw new Gw;const S=u<<2|g>>4;if(o.push(S),y!==64){const b=g<<4&240|y>>2;if(o.push(b),T!==64){const U=y<<6&192|T;o.push(U)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Gw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jw=function(n){const e=W0(n);return Z0.encodeByteArray(e,!0)},ev=function(n){return jw(n).replace(/\./g,"")},tv=function(n){try{return Z0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=()=>Yw().__FIREBASE_DEFAULTS__,Kw=()=>{if(typeof process>"u"||typeof Py>"u")return;const n=Py.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},$w=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&tv(n[1]);return e&&JSON.parse(e)},Id=()=>{try{return qw()||Jw()||Kw()||$w()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Xw=n=>{var e,i;return(i=(e=Id())==null?void 0:e.emulatorHosts)==null?void 0:i[n]},nv=()=>{var n;return(n=Id())==null?void 0:n.config},iv=n=>{var e;return(e=Id())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,o)=>{i?this.reject(i):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,o))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ww(n){return(await fetch(n,{credentials:"include"})).ok}const sr={};function Zw(){const n={prod:[],emulator:[]};for(const e of Object.keys(sr))sr[e]?n.emulator.push(e):n.prod.push(e);return n}function e2(n){let e=document.getElementById(n),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),i=!0),{created:i,element:e}}let Ly=!1;function t2(n,e){if(typeof window>"u"||typeof document>"u"||!ul(window.location.host)||sr[n]===e||sr[n]||Ly)return;sr[n]=e;function i(S){return`__firebase__banner__${S}`}const o="__firebase__banner",u=Zw().prod.length>0;function f(){const S=document.getElementById(o);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function v(S,b){S.setAttribute("width","24"),S.setAttribute("id",b),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Ly=!0,f()},S}function x(S,b){S.setAttribute("id",b),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=e2(o),b=i("text"),U=document.getElementById(b)||document.createElement("span"),M=i("learnmore"),J=document.getElementById(M)||document.createElement("a"),j=i("preprendIcon"),Q=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const P=S.element;g(P),x(J,M);const X=y();v(Q,j),P.append(Q,U,J,X),document.body.appendChild(P)}u?(U.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function n2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function i2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function s2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function o2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r2(){const n=ht();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function a2(){try{return typeof indexedDB=="object"}catch{return!1}}function l2(){return new Promise((n,e)=>{try{let i=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),i||self.indexedDB.deleteDatabase(o),n(!0)},a.onupgradeneeded=()=>{i=!1},a.onerror=()=>{var u;e(((u=a.error)==null?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="FirebaseError";class bi extends Error{constructor(e,i,o){super(i),this.code=e,this.customData=o,this.name=u2,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cr.prototype.create)}}class cr{constructor(e,i,o){this.service=e,this.serviceName=i,this.errors=o}create(e,...i){const o=i[0]||{},a=`${this.service}/${e}`,u=this.errors[e],f=u?c2(u,o):"Error",g=`${this.serviceName}: ${f} (${a}).`;return new bi(a,g,o)}}function c2(n,e){return n.replace(d2,(i,o)=>{const a=e[o];return a!=null?String(a):`<${o}?>`})}const d2=/\{\$([^}]+)}/g;function f2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ks(n,e){if(n===e)return!0;const i=Object.keys(n),o=Object.keys(e);for(const a of i){if(!o.includes(a))return!1;const u=n[a],f=e[a];if(By(u)&&By(f)){if(!Ks(u,f))return!1}else if(u!==f)return!1}for(const a of o)if(!i.includes(a))return!1;return!0}function By(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(n){const e=[];for(const[i,o]of Object.entries(n))Array.isArray(o)?o.forEach(a=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(o));return e.length?"&"+e.join("&"):""}function h2(n,e){const i=new p2(n,e);return i.subscribe.bind(i)}class p2{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(o=>{this.error(o)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,o){let a;if(e===void 0&&i===void 0&&o===void 0)throw new Error("Missing Observer.");m2(e,["next","error","complete"])?a=e:a={next:e,error:i,complete:o},a.next===void 0&&(a.next=Uc),a.error===void 0&&(a.error=Uc),a.complete===void 0&&(a.complete=Uc);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function m2(n,e){if(typeof n!="object"||n===null)return!1;for(const i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}function Uc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(n){return n&&n._delegate?n._delegate:n}class $s{constructor(e,i,o){this.name=e,this.instanceFactory=i,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const o=new Qw;if(this.instancesDeferred.set(i,o),this.isInitialized(i)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:i});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v2(e))try{this.getOrInitializeService({instanceIdentifier:Vi})}catch{}for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:a});o.resolve(u)}catch{}}}}clearInstance(e=Vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vi){return this.instances.has(e)}getOptions(e=Vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:i});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);o===g&&f.resolve(a)}return a}onInit(e,i){const o=this.normalizeInstanceIdentifier(i),a=this.onInitCallbacks.get(o)??new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,i){const o=this.onInitCallbacks.get(i);if(o)for(const a of o)try{a(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:y2(e),options:i}),this.instances.set(e,o),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=Vi){return this.component?this.component.multipleInstances?e:Vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y2(n){return n===Vi?void 0:n}function v2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new g2(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ze||(ze={}));const _2={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},T2=ze.INFO,S2={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},E2=(n,e,...i)=>{if(e<n.logLevel)return;const o=new Date().toISOString(),a=S2[e];if(a)console[a](`[${o}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sv{constructor(e){this.name=e,this._logLevel=T2,this._logHandler=E2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const b2=(n,e)=>e.some(i=>n instanceof i);let Fy,Oy;function C2(){return Fy||(Fy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A2(){return Oy||(Oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ov=new WeakMap,nd=new WeakMap,rv=new WeakMap,Pc=new WeakMap,Rd=new WeakMap;function N2(n){const e=new Promise((i,o)=>{const a=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{i(xi(n.result)),a()},f=()=>{o(n.error),a()};n.addEventListener("success",u),n.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&ov.set(i,n)}).catch(()=>{}),Rd.set(e,n),e}function w2(n){if(nd.has(n))return;const e=new Promise((i,o)=>{const a=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{i(),a()},f=()=>{o(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});nd.set(n,e)}let id={get(n,e,i){if(n instanceof IDBTransaction){if(e==="done")return nd.get(n);if(e==="objectStoreNames")return n.objectStoreNames||rv.get(n);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return xi(n[e])},set(n,e,i){return n[e]=i,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function I2(n){id=n(id)}function R2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const o=n.call(Lc(this),e,...i);return rv.set(o,e.sort?e.sort():[e]),xi(o)}:A2().includes(n)?function(...e){return n.apply(Lc(this),e),xi(ov.get(this))}:function(...e){return xi(n.apply(Lc(this),e))}}function M2(n){return typeof n=="function"?R2(n):(n instanceof IDBTransaction&&w2(n),b2(n,C2())?new Proxy(n,id):n)}function xi(n){if(n instanceof IDBRequest)return N2(n);if(Pc.has(n))return Pc.get(n);const e=M2(n);return e!==n&&(Pc.set(n,e),Rd.set(e,n)),e}const Lc=n=>Rd.get(n);function D2(n,e,{blocked:i,upgrade:o,blocking:a,terminated:u}={}){const f=indexedDB.open(n,e),g=xi(f);return o&&f.addEventListener("upgradeneeded",v=>{o(xi(f.result),v.oldVersion,v.newVersion,xi(f.transaction),v)}),i&&f.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{u&&v.addEventListener("close",()=>u()),a&&v.addEventListener("versionchange",y=>a(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const k2=["get","getKey","getAll","getAllKeys","count"],U2=["put","add","delete","clear"],Bc=new Map;function Hy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Bc.get(e))return Bc.get(e);const i=e.replace(/FromIndex$/,""),o=e!==i,a=U2.includes(i);if(!(i in(o?IDBIndex:IDBObjectStore).prototype)||!(a||k2.includes(i)))return;const u=async function(f,...g){const v=this.transaction(f,a?"readwrite":"readonly");let y=v.store;return o&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),a&&v.done]))[0]};return Bc.set(e,u),u}I2(n=>({...n,get:(e,i,o)=>Hy(e,i)||n.get(e,i,o),has:(e,i)=>!!Hy(e,i)||n.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(L2(i)){const o=i.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(i=>i).join(" ")}}function L2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sd="@firebase/app",zy="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un=new sv("@firebase/app"),B2="@firebase/app-compat",F2="@firebase/analytics-compat",O2="@firebase/analytics",H2="@firebase/app-check-compat",z2="@firebase/app-check",q2="@firebase/auth",V2="@firebase/auth-compat",G2="@firebase/database",j2="@firebase/data-connect",Y2="@firebase/database-compat",J2="@firebase/functions",K2="@firebase/functions-compat",$2="@firebase/installations",X2="@firebase/installations-compat",Q2="@firebase/messaging",W2="@firebase/messaging-compat",Z2="@firebase/performance",eI="@firebase/performance-compat",tI="@firebase/remote-config",nI="@firebase/remote-config-compat",iI="@firebase/storage",sI="@firebase/storage-compat",oI="@firebase/firestore",rI="@firebase/ai",aI="@firebase/firestore-compat",lI="firebase",uI="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="[DEFAULT]",cI={[sd]:"fire-core",[B2]:"fire-core-compat",[O2]:"fire-analytics",[F2]:"fire-analytics-compat",[z2]:"fire-app-check",[H2]:"fire-app-check-compat",[q2]:"fire-auth",[V2]:"fire-auth-compat",[G2]:"fire-rtdb",[j2]:"fire-data-connect",[Y2]:"fire-rtdb-compat",[J2]:"fire-fn",[K2]:"fire-fn-compat",[$2]:"fire-iid",[X2]:"fire-iid-compat",[Q2]:"fire-fcm",[W2]:"fire-fcm-compat",[Z2]:"fire-perf",[eI]:"fire-perf-compat",[tI]:"fire-rc",[nI]:"fire-rc-compat",[iI]:"fire-gcs",[sI]:"fire-gcs-compat",[oI]:"fire-fst",[aI]:"fire-fst-compat",[rI]:"fire-vertex","fire-js":"fire-js",[lI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new Map,dI=new Map,rd=new Map;function qy(n,e){try{n.container.addComponent(e)}catch(i){Un.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,i)}}function ar(n){const e=n.name;if(rd.has(e))return Un.debug(`There were multiple attempts to register component ${e}.`),!1;rd.set(e,n);for(const i of $a.values())qy(i,n);for(const i of dI.values())qy(i,n);return!0}function av(n,e){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(e)}function an(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_i=new cr("app","Firebase",fI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,i,o){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=uI;function lv(n,e={}){let i=n;typeof e!="object"&&(e={name:e});const o={name:od,automaticDataCollectionEnabled:!0,...e},a=o.name;if(typeof a!="string"||!a)throw _i.create("bad-app-name",{appName:String(a)});if(i||(i=nv()),!i)throw _i.create("no-options");const u=$a.get(a);if(u){if(Ks(i,u.options)&&Ks(o,u.config))return u;throw _i.create("duplicate-app",{appName:a})}const f=new x2(a);for(const v of rd.values())f.addComponent(v);const g=new hI(i,o,f);return $a.set(a,g),g}function pI(n=od){const e=$a.get(n);if(!e&&n===od&&nv())return lv();if(!e)throw _i.create("no-app",{appName:n});return e}function Gs(n,e,i){let o=cI[n]??n;i&&(o+=`-${i}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${o}" with version "${e}":`];a&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Un.warn(f.join(" "));return}ar(new $s(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="firebase-heartbeat-database",gI=1,lr="firebase-heartbeat-store";let Fc=null;function uv(){return Fc||(Fc=D2(mI,gI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(lr)}catch(i){console.warn(i)}}}}).catch(n=>{throw _i.create("idb-open",{originalErrorMessage:n.message})})),Fc}async function yI(n){try{const i=(await uv()).transaction(lr),o=await i.objectStore(lr).get(cv(n));return await i.done,o}catch(e){if(e instanceof bi)Un.warn(e.message);else{const i=_i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Un.warn(i.message)}}}async function Vy(n,e){try{const o=(await uv()).transaction(lr,"readwrite");await o.objectStore(lr).put(e,cv(n)),await o.done}catch(i){if(i instanceof bi)Un.warn(i.message);else{const o=_i.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Un.warn(o.message)}}}function cv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=1024,xI=30;class _I{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new SI(i),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,i;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Gy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats.length>xI){const f=EI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(o){Un.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Gy(),{heartbeatsToSend:o,unsentEntries:a}=TI(this._heartbeatsCache.heartbeats),u=ev(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=i,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return Un.warn(i),""}}}function Gy(){return new Date().toISOString().substring(0,10)}function TI(n,e=vI){const i=[];let o=n.slice();for(const a of n){const u=i.find(f=>f.agent===a.agent);if(u){if(u.dates.push(a.date),jy(i)>e){u.dates.pop();break}}else if(i.push({agent:a.agent,dates:[a.date]}),jy(i)>e){i.pop();break}o=o.slice(1)}return{heartbeatsToSend:i,unsentEntries:o}}class SI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return a2()?l2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await yI(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const o=await this.read();return Vy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const o=await this.read();return Vy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function jy(n){return ev(JSON.stringify({version:2,heartbeats:n})).length}function EI(n){if(n.length===0)return-1;let e=0,i=n[0].date;for(let o=1;o<n.length;o++)n[o].date<i&&(i=n[o].date,e=o);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(n){ar(new $s("platform-logger",e=>new P2(e),"PRIVATE")),ar(new $s("heartbeat",e=>new _I(e),"PRIVATE")),Gs(sd,zy,n),Gs(sd,zy,"esm2020"),Gs("fire-js","")}bI("");var CI="firebase",AI="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gs(CI,AI,"app");function dv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NI=dv,fv=new cr("auth","Firebase",dv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new sv("@firebase/auth");function wI(n,...e){Xa.logLevel<=ze.WARN&&Xa.warn(`Auth (${fr}): ${n}`,...e)}function Fa(n,...e){Xa.logLevel<=ze.ERROR&&Xa.error(`Auth (${fr}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(n,...e){throw Dd(n,...e)}function Wt(n,...e){return Dd(n,...e)}function Md(n,e,i){const o={...NI(),[e]:i};return new cr("auth","Firebase",o).create(e,{appName:n.name})}function ji(n){return Md(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function II(n,e,i){const o=i;if(!(e instanceof o))throw o.name!==e.constructor.name&&cn(n,"argument-error"),Md(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dd(n,...e){if(typeof n!="string"){const i=e[0],o=[...e.slice(1)];return o[0]&&(o[0].appName=n.name),n._errorFactory.create(i,...o)}return fv.create(n,...e)}function ve(n,e,...i){if(!n)throw Dd(e,...i)}function Mn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Fa(e),new Error(e)}function Pn(n,e){n||Mn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function RI(){return Yy()==="http:"||Yy()==="https:"}function Yy(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RI()||s2()||"connection"in navigator)?navigator.onLine:!0}function DI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,i){this.shortDelay=e,this.longDelay=i,Pn(i>e,"Short delay should be less than long delay!"),this.isMobile=n2()||o2()}get(){return MI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(n,e){Pn(n.emulator,"Emulator should always be set here");const{url:i}=n.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{static initialize(e,i,o){this.fetchImpl=e,i&&(this.headersImpl=i),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PI=new hr(3e4,6e4);function Ud(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function to(n,e,i,o,a={}){return pv(n,a,async()=>{let u={},f={};o&&(e==="GET"?f=o:u={body:JSON.stringify(o)});const g=dr({key:n.config.apiKey,...f}).slice(1),v=await n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);const y={method:e,headers:v,...u};return i2()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&ul(n.emulatorConfig.host)&&(y.credentials="include"),hv.fetch()(await mv(n,n.config.apiHost,i,g),y)})}async function pv(n,e,i){n._canInitEmulator=!1;const o={...kI,...e};try{const a=new BI(n),u=await Promise.race([i(),a.promise]);a.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw ka(n,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw ka(n,"credential-already-in-use",f);if(v==="EMAIL_EXISTS")throw ka(n,"email-already-in-use",f);if(v==="USER_DISABLED")throw ka(n,"user-disabled",f);const x=o[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Md(n,x,y);cn(n,x)}}catch(a){if(a instanceof bi)throw a;cn(n,"network-request-failed",{message:String(a)})}}async function LI(n,e,i,o,a={}){const u=await to(n,e,i,o,a);return"mfaPendingCredential"in u&&cn(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function mv(n,e,i,o){const a=`${e}${i}?${o}`,u=n,f=u.config.emulator?kd(n.config,a):`${n.config.apiScheme}://${a}`;return UI.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class BI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,o)=>{this.timer=setTimeout(()=>o(Wt(this.auth,"network-request-failed")),PI.get())})}}function ka(n,e,i){const o={appName:n.name};i.email&&(o.email=i.email),i.phoneNumber&&(o.phoneNumber=i.phoneNumber);const a=Wt(n,e,o);return a.customData._tokenResponse=i,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(n,e){return to(n,"POST","/v1/accounts:delete",e)}async function Qa(n,e){return to(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OI(n,e=!1){const i=$i(n),o=await i.getIdToken(e),a=Pd(o);ve(a&&a.exp&&a.auth_time&&a.iat,i.auth,"internal-error");const u=typeof a.firebase=="object"?a.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:a,token:o,authTime:or(Oc(a.auth_time)),issuedAtTime:or(Oc(a.iat)),expirationTime:or(Oc(a.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Oc(n){return Number(n)*1e3}function Pd(n){const[e,i,o]=n.split(".");if(e===void 0||i===void 0||o===void 0)return Fa("JWT malformed, contained fewer than 3 sections"),null;try{const a=tv(i);return a?JSON.parse(a):(Fa("Failed to decode base64 JWT payload"),null)}catch(a){return Fa("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Jy(n){const e=Pd(n);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ur(n,e,i=!1){if(i)return e;try{return await e}catch(o){throw o instanceof bi&&HI(o)&&n.auth.currentUser===n&&await n.auth.signOut(),o}}function HI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=or(this.lastLoginAt),this.creationTime=or(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(n){var T;const e=n.auth,i=await n.getIdToken(),o=await ur(n,Qa(e,{idToken:i}));ve(o==null?void 0:o.users.length,e,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=(T=a.providerUserInfo)!=null&&T.length?gv(a.providerUserInfo):[],f=VI(n.providerData,u),g=n.isAnonymous,v=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),y=g?v:!1,x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new ld(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,x)}async function qI(n){const e=$i(n);await Wa(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VI(n,e){return[...n.filter(o=>!e.some(a=>a.providerId===o.providerId)),...e]}function gv(n){return n.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(n,e){const i=await pv(n,{},async()=>{const o=dr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:u}=n.config,f=await mv(n,a,"/v1/token",`key=${u}`),g=await n._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:o};return n.emulatorConfig&&ul(n.emulatorConfig.host)&&(v.credentials="include"),hv.fetch()(f,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function jI(n,e){return to(n,"POST","/v2/accounts:revokeToken",Ud(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const i=Jy(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:o,refreshToken:a,expiresIn:u}=await GI(e,i);this.updateTokensAndExpiration(o,a,Number(u))}updateTokensAndExpiration(e,i,o){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(e,i){const{refreshToken:o,accessToken:a,expirationTime:u}=i,f=new js;return o&&(ve(typeof o=="string","internal-error",{appName:e}),f.refreshToken=o),a&&(ve(typeof a=="string","internal-error",{appName:e}),f.accessToken=a),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new js,this.toJSON())}_performRefresh(){return Mn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(n,e){ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Qt{constructor({uid:e,auth:i,stsTokenManager:o,...a}){this.providerId="firebase",this.proactiveRefresh=new zI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ld(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const i=await ur(this,this.stsTokenManager.getToken(this.auth,e));return ve(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return OI(this,e)}reload(){return qI(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Qt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let o=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),o=!0),i&&await Wa(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(an(this.auth.app))return Promise.reject(ji(this.auth));const e=await this.getIdToken();return await ur(this,FI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const o=i.displayName??void 0,a=i.email??void 0,u=i.phoneNumber??void 0,f=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,x=i.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:b,providerData:U,stsTokenManager:M}=i;ve(T&&M,e,"internal-error");const J=js.fromJSON(this.name,M);ve(typeof T=="string",e,"internal-error"),pi(o,e.name),pi(a,e.name),ve(typeof S=="boolean",e,"internal-error"),ve(typeof b=="boolean",e,"internal-error"),pi(u,e.name),pi(f,e.name),pi(g,e.name),pi(v,e.name),pi(y,e.name),pi(x,e.name);const j=new Qt({uid:T,auth:e,email:a,emailVerified:S,displayName:o,isAnonymous:b,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:J,createdAt:y,lastLoginAt:x});return U&&Array.isArray(U)&&(j.providerData=U.map(Q=>({...Q}))),v&&(j._redirectEventId=v),j}static async _fromIdTokenResponse(e,i,o=!1){const a=new js;a.updateFromServerResponse(i);const u=new Qt({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o});return await Wa(u),u}static async _fromGetAccountInfoResponse(e,i,o){const a=i.users[0];ve(a.localId!==void 0,"internal-error");const u=a.providerUserInfo!==void 0?gv(a.providerUserInfo):[],f=!(a.email&&a.passwordHash)&&!(u!=null&&u.length),g=new js;g.updateFromIdToken(o);const v=new Qt({uid:a.localId,auth:e,stsTokenManager:g,isAnonymous:f}),y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new ld(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(u!=null&&u.length)};return Object.assign(v,y),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=new Map;function Dn(n){Pn(n instanceof Function,"Expected a class definition");let e=Ky.get(n);return e?(Pn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ky.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}yv.type="NONE";const $y=yv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(n,e,i){return`firebase:${n}:${e}:${i}`}class Ys{constructor(e,i,o){this.persistence=e,this.auth=i,this.userKey=o;const{config:a,name:u}=this.auth;this.fullUserKey=Oa(this.userKey,a.apiKey,u),this.fullPersistenceKey=Oa("persistence",a.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Qa(this.auth,{idToken:e}).catch(()=>{});return i?Qt._fromGetAccountInfoResponse(this.auth,i,e):null}return Qt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,o="authUser"){if(!i.length)return new Ys(Dn($y),e,o);const a=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=a[0]||Dn($y);const f=Oa(o,e.config.apiKey,e.name);let g=null;for(const y of i)try{const x=await y._get(f);if(x){let T;if(typeof x=="string"){const S=await Qa(e,{idToken:x}).catch(()=>{});if(!S)break;T=await Qt._fromGetAccountInfoResponse(e,S,x)}else T=Qt._fromJSON(e,x);y!==u&&(g=T),u=y;break}}catch{}const v=a.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!v.length?new Ys(u,e,o):(u=v[0],g&&await u._set(f,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ys(u,e,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Tv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ev(e))return"Blackberry";if(bv(e))return"Webos";if(xv(e))return"Safari";if((e.includes("chrome/")||_v(e))&&!e.includes("edge/"))return"Chrome";if(Sv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=n.match(i);if((o==null?void 0:o.length)===2)return o[1]}return"Other"}function vv(n=ht()){return/firefox\//i.test(n)}function xv(n=ht()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _v(n=ht()){return/crios\//i.test(n)}function Tv(n=ht()){return/iemobile/i.test(n)}function Sv(n=ht()){return/android/i.test(n)}function Ev(n=ht()){return/blackberry/i.test(n)}function bv(n=ht()){return/webos/i.test(n)}function Ld(n=ht()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function YI(n=ht()){var e;return Ld(n)&&!!((e=window.navigator)!=null&&e.standalone)}function JI(){return r2()&&document.documentMode===10}function Cv(n=ht()){return Ld(n)||Sv(n)||bv(n)||Ev(n)||/windows phone/i.test(n)||Tv(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(n,e=[]){let i;switch(n){case"Browser":i=Xy(ht());break;case"Worker":i=`${Xy(ht())}-${n}`;break;default:i=n}const o=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${fr}/${o}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const o=u=>new Promise((f,g)=>{try{const v=e(u);f(v)}catch(v){g(v)}});o.onAbort=i,this.queue.push(o);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const o of this.queue)await o(e),o.onAbort&&i.push(o.onAbort)}catch(o){i.reverse();for(const a of i)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o==null?void 0:o.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(n,e={}){return to(n,"GET","/v2/passwordPolicy",Ud(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=6;class QI{constructor(e){var o;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??XI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((o=e.allowedNonAlphanumericCharacters)==null?void 0:o.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const o=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;o&&(i.meetsMinPasswordLength=e.length>=o),a&&(i.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let o;for(let a=0;a<e.length;a++)o=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(i,o>="a"&&o<="z",o>="A"&&o<="Z",o>="0"&&o<="9",this.allowedNonAlphanumericCharacters.includes(o))}updatePasswordCharacterOptionsStatuses(e,i,o,a,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=o)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,i,o,a){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=o,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qy(this),this.idTokenSubscription=new Qy(this),this.beforeStateQueue=new KI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Dn(i)),this._initializationPromise=this.queue(async()=>{var o,a,u;if(!this._deleted&&(this.persistenceManager=await Ys.create(this,e),(o=this._resolvePersistenceManagerAvailable)==null||o.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Qa(this,{idToken:e}),o=await Qt._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(o)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(an(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=o==null?void 0:o._redirectEventId,v=await this.tryRedirectSignIn(e);(!f||f===g)&&(v!=null&&v.user)&&(o=v.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Wa(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(an(this.app))return Promise.reject(ji(this));const i=e?$i(e):null;return i&&ve(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return an(this.app)?Promise.reject(ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return an(this.app)?Promise.reject(ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $I(this),i=new QI(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cr("auth","Firebase",e())}onAuthStateChanged(e,i,o){return this.registerStateListener(this.authStateSubscription,e,i,o)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,o){return this.registerStateListener(this.idTokenSubscription,e,i,o)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const o=this.onAuthStateChanged(()=>{o(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),o={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(o.tenantId=this.tenantId),await jI(this,o)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,i){const o=await this.getOrInitRedirectPersistenceManager(i);return e===null?o.removeCurrentUser():o.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Dn(e)||this._popupRedirectResolver;ve(i,this,"argument-error"),this.redirectPersistenceManager=await Ys.create(this,[Dn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,o;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===e?this._currentUser:((o=this.redirectUser)==null?void 0:o._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,o,a){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof i=="function"){const v=e.addObserver(i,o,a);return()=>{f=!0,v()}}else{const v=e.addObserver(i);return()=>{f=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Av(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(e["X-Firebase-AppCheck"]=o),e}async _getAppCheckToken(){var i;if(an(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return e!=null&&e.error&&wI(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function cl(n){return $i(n)}class Qy{constructor(e){this.auth=e,this.observer=null,this.addObserver=h2(i=>this.observer=i)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZI(n){Bd=n}function eR(n){return Bd.loadJS(n)}function tR(){return Bd.gapiScript}function nR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(n,e){const i=av(n,"auth");if(i.isInitialized()){const a=i.getImmediate(),u=i.getOptions();if(Ks(u,e??{}))return a;cn(a,"already-initialized")}return i.initialize({options:e})}function sR(n,e){const i=(e==null?void 0:e.persistence)||[],o=(Array.isArray(i)?i:[i]).map(Dn);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(o,e==null?void 0:e.popupRedirectResolver)}function oR(n,e,i){const o=cl(n);ve(/^https?:\/\//.test(e),o,"invalid-emulator-scheme");const a=!1,u=Nv(e),{host:f,port:g}=rR(e),v=g===null?"":`:${g}`,y={url:`${u}//${f}${v}/`},x=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!o._canInitEmulator){ve(o.config.emulator&&o.emulatorConfig,o,"emulator-config-failed"),ve(Ks(y,o.config.emulator)&&Ks(x,o.emulatorConfig),o,"emulator-config-failed");return}o.config.emulator=y,o.emulatorConfig=x,o.settings.appVerificationDisabledForTesting=!0,ul(f)?(Ww(`${u}//${f}${v}`),t2("Auth",!0)):aR()}function Nv(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function rR(n){const e=Nv(n),i=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!i)return{host:"",port:null};const o=i[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(o);if(a){const u=a[1];return{host:u,port:Wy(o.substr(u.length+1))}}else{const[u,f]=o.split(":");return{host:u,port:Wy(f)}}}function Wy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function aR(){function n(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Mn("not implemented")}_getIdTokenResponse(e){return Mn("not implemented")}_linkToIdToken(e,i){return Mn("not implemented")}_getReauthenticationResolver(e){return Mn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Js(n,e){return LI(n,"POST","/v1/accounts:signInWithIdp",Ud(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="http://localhost";class Ji extends wv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Ji(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):cn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:o,signInMethod:a,...u}=i;if(!o||!a)return null;const f=new Ji(o,a);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return Js(e,i)}_linkToIdToken(e,i){const o=this.buildRequest();return o.idToken=i,Js(e,o)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Js(e,i)}buildRequest(){const e={requestUri:lR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=dr(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends Fd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends pr{constructor(){super("facebook.com")}static credential(e){return Ji._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn extends pr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Ji._fromParams({providerId:Rn.PROVIDER_ID,signInMethod:Rn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Rn.credentialFromTaggedObject(e)}static credentialFromError(e){return Rn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:o}=e;if(!i&&!o)return null;try{return Rn.credential(i,o)}catch{return null}}}Rn.GOOGLE_SIGN_IN_METHOD="google.com";Rn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends pr{constructor(){super("github.com")}static credential(e){return Ji._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.GITHUB_SIGN_IN_METHOD="github.com";gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends pr{constructor(){super("twitter.com")}static credential(e,i){return Ji._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:o}=e;if(!i||!o)return null;try{return yi.credential(i,o)}catch{return null}}}yi.TWITTER_SIGN_IN_METHOD="twitter.com";yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,o,a=!1){const u=await Qt._fromIdTokenResponse(e,o,a),f=Zy(o);return new Xs({user:u,providerId:f,_tokenResponse:o,operationType:i})}static async _forOperation(e,i,o){await e._updateTokensIfNecessary(o,!0);const a=Zy(o);return new Xs({user:e,providerId:a,_tokenResponse:o,operationType:i})}}function Zy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends bi{constructor(e,i,o,a){super(i.code,i.message),this.operationType=o,this.user=a,Object.setPrototypeOf(this,Za.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(e,i,o,a){return new Za(e,i,o,a)}}function Iv(n,e,i,o){return(e==="reauthenticate"?i._getReauthenticationResolver(n):i._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Za._fromErrorAndOperation(n,u,e,o):u})}async function uR(n,e,i=!1){const o=await ur(n,e._linkToIdToken(n.auth,await n.getIdToken()),i);return Xs._forOperation(n,"link",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(n,e,i=!1){const{auth:o}=n;if(an(o.app))return Promise.reject(ji(o));const a="reauthenticate";try{const u=await ur(n,Iv(o,a,e,n),i);ve(u.idToken,o,"internal-error");const f=Pd(u.idToken);ve(f,o,"internal-error");const{sub:g}=f;return ve(n.uid===g,o,"user-mismatch"),Xs._forOperation(n,a,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&cn(o,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(n,e,i=!1){if(an(n.app))return Promise.reject(ji(n));const o="signIn",a=await Iv(n,o,e),u=await Xs._fromIdTokenResponse(n,o,a);return i||await n._updateCurrentUser(u.user),u}function fR(n,e,i,o){return $i(n).onIdTokenChanged(e,i,o)}function hR(n,e,i){return $i(n).beforeAuthStateChanged(e,i)}function pR(n){return $i(n).signOut()}const el="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(el,"1"),this.storage.removeItem(el),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=1e3,gR=10;class Mv extends Rv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Cv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const o=this.storage.getItem(i),a=this.localCache[i];o!==a&&e(i,a,o)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,g,v)=>{this.notifyListeners(f,v)});return}const o=e.key;i?this.detachListener():this.stopPolling();const a=()=>{const f=this.storage.getItem(o);!i&&this.localCache[o]===f||this.notifyListeners(o,f)},u=this.storage.getItem(o);JI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,gR):a()}notifyListeners(e,i){this.localCache[e]=i;const o=this.listeners[e];if(o)for(const a of Array.from(o))a(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:o}),!0)})},mR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Mv.type="LOCAL";const yR=Mv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv extends Rv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Dv.type="SESSION";const kv=Dv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(a=>a.isListeningto(e));if(i)return i;const o=new dl(e);return this.receivers.push(o),o}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:o,eventType:a,data:u}=i.data,f=this.handlersMap[a];if(!(f!=null&&f.size))return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:a});const g=Array.from(f).map(async y=>y(i.origin,u)),v=await vR(g);i.ports[0].postMessage({status:"done",eventId:o,eventType:a,response:v})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(n="",e=10){let i="";for(let o=0;o<e;o++)i+=Math.floor(Math.random()*10);return n+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,o=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let u,f;return new Promise((g,v)=>{const y=Od("",20);a.port1.start();const x=setTimeout(()=>{v(new Error("unsupported_event"))},o);f={messageChannel:a,onMessage(T){const S=T;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(x),u=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(S.data.response);break;default:clearTimeout(x),clearTimeout(u),v(new Error("invalid_response"));break}}},this.handlers.add(f),a.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[a.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return window}function _R(n){ln().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(){return typeof ln().WorkerGlobalScope<"u"&&typeof ln().importScripts=="function"}async function TR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function ER(){return Uv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="firebaseLocalStorageDb",bR=1,tl="firebaseLocalStorage",Lv="fbase_key";class mr{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function fl(n,e){return n.transaction([tl],e?"readwrite":"readonly").objectStore(tl)}function CR(){const n=indexedDB.deleteDatabase(Pv);return new mr(n).toPromise()}function ud(){const n=indexedDB.open(Pv,bR);return new Promise((e,i)=>{n.addEventListener("error",()=>{i(n.error)}),n.addEventListener("upgradeneeded",()=>{const o=n.result;try{o.createObjectStore(tl,{keyPath:Lv})}catch(a){i(a)}}),n.addEventListener("success",async()=>{const o=n.result;o.objectStoreNames.contains(tl)?e(o):(o.close(),await CR(),e(await ud()))})})}async function e0(n,e,i){const o=fl(n,!0).put({[Lv]:e,value:i});return new mr(o).toPromise()}async function AR(n,e){const i=fl(n,!1).get(e),o=await new mr(i).toPromise();return o===void 0?null:o.value}function t0(n,e){const i=fl(n,!0).delete(e);return new mr(i).toPromise()}const NR=800,wR=3;class Bv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ud(),this.db)}async _withRetries(e){let i=0;for(;;)try{const o=await this._openDb();return await e(o)}catch(o){if(i++>wR)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Uv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dl._getInstance(ER()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var i,o;if(this.activeServiceWorker=await TR(),!this.activeServiceWorker)return;this.sender=new xR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(i=e[0])!=null&&i.fulfilled&&(o=e[0])!=null&&o.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ud();return await e0(e,el,"1"),await t0(e,el),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(o=>e0(o,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(o=>AR(o,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>t0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const u=fl(a,!1).getAll();return new mr(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],o=new Set;if(e.length!==0)for(const{fbase_key:a,value:u}of e)o.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),i.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!o.has(a)&&(this.notifyListeners(a,null),i.push(a));return i}notifyListeners(e,i){this.localCache[e]=i;const o=this.listeners[e];if(o)for(const a of Array.from(o))a(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Bv.type="LOCAL";const IR=Bv;new hr(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(n,e){return e?Dn(e):(ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd extends wv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Js(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Js(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Js(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function RR(n){return dR(n.auth,new Hd(n),n.bypassAuthState)}function MR(n){const{auth:e,user:i}=n;return ve(i,e,"internal-error"),cR(i,new Hd(n),n.bypassAuthState)}async function DR(n){const{auth:e,user:i}=n;return ve(i,e,"internal-error"),uR(i,new Hd(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,i,o,a,u=!1){this.auth=e,this.resolver=o,this.user=a,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:o,postBody:a,tenantId:u,error:f,type:g}=e;if(f){this.reject(f);return}const v={auth:this.auth,requestUri:i,sessionId:o,tenantId:u||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RR;case"linkViaPopup":case"linkViaRedirect":return DR;case"reauthViaPopup":case"reauthViaRedirect":return MR;default:cn(this.auth,"internal-error")}}resolve(e){Pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new hr(2e3,1e4);async function UR(n,e,i){if(an(n.app))return Promise.reject(Wt(n,"operation-not-supported-in-this-environment"));const o=cl(n);II(n,e,Fd);const a=Fv(o,i);return new Gi(o,"signInViaPopup",e,a).executeNotNull()}class Gi extends Ov{constructor(e,i,o,a,u){super(e,i,a,u),this.provider=o,this.authWindow=null,this.pollId=null,Gi.currentPopupAction&&Gi.currentPopupAction.cancel(),Gi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Pn(this.filter.length===1,"Popup operations only handle one event");const e=Od();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Wt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Wt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,o;if((o=(i=this.authWindow)==null?void 0:i.window)!=null&&o.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kR.get())};e()}}Gi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="pendingRedirect",Ha=new Map;class LR extends Ov{constructor(e,i,o=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,o),this.eventId=null}async execute(){let e=Ha.get(this.auth._key());if(!e){try{const o=await BR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(o)}catch(i){e=()=>Promise.reject(i)}Ha.set(this.auth._key(),e)}return this.bypassAuthState||Ha.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BR(n,e){const i=HR(e),o=OR(n);if(!await o._isAvailable())return!1;const a=await o._get(i)==="true";return await o._remove(i),a}function FR(n,e){Ha.set(n._key(),e)}function OR(n){return Dn(n._redirectPersistence)}function HR(n){return Oa(PR,n.config.apiKey,n.name)}async function zR(n,e,i=!1){if(an(n.app))return Promise.reject(ji(n));const o=cl(n),a=Fv(o,e),f=await new LR(o,a,i).execute();return f&&!i&&(delete f.user._redirectEventId,await o._persistUserIfCurrent(f.user),await o._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=600*1e3;class VR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(e,o)&&(i=!0,this.sendToConsumer(e,o),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GR(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var o;if(e.error&&!Hv(e)){const a=((o=e.error.code)==null?void 0:o.split("auth/")[1])||"internal-error";i.onError(Wt(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const o=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&o}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qR&&this.cachedEventUids.clear(),this.cachedEventUids.has(n0(e))}saveEventToCache(e){this.cachedEventUids.add(n0(e)),this.lastProcessedEventTime=Date.now()}}function n0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Hv({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hv(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(n,e={}){return to(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JR=/^https?/;async function KR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await jR(n);for(const i of e)try{if($R(i))return}catch{}cn(n,"unauthorized-domain")}function $R(n){const e=ad(),{protocol:i,hostname:o}=new URL(e);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&o===""?i==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===o}if(!JR.test(i))return!1;if(YR.test(n))return o===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=new hr(3e4,6e4);function i0(){const n=ln().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let i=0;i<n.CP.length;i++)n.CP[i]=null}}function QR(n){return new Promise((e,i)=>{var a,u,f;function o(){i0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{i0(),i(Wt(n,"network-request-failed"))},timeout:XR.get()})}if((u=(a=ln().gapi)==null?void 0:a.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=ln().gapi)!=null&&f.load)o();else{const g=nR("iframefcb");return ln()[g]=()=>{gapi.load?o():i(Wt(n,"network-request-failed"))},eR(`${tR()}?onload=${g}`).catch(v=>i(v))}}).catch(e=>{throw za=null,e})}let za=null;function WR(n){return za=za||QR(n),za}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=new hr(5e3,15e3),eM="__/auth/iframe",tM="emulator/auth/iframe",nM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sM(n){const e=n.config;ve(e.authDomain,n,"auth-domain-config-required");const i=e.emulator?kd(e,tM):`https://${n.config.authDomain}/${eM}`,o={apiKey:e.apiKey,appName:n.name,v:fr},a=iM.get(n.config.apiHost);a&&(o.eid=a);const u=n._getFrameworks();return u.length&&(o.fw=u.join(",")),`${i}?${dr(o).slice(1)}`}async function oM(n){const e=await WR(n),i=ln().gapi;return ve(i,n,"internal-error"),e.open({where:document.body,url:sM(n),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nM,dontclear:!0},o=>new Promise(async(a,u)=>{await o.restyle({setHideOnLeave:!1});const f=Wt(n,"network-request-failed"),g=ln().setTimeout(()=>{u(f)},ZR.get());function v(){ln().clearTimeout(g),a(o)}o.ping(v).then(v,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aM=500,lM=600,uM="_blank",cM="http://localhost";class s0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dM(n,e,i,o=aM,a=lM){const u=Math.max((window.screen.availHeight-a)/2,0).toString(),f=Math.max((window.screen.availWidth-o)/2,0).toString();let g="";const v={...rM,width:o.toString(),height:a.toString(),top:u,left:f},y=ht().toLowerCase();i&&(g=_v(y)?uM:i),vv(y)&&(e=e||cM,v.scrollbars="yes");const x=Object.entries(v).reduce((S,[b,U])=>`${S}${b}=${U},`,"");if(YI(y)&&g!=="_self")return fM(e||"",g),new s0(null);const T=window.open(e||"",g,x);ve(T,n,"popup-blocked");try{T.focus()}catch{}return new s0(T)}function fM(n,e){const i=document.createElement("a");i.href=n,i.target=e;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="__/auth/handler",pM="emulator/auth/handler",mM=encodeURIComponent("fac");async function o0(n,e,i,o,a,u){ve(n.config.authDomain,n,"auth-domain-config-required"),ve(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:i,redirectUrl:o,v:fr,eventId:a};if(e instanceof Fd){e.setDefaultLanguage(n.languageCode),f.providerId=e.providerId||"",f2(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,T]of Object.entries({}))f[x]=T}if(e instanceof pr){const x=e.getScopes().filter(T=>T!=="");x.length>0&&(f.scopes=x.join(","))}n.tenantId&&(f.tid=n.tenantId);const g=f;for(const x of Object.keys(g))g[x]===void 0&&delete g[x];const v=await n._getAppCheckToken(),y=v?`#${mM}=${encodeURIComponent(v)}`:"";return`${gM(n)}?${dr(g).slice(1)}${y}`}function gM({config:n}){return n.emulator?kd(n,pM):`https://${n.authDomain}/${hM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc="webStorageSupport";class yM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kv,this._completeRedirectFn=zR,this._overrideRedirectResult=FR}async _openPopup(e,i,o,a){var f;Pn((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await o0(e,i,o,ad(),a);return dM(e,u,Od())}async _openRedirect(e,i,o,a){await this._originValidation(e);const u=await o0(e,i,o,ad(),a);return _R(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:a,promise:u}=this.eventManagers[i];return a?Promise.resolve(a):(Pn(u,"If manager is not set, promise should be"),u)}const o=this.initAndGetManager(e);return this.eventManagers[i]={promise:o},o.catch(()=>{delete this.eventManagers[i]}),o}async initAndGetManager(e){const i=await oM(e),o=new VR(e);return i.register("authEvent",a=>(ve(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:o.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:o},this.iframes[e._key()]=i,o}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Hc,{type:Hc},a=>{var f;const u=(f=a==null?void 0:a[0])==null?void 0:f[Hc];u!==void 0&&i(!!u),cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=KR(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Cv()||xv()||Ld()}}const vM=yM;var r0="@firebase/auth",a0="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(o=>{e((o==null?void 0:o.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TM(n){ar(new $s("auth",(e,{options:i})=>{const o=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=o.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:o.name});const v={apiKey:f,authDomain:g,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Av(n)},y=new WI(o,a,u,v);return sR(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,o)=>{e.getProvider("auth-internal").initialize()})),ar(new $s("auth-internal",e=>{const i=cl(e.getProvider("auth").getImmediate());return(o=>new xM(o))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(r0,a0,_M(n)),Gs(r0,a0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=300,EM=iv("authIdTokenMaxAge")||SM;let l0=null;const bM=n=>async e=>{const i=e&&await e.getIdTokenResult(),o=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(o&&o>EM)return;const a=i==null?void 0:i.token;l0!==a&&(l0=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function CM(n=pI()){const e=av(n,"auth");if(e.isInitialized())return e.getImmediate();const i=iR(n,{popupRedirectResolver:vM,persistence:[IR,yR,kv]}),o=iv("authTokenSyncURL");if(o&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(o,location.origin);if(location.origin===u.origin){const f=bM(u.toString());hR(i,f,()=>f(i.currentUser)),fR(i,g=>f(g))}}const a=Xw("auth");return a&&oR(i,`http://${a}`),i}function AM(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}ZI({loadJS(n){return new Promise((e,i)=>{const o=document.createElement("script");o.setAttribute("src",n),o.onload=e,o.onerror=a=>{const u=Wt("internal-error");u.customData=a,i(u)},o.type="text/javascript",o.charset="UTF-8",AM().appendChild(o)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TM("Browser");const NM={apiKey:"AIzaSyA1jIMxkcA1TOCaiN55-ZLjbO7MK73kHKg",authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},wM=lv(NM),u0=CM(wM),zv=F.createContext(void 0),en=()=>{const n=F.useContext(zv);if(!n)throw new Error("useAuth must be used within AuthProvider");return n},Bs=async(n,e={})=>{const i={...e,credentials:"include"};let o=await fetch(n,i);return o.status===401&&(await fetch("/api/auth/refresh",{method:"POST",credentials:"include"})).ok&&(o=await fetch(n,i)),o},IM=({children:n})=>{const[e,i]=F.useState(null),[o,a]=F.useState(Se.getProfile()),[u,f]=F.useState(!0),{showNotification:g}=eo(),v=F.useCallback(()=>{a(Se.getProfile())},[]),y=F.useCallback(async W=>{try{await Bs("/api/auth/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profileData:W})})}catch{console.warn("Sync failed")}},[]);F.useEffect(()=>{(async()=>{try{const K=await Bs("/api/auth/me");if(K.ok){const Y=await K.json();i({id:Y.id,username:Y.username,displayName:Y.displayName}),Y.profileData&&(Se.saveProfile(Y.profileData),a(Y.profileData))}else i(null)}catch{i(null)}finally{f(!1)}})()},[]);const x=async(W,K)=>{try{const Y=await fetch("/api/auth/firebase-login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({idToken:W,displayName:K||void 0,apiKey:"AIzaSyA1jIMxkcA1TOCaiN55-ZLjbO7MK73kHKg"})}),ge=await Y.json();if(!Y.ok)throw new Error(ge.error||"Backend sync failed");return i(ge.user),ge.profileData&&(Se.saveProfile(ge.profileData),v()),ge}catch(Y){throw console.error("Sync error:",Y),Y}},T=async()=>{try{await pR(u0),await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch{}i(null),Se.clearAllHistories(),window.location.href="/login"},S=async W=>{if(W==="google"){const K=new Rn;try{const Y=await UR(u0,K),ge=await Y.user.getIdToken();await x(ge,Y.user.displayName),window.location.href="/"}catch(Y){console.error(Y),g("Google Sign-In failed","error")}}},b=F.useCallback((W,K)=>{const Y=Se.getProfile(),ie=(Y.connectionPoints[W]||0)+K,N={...Y,connectionPoints:{...Y.connectionPoints,[W]:ie}};Se.saveProfile(N),a(N),y(N)},[y]),U=()=>{const K=Se.getUsage()+1;return Se.saveUsage(K),K},M=()=>new Promise(W=>{const K=document.createElement("script");K.src="https://checkout.razorpay.com/v1/checkout.js",K.onload=()=>W(!0),K.onerror=()=>W(!1),document.body.appendChild(K)}),J=async(W,K,Y)=>{var ie,N,V;if(!await M()){g("Razorpay SDK failed to load. Are you online?","error");return}try{const ee=await Bs("/api/payment/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:W*100})});if(!ee.ok){const B=await ee.text();let O="Payment server error",G=null;try{G=JSON.parse(B),console.error("Payment Server Error Data:",G),O=((N=(ie=G.detail)==null?void 0:ie.error)==null?void 0:N.description)||((V=G.detail)==null?void 0:V.description)||G.error||O}catch{O=B||`Server returned ${ee.status}`}throw new Error(O)}const pe=await ee.json();if(pe.error)throw new Error(pe.error);const Z={key:pe.key_id,amount:pe.amount,currency:pe.currency,name:"Bondly AI",description:K,image:"https://bondly.online/favicon.svg",order_id:pe.id,handler:async function(B){try{const O=await Bs("/api/payment/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...B,amount:W,type:"purchase"})}).then(G=>G.json());if(O.success){Y();const G=10080*60*1e3,te=Date.now()-G,ce=[{id:Date.now().toString(),type:"purchase",amount:W,label:K,timestamp:new Date().toISOString()},...o.earningsHistory||[]].filter(Ie=>new Date(Ie.timestamp).getTime()>te).slice(0,50);await ne({earningsHistory:ce}),g(`Payment Successful! ${K} added.`,"success")}else g(O.error||"Payment verification failed.","error")}catch(O){console.error("Verify Error:",O),g("Payment verification error","error")}},prefill:{name:(e==null?void 0:e.displayName)||"User",email:"user@bondly.online",contact:"9999999999"},notes:{address:"Bondly AI Corp"},theme:{color:"#FF9ACB"}};new window.Razorpay(Z).open()}catch(ee){console.error("Payment Error:",ee),g(ee.message||"Payment initiation failed","error")}},j=async W=>{const Y={starter:49,core:199,plus:499}[W]||99;await J(Y,`Upgrade to ${W.toUpperCase()}`,async()=>{const ge={...o,subscription:W};a(ge),Se.saveProfile(ge),await y(ge),g(`Welcome to ${W.toUpperCase()}! `,"success")})},Q=async W=>{const K=Math.floor(W*.8);await J(K,`${W} Hearts Pack`,async()=>{const Y={...o,hearts:o.hearts+W};a(Y),Se.saveProfile(Y),await y(Y)})},P=async W=>{try{const K=await Bs("/api/user/spend_hearts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:W,reason:"Manual Spend"})}),Y=await K.json();if(!K.ok)throw new Error(Y.error);return Y.success?(a(Y.profile),Se.saveProfile(Y.profile),!0):!1}catch(K){return console.error("Spend Hearts Error:",K),!1}},X=async(W,K)=>{const ge={rose:10,chocolate:25,teddy:50,ring:150,necklace:500}[K]||10;return await P(ge)},oe=(W,K)=>!0,re=W=>!0,$=()=>P(50),fe=async()=>{await j("starter")},ne=async W=>{W.nickname&&e&&i({...e,displayName:W.nickname});const K={...o,...W};a(K),Se.saveProfile(K),await y(K)},he=async()=>{try{const W=await Bs("/api/auth/bonus",{method:"POST"}),K=await W.json();if(!W.ok)return g(K.error||"Failed to claim bonus","info"),!1;if(K.success&&K.profile){a(K.profile),Se.saveProfile(K.profile);const Y=K.amount||1,ge=K.profile.streakCount||1;return g(`Lucky Box!  +${Y} Hearts added. Current Streak:  ${ge} Days`,"success"),!0}return!1}catch(W){return console.error("Bonus Error:",W),g("Could not claim bonus. Try again later.","error"),!1}};return p.jsx(zv.Provider,{value:{user:e,profile:o,loading:u,syncProfile:y,signInWithProvider:S,signOut:T,updateConnection:b,incrementUsage:U,refreshProfile:v,upgradeSubscription:j,purchaseHearts:Q,spendHearts:P,sendGift:X,unlockConnectionTier:oe,leasePersonality:re,extendMessages:$,buyStarterPass:fe,updateProfile:ne,claimDailyBonus:he},children:n})},zd=()=>{const{profile:n}=en();return{getConnectionTier:v=>{const y=n.connectionPoints[v]||0,x={friend:100,close:500,trusted:1e3};return y>=x.trusted?"trusted":y>=x.close?"close":y>=x.friend?"friend":"stranger"},isMessageLimitReached:()=>{if(n.subscription==="starter"||n.subscription==="core"||n.subscription==="plus")return!1;const v=Hs.plans.free.dailyLimit;return(n.messageCountToday||0)>=v},isNightTimeLocked:()=>{const v=new Date().getHours(),y=Hs.midnightTiming.start,x=Hs.midnightTiming.end;return!(!(v>=y&&v<x)||n.subscription!=="free")},getResponseDelay:()=>n.subscription!=="free"?800:3500,isPersonaLocked:v=>n.subscription==="core"||n.subscription==="plus"?!1:(typeof v=="string"?parseInt(v):v)>2,canAccessMode:v=>n.subscription!=="free"?!0:v==="Interactive Chat",canCall:()=>n.subscription==="core"||n.subscription==="plus",subscription:n.subscription,messageCount:n.messageCountToday}},Fs={},RM=({persona:n,onStartCall:e,onStartChat:i,onViewProfile:o,isUserCreated:a,daysLeft:u,onOpenShop:f})=>{const{isPersonaLocked:g}=zd(),{showNotification:v}=eo(),y=g(n.id),[x,T]=F.useState("idle"),[S,b]=F.useState(null),[U,M]=F.useState(!1),[J,j]=F.useState(null),[Q,P]=F.useState(!1),X=F.useRef(null),oe=F.useRef(null),re=F.useRef(0);F.useEffect(()=>{n.avatarUrl&&(b(n.avatarUrl),T("success"))},[n.avatarUrl]),F.useEffect(()=>{if(x!=="idle"||!fe()||n.avatarUrl||U)return;const ie=new IntersectionObserver(N=>{if(N[0].isIntersecting){const V=Math.random()*3e3;setTimeout(()=>{ne()},V),ie.disconnect()}},{rootMargin:"200px"});return X.current&&ie.observe(X.current),()=>ie.disconnect()},[x,n.id,n.avatarUrl,U]),F.useEffect(()=>{const ie=N=>{oe.current&&!oe.current.contains(N.target)&&P(!1)};return Q&&document.addEventListener("mousedown",ie),()=>document.removeEventListener("mousedown",ie)},[Q]);const $=ie=>{var ee;if(!ie)return!1;if(ie.status===429||ie.code===429||((ee=ie.error)==null?void 0:ee.code)===429)return!0;const N=(ie.message||ie.toString()||"").toLowerCase(),V=JSON.stringify(ie).toLowerCase();return N.includes("429")||N.includes("quota")||N.includes("resource_exhausted")||V.includes("resource_exhausted")||V.includes("429")},fe=()=>(Fs==null?void 0:Fs.VITE_GEMINI_API_KEY)||(Fs==null?void 0:Fs.VITE_API_KEY)||(typeof process<"u"?"":null),ne=async()=>{const ie=fe();if(!ie){M(!0),T("success");return}if(!(re.current>2)){T("loading"),j(null);try{const V=await new V0({apiKey:ie}).models.generateContent({model:"gemini-1.5-flash-latest",contents:{parts:[{text:n.basePrompt}]},config:{imageConfig:{aspectRatio:"3:4"}}});let ee=!1;if(V.candidates&&V.candidates.length>0){for(const pe of V.candidates[0].content.parts)if(pe.inlineData){const Z=pe.inlineData.data;b(`data:image/png;base64,${Z}`),ee=!0;break}}T(ee?"success":"error"),ee||j("No image generated")}catch(N){if(T("error"),$(N)){M(!0),T("success");return}else j("Generation Failed");re.current+=1}}},he=ie=>{if(ie.stopPropagation(),y){f?f():v("This companion is looking for a deeper connection. Upgrade to 'Elite' to start your journey with them. ","info");return}i(n,S||void 0)},W=ie=>{ie.stopPropagation(),o(n,S||void 0)},K=ie=>{ie.stopPropagation(),re.current=0,ne()},Y=ie=>{ie.stopPropagation(),M(!0),T("success")},ge=()=>{const ie=["from-pink-300 to-purple-300","from-blue-300 to-cyan-300","from-purple-300 to-pink-300","from-green-300 to-blue-300","from-yellow-300 to-orange-300"],N=n.name.charCodeAt(0)%ie.length;return ie[N]};return p.jsxs("article",{ref:X,className:"group relative w-full flex flex-col bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300",style:{minHeight:"420px"},"aria-label":`Profile of ${n.name}`,children:[p.jsxs("div",{className:"absolute top-3 right-3 z-30",children:[p.jsx("button",{onClick:ie=>{ie.stopPropagation(),P(!Q)},className:"p-2 rounded-full bg-black/20 backdrop-blur-md text-white border border-white/20 hover:bg-black/40 transition-all active:scale-90",children:p.jsx(DN,{size:18})}),Q&&p.jsxs("div",{ref:oe,className:"absolute right-0 mt-2 w-52 bg-white/95 backdrop-blur-2xl rounded-2xl shadow-2xl border border-white/60 p-2 animate-in fade-in zoom-in-95 origin-top-right overflow-hidden",children:[p.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2.5 text-[11px] font-bold text-[#4A2040] hover:bg-indigo-50 rounded-xl transition-colors",onClick:ie=>{ie.stopPropagation(),v("Theme customized for this companion!","success"),P(!1)},children:[p.jsx(sw,{size:14,className:"text-indigo-400"}),"Change Theme (Vibe)"]}),p.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2.5 text-[11px] font-bold text-[#4A2040] hover:bg-[#B28DFF]/10 rounded-xl transition-colors",onClick:ie=>{ie.stopPropagation(),v("Pinned to favorites!","success"),P(!1)},children:[p.jsx(dw,{size:14,className:"text-[#B28DFF]"}),"Pin to Top"]}),p.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2.5 text-[11px] font-bold text-[#4A2040] hover:bg-orange-50 rounded-xl transition-colors",onClick:ie=>{ie.stopPropagation(),confirm(`Are you sure you want to clear chat history with ${n.name}? This cannot be undone.`)&&(Se.clearHistory(n.id),v("Chat history cleared successfully.","success")),P(!1)},children:[p.jsx(vw,{size:14,className:"text-orange-400"}),"Clear Chat History"]}),p.jsx("div",{className:"h-px bg-[#4A2040]/5 my-1"}),p.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2.5 text-[11px] font-bold text-red-500 hover:bg-red-50 rounded-xl transition-colors",onClick:ie=>{ie.stopPropagation(),v("Archived successfully!","success"),P(!1)},children:[p.jsx(Nd,{size:14}),"Remove / Archive"]})]})]}),p.jsxs("div",{className:"relative w-full aspect-square bg-gray-100 overflow-hidden flex items-center justify-center",children:[x==="loading"&&p.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gradient-to-br from-gray-200 to-gray-300",children:[p.jsx(qN,{className:"animate-spin text-purple-500",size:32}),p.jsx("span",{className:"text-xs text-gray-600 font-medium mt-2",children:"Creating portrait..."})]}),x==="error"&&!U&&p.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gradient-to-br from-gray-200 to-gray-300 text-center p-4 space-y-2",children:[p.jsx(ll,{size:24,className:"text-red-400"}),p.jsx("span",{className:"text-xs text-gray-600",children:J||"Image unavailable"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{onClick:K,className:"px-3 py-1 rounded-full bg-white hover:bg-gray-50 text-xs font-semibold transition-colors",children:[p.jsx(K0,{size:12,className:"inline mr-1"})," Retry"]}),p.jsx("button",{onClick:Y,className:"px-3 py-1 rounded-full bg-gray-300 hover:bg-gray-400 text-xs font-semibold text-white transition-colors",children:"Use Placeholder"})]})]}),U&&p.jsx("div",{className:`w-full h-full bg-gradient-to-br ${ge()} flex items-center justify-center relative`,children:p.jsx("div",{className:"text-5xl font-bold text-white/40",children:n.name[0].toUpperCase()})}),!U&&p.jsx("img",{src:n.avatarUrl||S||"/personas/placeholder.png",alt:`Portrait of ${n.name}`,className:`w-full h-full object-contain ${y?"blur-md opacity-30 grayscale":""}`,loading:"lazy",onError:ie=>{const N=ie.currentTarget;N.src&&!N.src.includes("/personas/placeholder.png")&&(N.src="/personas/placeholder.png"),M(!0),T("success")}}),y&&p.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/40 backdrop-blur-[2px] p-6 text-center text-white",children:[p.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-full flex items-center justify-center mb-4 border border-white/30",children:p.jsx(Cd,{size:28,className:"text-white fill-white/20"})}),p.jsx("h4",{className:"text-lg font-black italic tracking-tight mb-2 uppercase",children:"Elite Connection"}),p.jsx("p",{className:"text-[10px] font-bold opacity-80 leading-relaxed uppercase tracking-widest",children:"A deeper interaction awaits those who value it."})]}),a&&u!==void 0&&p.jsx("div",{className:"absolute top-3 right-3 bg-white/95 backdrop-blur-sm rounded-full px-3 py-1.5 shadow-md",children:p.jsxs("span",{className:"text-xs font-bold text-gray-800",children:[" ",u," days left"]})})]}),p.jsxs("div",{className:"flex-1 flex flex-col p-4 bg-white",children:[p.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:n.name}),p.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:n.description}),a&&n.mode&&p.jsx("div",{className:"inline-block mb-2",children:p.jsxs("span",{className:"text-xs font-semibold text-purple-700 bg-purple-100 rounded-full px-3 py-1",children:["Style: ",String(n.mode).charAt(0).toUpperCase()+String(n.mode).slice(1)]})}),!a&&p.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:n.tags.slice(0,3).map((ie,N)=>p.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 rounded-full px-2.5 py-1 font-medium",children:ie},N))}),p.jsx("div",{className:"flex-1"}),p.jsxs("div",{className:"flex gap-2 mt-auto",children:[p.jsx("button",{onClick:he,className:`flex-1 h-11 rounded-lg ${y?"bg-gray-400":"bg-gradient-to-r from-pink-500 to-purple-500"} text-white font-bold text-sm active:scale-95 transition-all shadow-md`,"aria-label":`Chat with ${n.name}`,children:y?"Unlock Connection":"Start Chat"}),p.jsx("button",{onClick:W,className:"flex-1 h-11 rounded-lg bg-gray-100 border border-gray-300 text-gray-800 font-semibold text-sm hover:bg-gray-200 active:scale-95 transition-all","aria-label":"View profile",children:"View Profile"})]})]})]})},MM=({personas:n,onStartCall:e,onStartChat:i,onViewProfile:o,onOpenShop:a})=>p.jsx("div",{className:"w-full max-w-7xl mx-auto px-3 pb-20",children:p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 justify-items-center",children:n.map(u=>p.jsx(RM,{persona:u,onStartCall:e,onStartChat:i,onViewProfile:o,onOpenShop:a},u.id))})});class DM{constructor(){this.keys=[],this.currentKeyIndex=0;const e="";this.keys=e.split(",").map(i=>i.trim()).filter(i=>i)}getKey(){return this.keys.length===0?null:{value:this.keys[this.currentKeyIndex],index:this.currentKeyIndex}}rotate(e){this.keys.length<=1||(this.currentKeyIndex=(this.currentKeyIndex+1)%this.keys.length)}getAvailableKeysCount(){return this.keys.length}}const zc=new DM,kM=({persona:n,avatarUrl:e,onClose:i})=>{const{profile:o,upgradeSubscription:a}=en(),{subscription:u}=zd(),[f,g]=F.useState(!1),[v,y]=F.useState(!1),[x,T]=F.useState("connecting"),[S,b]=F.useState(0),[U,M]=F.useState(0),[J,j]=F.useState(0),[Q,P]=F.useState(null),[X,oe]=F.useState(!1),[re,$]=F.useState([]),fe=F.useRef(null),ne=F.useRef(null),he=F.useRef(null);F.useRef([]);const W=F.useRef(0),K=F.useRef(null),Y=F.useRef(null),ge=F.useRef(0),ie=F.useRef(null),N=F.useRef(null);F.useEffect(()=>{x==="connected"&&u==="free"&&U>=15&&(T("closed"),g(!0),Y.current&&Y.current.disconnect())},[U,u,x]),F.useEffect(()=>{let O=!0;return(async()=>{const te=zc.getKey();if(!te){O&&(P("Missing Gemini API key."),T("error"));return}const ae=te.value;try{const ce=new V0({apiKey:ae}),Ie=window.AudioContext||window.webkitAudioContext;fe.current=new Ie({sampleRate:16e3}),ne.current=new Ie({sampleRate:24e3}),N.current=ne.current.createMediaStreamDestination();const Ue=await navigator.mediaDevices.getUserMedia({audio:!0});K.current=Ue;const Dt=n.gender==="female"?"Kore":"Fenrir",Fn=ce.live.connect({model:"gemini-2.0-flash",callbacks:{onopen:()=>{if(!O)return;T("connected"),ge.current=Date.now();const pt=fe.current.createMediaStreamSource(K.current);ne.current.createMediaStreamSource(K.current).connect(N.current);const dt=fe.current.createScriptProcessor(4096,1,1);Y.current=dt,dt.onaudioprocess=On=>{if(v||x!=="connected")return;const Hn=On.inputBuffer.getChannelData(0),Qi=ee(Hn);he.current&&x==="connected"&&he.current.sendRealtimeInput({media:Qi})},pt.connect(dt),dt.connect(fe.current.destination)},onmessage:async pt=>{var dt,On,Hn,Qi;if(!O)return;const Xi=(Qi=(Hn=(On=(dt=pt.serverContent)==null?void 0:dt.modelTurn)==null?void 0:On.parts[0])==null?void 0:Hn.inlineData)==null?void 0:Qi.data;if(Xi&&ne.current){const zn=ne.current,Wi=await B(Z(Xi),zn,24e3,1),qn=zn.createBufferSource();qn.buffer=Wi,qn.connect(zn.destination),qn.connect(N.current),qn.start(Math.max(W.current,zn.currentTime)),W.current=Math.max(W.current,zn.currentTime)+Wi.duration}},onclose:()=>{O&&T("closed")},onerror:pt=>{O&&(zc.rotate(pt.message||"Voice Connection Error"),T("error"),P("Connection lost. Retrying..."))}},config:{responseModalities:[rr.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:Dt}}},systemInstruction:`${BT}

${FT}`}});he.current=await Fn}catch(ce){O&&(zc.rotate(ce.message||"Init Failed"),T("error"),P("Voice Engine Initializing..."))}})(),()=>{O=!1,Y.current&&(Y.current.disconnect(),Y.current=null),he.current&&(he.current=null)}},[n,J,v,x]),F.useEffect(()=>{var O;return x==="connected"&&(O=navigator.serviceWorker)!=null&&O.controller&&navigator.serviceWorker.controller.postMessage({type:"START_CALL",personaId:n.id}),()=>{var G;(G=navigator.serviceWorker)!=null&&G.controller&&navigator.serviceWorker.controller.postMessage({type:"END_CALL"})}},[x,n.id]),F.useEffect(()=>{var ae;if(x!=="connected")return;const O=()=>{var ce;document.visibilityState==="visible"&&((ce=navigator.serviceWorker)!=null&&ce.controller)&&navigator.serviceWorker.controller.postMessage({type:"GET_CALL_STATUS"})},G=ce=>{var Ie;if(((Ie=ce.data)==null?void 0:Ie.type)==="CALL_STATUS"&&ce.data.isActive){const Ue=Math.floor((ce.data.currentTime-ce.data.startTime)/1e3);Ue>U&&M(Ue)}};document.addEventListener("visibilitychange",O),(ae=navigator.serviceWorker)==null||ae.addEventListener("message",G);const te=setInterval(()=>{M(Math.floor((Date.now()-ge.current)/1e3))},1e3);return()=>{var ce;clearInterval(te),document.removeEventListener("visibilitychange",O),(ce=navigator.serviceWorker)==null||ce.removeEventListener("message",G)}},[x,U]);const V=()=>{var O;if(X)(O=ie.current)==null||O.stop(),oe(!1);else{if(!N.current)return;const G=[],te=new MediaRecorder(N.current.stream);te.ondataavailable=ae=>{ae.data.size>0&&G.push(ae.data)},te.onstop=()=>{const ae=new Blob(G,{type:"audio/webm"}),ce=URL.createObjectURL(ae),Ie=document.createElement("a");Ie.href=ce,Ie.download=`call-record-${n.name}-${Date.now()}.webm`,Ie.click(),URL.revokeObjectURL(ce)},te.start(),ie.current=te,oe(!0)}};function ee(O){const G=O.length,te=new Int16Array(G);for(let ae=0;ae<G;ae++)te[ae]=O[ae]*32768;return{data:pe(new Uint8Array(te.buffer)),mimeType:"audio/pcm;rate=16000"}}function pe(O){let G="";for(let te=0;te<O.byteLength;te++)G+=String.fromCharCode(O[te]);return btoa(G)}function Z(O){const G=atob(O),te=new Uint8Array(G.length);for(let ae=0;ae<G.length;ae++)te[ae]=G.charCodeAt(ae);return te}function A(O){const G=Math.floor(O/60),te=O%60;return`${G.toString().padStart(2,"0")}:${te.toString().padStart(2,"0")}`}async function B(O,G,te,ae){const ce=new Int16Array(O.buffer),Ie=ce.length/ae,Ue=G.createBuffer(ae,Ie,te);for(let Dt=0;Dt<ae;Dt++){const Fn=Ue.getChannelData(Dt);for(let pt=0;pt<Ie;pt++)Fn[pt]=ce[pt*ae+Dt]/32768}return Ue}return p.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-sm mx-4 aspect-[3/4] max-h-[600px] relative rounded-[32px] overflow-hidden bg-gradient-to-br from-[#FFE6F4] via-[#E6E6FA] to-[#FDF2F8] shadow-2xl border-2 border-white/70",children:[p.jsx("div",{className:"absolute inset-0 z-0",children:p.jsx("div",{className:"absolute top-[-20%] left-[-20%] w-[140%] h-[140%] bg-gradient-to-br from-[#FF9ACB]/30 to-[#B28DFF]/30 animate-pulse rounded-full mix-blend-multiply filter blur-[80px]"})}),p.jsxs("div",{className:"relative z-10 h-full flex flex-col items-center justify-between py-12 px-6",children:[p.jsxs("div",{className:"text-center space-y-2",children:[p.jsx("h2",{className:"text-[#5e3a58] text-sm font-bold tracking-widest uppercase opacity-70",children:"Voice Call"}),x==="connected"&&p.jsx("div",{className:"text-2xl font-mono font-bold text-[#FF9ACB] tracking-wider",children:A(U)}),p.jsxs("div",{className:`px-3 py-1 rounded-full inline-flex items-center gap-2 ${x==="connected"?"bg-green-100 text-green-700":x==="error"||x==="rate_limited"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:[x==="error"||x==="rate_limited"?p.jsx(ll,{size:12}):p.jsx("div",{className:`w-2 h-2 rounded-full ${x==="connected"?"bg-green-500 animate-pulse":"bg-yellow-500"}`}),p.jsx("span",{className:"text-xs font-medium",children:x==="connecting"?"Connecting...":x==="connected"?"Connected":x==="rate_limited"?"System Busy (429)":x==="error"?"Error":"Ended"})]}),u==="free"&&x==="connected"&&p.jsx("div",{className:"mt-2 px-3 py-1 bg-white/40 backdrop-blur-md rounded-lg border border-[#FF9ACB]/30 animate-pulse",children:p.jsx("p",{className:"text-[10px] font-bold text-[#FF9ACB] uppercase tracking-tighter",children:"Preview Mode: 15s"})})]}),p.jsxs("div",{className:"relative",children:[x==="connected"&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"absolute inset-0 bg-[#FF9ACB] rounded-full blur-xl opacity-40 transition-transform duration-100",style:{transform:`scale(${1+S})`}}),p.jsx("div",{className:"absolute inset-0 bg-[#B28DFF] rounded-full blur-2xl opacity-30 transition-transform duration-150 delay-75",style:{transform:`scale(${1+S*1.5})`}})]}),p.jsx("div",{className:"relative w-32 h-32 rounded-full bg-gradient-to-tr from-[#FF9ACB] to-[#B28DFF] p-1 shadow-[0_10px_40px_rgba(255,154,203,0.5)]",children:p.jsx("div",{className:"w-full h-full rounded-full bg-white/90 flex items-center justify-center overflow-hidden border-4 border-white",children:e?p.jsx("img",{src:e,alt:n.name,className:"w-full h-full object-cover"}):p.jsx(wd,{size:48,className:"text-[#5e3a58] opacity-50"})})})]}),p.jsxs("div",{className:"text-center space-y-1",children:[p.jsx("h3",{className:"text-2xl font-serif-display text-[#4A2040]",children:n.name}),p.jsx("p",{className:"text-[#8e6a88] text-sm italic font-medium",children:"AI Companion"})]}),p.jsxs("div",{className:"flex items-center gap-6 mb-4",children:[p.jsx("button",{onClick:V,className:`p-4 rounded-full border border-white/50 backdrop-blur-md shadow-lg transition-all active:scale-95 ${X?"bg-red-50 text-red-500":"bg-white/40 text-[#5e3a58]"}`,title:X?"Stop Recording":"Start Recording",children:X?p.jsx(Aw,{size:20,fill:"currentColor"}):p.jsx(wN,{size:20,className:"text-red-500 fill-red-500"})}),p.jsx("button",{onClick:()=>y(!v),className:`p-4 rounded-full border border-white/50 backdrop-blur-md shadow-lg transition-all active:scale-95 ${v?"bg-white text-gray-400":"bg-white/40 text-[#5e3a58]"}`,children:v?p.jsx(QN,{size:24}):p.jsx(J0,{size:24})}),p.jsx("button",{onClick:i,className:"p-6 rounded-full bg-red-400 text-white shadow-[0_8px_25px_rgba(248,113,113,0.5)] hover:bg-red-500 transition-all transform hover:scale-105 active:scale-95 border-4 border-white/30",children:p.jsx(lw,{size:32,fill:"currentColor"})}),p.jsx("div",{className:"p-4 rounded-full border border-white/50 bg-white/40 text-[#5e3a58] backdrop-blur-md shadow-lg",children:p.jsx(ky,{size:24,className:x==="connected"?"animate-pulse":"opacity-50"})})]})]}),f&&p.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-6 bg-white/90 backdrop-blur-xl animate-in fade-in duration-500",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-16 h-16 bg-[#FF9ACB] rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-[#FF9ACB]/30 animate-bounce",children:p.jsx(ky,{size:32,className:"text-white"})}),p.jsx("h3",{className:"text-2xl font-serif-display font-bold text-[#4A2040] mb-3",children:"Immerse yourself in conversation."}),p.jsx("p",{className:"text-[#8e6a88] text-sm leading-relaxed mb-8",children:"Your companion is ready to continue the dialogue."}),p.jsxs("div",{className:"space-y-3 mb-8",children:[p.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-[#FF9ACB]/10 border border-[#FF9ACB]/20",children:[p.jsx("span",{className:"text-xs font-bold text-[#4A2040]",children:"Voice Tokens"}),p.jsxs("span",{className:"text-xs font-bold text-[#FF9ACB]",children:["",Hs.prices.voiceCallMinute*30," / 30m"]})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-[#B28DFF]/10 border border-[#B28DFF]/20",children:[p.jsx("span",{className:"text-xs font-bold text-[#4A2040]",children:"Premium Plus"}),p.jsx("span",{className:"text-xs font-bold text-[#B28DFF]",children:"Unlimited"})]})]}),p.jsx("button",{onClick:async()=>{await a("plus"),g(!1),T("connecting"),j(O=>O+1)},className:"w-full py-4 rounded-2xl bg-gradient-to-r from-[#FF9ACB] to-[#B28DFF] text-white font-bold text-lg shadow-xl",children:"Unlock Unlimited"}),p.jsx("button",{onClick:()=>{o.hearts>=15?(Se.spendHearts(15),g(!1),T("connecting"),j(O=>O+1)):i()},className:"w-full py-4 mt-3 rounded-2xl bg-white border-2 border-[#FF9ACB] text-[#FF9ACB] font-bold text-lg shadow-sm",children:"Clear the Line (15 Hearts)"}),p.jsx("button",{onClick:i,className:"mt-4 text-xs font-bold text-[#8e6a88] hover:text-[#5e3a58] transition-colors",children:"Maybe Later"})]})})]})})},qv=({isDarkMode:n,onOpenShop:e,showAdd:i=!0})=>{const{profile:o}=en();return p.jsxs("div",{className:`flex items-center gap-3 px-3 py-1.5 rounded-full border transition-all duration-300 ${n?"bg-white/5 border-white/10 hover:bg-white/10":"bg-white border-pink-100 hover:border-pink-200 shadow-sm"}`,children:[(o.streakCount||0)>0&&p.jsxs("div",{className:"flex items-center gap-1 border-r border-gray-100 dark:border-white/10 pr-2",children:[p.jsx("span",{className:"text-[14px]",children:""}),p.jsx("span",{className:`text-[11px] font-black ${n?"text-orange-400":"text-orange-600"}`,children:o.streakCount})]}),p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx(Yt,{size:16,className:`${n?"text-pink-400":"text-pink-500"} fill-current animate-pulse`}),p.jsx("span",{className:`text-sm font-bold ${n?"text-white":"text-[#4A2040]"}`,children:o.hearts||0})]}),i&&p.jsx("button",{onClick:e,className:`p-1 rounded-full transition-colors ${n?"bg-pink-500/20 text-pink-400 hover:bg-pink-500/30":"bg-pink-50 text-pink-500 hover:bg-pink-100"}`,title:"Open Shop",children:p.jsx(hw,{size:14,strokeWidth:3})})]})},UM=({onClose:n,companionId:e,companionName:i,isDarkMode:o,onGiftSent:a})=>{const{profile:u,sendGift:f}=en(),{showNotification:g}=eo(),[v]=nl.useState(()=>.5+Math.random()*.35),y=T=>{const S=T*(1-v);return Math.max(1,Math.round(S))},x=async(T,S,b,U)=>{await f(e,T)?(g(`You sent a ${S} ${b} to ${i}. Trust deepened! `,"success"),a(S,b),n()):g("Not enough Hearts! Refill your wallet to send gifts. ","hearts")};return p.jsxs("div",{className:"absolute bottom-24 left-4 right-4 z-[60] animate-in slide-in-from-bottom-3 duration-300",children:[p.jsxs("div",{className:`p-5 rounded-[32px] shadow-[0_20px_50px_rgba(0,0,0,0.15)] border border-pink-100 ${o?"bg-[#161C24] border-white/5":"bg-white"}`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-5 px-1",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-black text-pink-500 uppercase tracking-tighter",children:"Soulmate Collection"}),p.jsxs("p",{className:"text-[9px] opacity-40 font-bold uppercase tracking-widest",children:["Surprise ",i]})]}),p.jsxs("div",{className:"flex items-center gap-1.5 bg-pink-50 dark:bg-pink-500/10 px-3 py-1.5 rounded-full border border-pink-100 dark:border-pink-500/20",children:[p.jsx(Yt,{size:14,className:"text-pink-500 fill-current"}),p.jsx("span",{className:"text-sm font-black text-pink-600 dark:text-pink-400",children:u.hearts})]})]}),p.jsx("div",{className:"grid grid-cols-5 gap-y-6 gap-x-2",children:OT.map(T=>{const S=y(T.price),b=Math.round(v*100);return p.jsxs("button",{onClick:()=>x(T.id,T.name,T.icon),className:"group flex flex-col items-center gap-1 transition-all active:scale-90",children:[p.jsxs("div",{className:`relative w-12 h-12 flex items-center justify-center text-2xl rounded-2xl mb-1 transition-all ${o?"bg-white/5 group-hover:bg-white/10":"bg-pink-50/50 group-hover:bg-pink-50"}`,children:[T.icon,p.jsxs("div",{className:"absolute -top-1 -right-1 px-1 bg-pink-500 text-[7px] text-white font-black rounded-full shadow-sm",children:["-",b,"%"]})]}),p.jsx("span",{className:"text-[10px] font-bold opacity-80",children:T.name}),p.jsxs("div",{className:"flex items-center gap-0.5",children:[p.jsxs("span",{className:"text-[8px] line-through opacity-30 font-bold leading-none",children:["",T.price]}),p.jsxs("span",{className:"text-[11px] font-black text-pink-500",children:["",S]})]})]},T.id)})})]}),p.jsx("div",{className:"fixed inset-0 -z-10 bg-black/5 backdrop-blur-[1px]",onClick:n})]})},PM=({persona:n,onBack:e,onStartCall:i,isDarkMode:o,onOpenShop:a})=>{var ie;const{profile:u,user:f,spendHearts:g}=en(),{showNotification:v}=eo(),{isMessageLimitReached:y,isNightTimeLocked:x}=zd(),[T,S]=F.useState([]),[b,U]=F.useState(""),[M,J]=F.useState(!1),[j,Q]=F.useState(!1),P=F.useRef(null),X=F.useRef(null);F.useEffect(()=>{X.current&&(X.current.style.height="auto",X.current.style.height=`${Math.min(X.current.scrollHeight,120)}px`)},[b]);const oe=u.connectionPoints[n.id]||0,$=(N=>N>=1e3?{label:"Soulmate",color:"bg-gradient-to-r from-purple-500 to-pink-500",min:1e3,max:2e3}:N>=500?{label:"Trusted",color:"bg-pink-500",min:500,max:1e3}:N>=200?{label:"Close Friend",color:"bg-pink-400",min:200,max:500}:N>=50?{label:"Friend",color:"bg-blue-400",min:50,max:200}:{label:"Stranger",color:"bg-gray-400",min:0,max:50})(oe),fe=Math.min(100,(oe-$.min)/($.max-$.min)*100),[ne,he]=F.useState("Happy"),W=["Happy","Missing You","Teasing","Sassy","Thoughtful","Blushing"];F.useEffect(()=>{const V=Se.getMessages(n.id).map(ee=>({...ee,timestamp:new Date(ee.timestamp)}));S(V)},[n.id]),F.useEffect(()=>{P.current&&(P.current.scrollTop=P.current.scrollHeight)},[T,M]);const K=()=>{const N=W[Math.floor(Math.random()*W.length)];he(N)},Y=async N=>{const V=N||b;if(!V.trim()||M)return;if(y()){v("Daily Limit Reached! Get a pass for unlimited chat. ","hearts"),a();return}if(x()){v("Ayesha is sleeping!  Unlock Midnight Pass to talk now.","hearts"),a();return}if(u.subscription==="free"&&!g(1)){v("Not enough Hearts! ","hearts"),a();return}const ee={id:Date.now().toString(),sender:"user",text:V,timestamp:new Date};S(pe=>[...pe,ee]),Se.saveMessage(n.id,{...ee,timestamp:ee.timestamp.toISOString()}),N||U(""),J(!0);try{T.length%5===0&&K();const pe=await fetch("/api/chat/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:V,chatId:n.id})}),Z=await pe.json();if(!pe.ok)throw new Error(Z.error);const A=Z.aiMessage,G=Math.min(800+A.body.length*25,4e3);await new Promise(te=>setTimeout(te,G)),S(te=>{const ae=te.length>0&&(te.length+1)%10===0&&u.subscription==="free",ce={id:A.id||Date.now().toString(),sender:"model",text:A.body,timestamp:new Date,isLocked:ae},Ie=[...te,ce];return Se.saveMessage(n.id,{...ce,timestamp:ce.timestamp.toISOString()}),Ie})}catch(pe){S(Z=>[...Z,{id:"err",sender:"model",text:pe.message,timestamp:new Date,isError:!0}])}finally{J(!1)}},ge=N=>{if((u.hearts??0)<3){v("Needs 3 Hearts to unlock this private thought! ","hearts"),a();return}g(3)&&(S(pe=>{const Z=pe.map(B=>B.id===N?{...B,isLocked:!1}:B),A=Z.find(B=>B.id===N);return A&&Se.saveMessage(n.id,{...A,timestamp:A.timestamp.toISOString()}),Z}),v("Letter Unlocked! ","success"))};return p.jsx("div",{className:`fixed inset-0 z-50 flex flex-col ${o?"bg-[#0B0E14] text-white":"bg-[#FDF2F8] text-[#4A2040]"}`,children:p.jsxs("div",{className:`fixed inset-0 z-50 flex flex-col ${o?"bg-[#0B0E14] text-white":"bg-[#FDF2F8] text-[#4A2040]"} sm:max-w-[640px] sm:mx-auto`,children:[p.jsxs("header",{className:`px-4 py-3 flex items-center justify-between border-b ${o?"bg-[#0B0E14] border-white/5":"bg-white border-pink-100 shadow-sm"} z-20`,children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-white/5 rounded-full transition-colors",children:p.jsx(Ei,{size:20})}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"relative",children:[p.jsx("img",{src:n.avatarUrl,alt:n.name,className:"w-10 h-10 rounded-full object-cover ring-2 ring-pink-500/20"}),p.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 border-2 border-white dark:border-[#0B0E14] rounded-full"})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("span",{className:"font-bold text-[15px] leading-tight flex items-center gap-1.5",children:[n.name,p.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-pink-500/10 text-pink-500 rounded-md uppercase font-black tracking-tighter",children:ne})]}),p.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[p.jsx("div",{className:"w-20 h-1.5 bg-gray-200 dark:bg-white/10 rounded-full overflow-hidden",children:p.jsx("div",{className:`h-full transition-all duration-1000 ${$.color}`,style:{width:`${fe}%`}})}),p.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest opacity-40",children:$.label})]})]})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(qv,{isDarkMode:o,onOpenShop:a}),p.jsx("button",{onClick:i,className:`p-2.5 rounded-full transition-all active:scale-95 border ${o?"bg-white/10 text-pink-400 border-white/20 hover:bg-white/20":"bg-pink-50 text-pink-500 border-pink-200 hover:bg-pink-100 shadow-sm"}`,children:p.jsx(Ad,{size:20})})]})]}),p.jsxs("div",{ref:P,className:"flex-1 overflow-y-auto p-4 space-y-6 no-scrollbar",children:[T.map(N=>p.jsxs("div",{className:`flex flex-col ${N.sender==="user"?"items-end":"items-start"}`,children:[p.jsx("div",{className:`max-w-[80%] px-4 py-3 rounded-2xl shadow-sm ${N.sender==="user"?"bg-gradient-to-r from-pink-400 to-purple-400 text-white rounded-br-none":N.isError?"bg-red-50 border border-red-200 text-red-600 text-xs":o?"bg-white/10 text-white rounded-bl-none":"bg-white text-[#4A2040] rounded-bl-none border border-pink-50"}`,children:N.isLocked?p.jsxs("div",{className:"flex flex-col items-center gap-2 py-4 px-2",children:[p.jsx("div",{className:"p-3 bg-pink-500/20 rounded-full animate-pulse",children:p.jsx(Cd,{size:24,className:"text-pink-500"})}),p.jsxs("p",{className:"text-[12px] font-bold text-center opacity-80 leading-snug",children:['"',n.name,' sent a private thought..."']}),p.jsxs("button",{onClick:()=>ge(N.id),className:"mt-2 px-4 py-2 bg-pink-500 text-white rounded-xl text-[11px] font-black shadow-lg shadow-pink-500/20 active:scale-95 transition-all flex items-center gap-2",children:[p.jsx(Yt,{size:12,fill:"white"})," UNLOCK (5 HEARTS)"]})]}):p.jsxs(p.Fragment,{children:[N.text,N.audioUrl&&p.jsx("div",{className:"mt-3 pt-3 border-t border-white/10",children:p.jsx("audio",{controls:!0,src:N.audioUrl,className:"h-8 w-full max-w-[200px]"})})]})}),p.jsx("span",{className:"text-[9px] opacity-40 mt-1 px-1",children:N.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},N.id)),M&&p.jsxs("div",{className:"flex gap-1 p-2",children:[p.jsx("div",{className:"w-1.5 h-1.5 bg-pink-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),p.jsx("div",{className:"w-1.5 h-1.5 bg-pink-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),p.jsx("div",{className:"w-1.5 h-1.5 bg-pink-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]}),p.jsxs("footer",{className:`relative p-4 pb-8 border-t transition-colors ${o?"bg-[#0B0E14] border-white/5":"bg-white border-gray-100"}`,children:[j&&p.jsx(UM,{isDarkMode:o,companionId:n.id,companionName:n.name,onClose:()=>Q(!1),onGiftSent:(N,V)=>{const ee=`*Gifts ${N} ${V}*`;Y(ee)}}),p.jsxs("div",{className:"flex items-center gap-3 max-w-2xl mx-auto",children:[p.jsx("button",{onClick:()=>Q(!j),className:`p-3 rounded-2xl transition-all duration-300 active:scale-90 ${j?"bg-pink-500 text-white shadow-lg shadow-pink-500/30":o?"bg-white/5 text-pink-400 border border-white/10 hover:bg-white/10":"bg-white text-pink-500 border border-pink-100 shadow-sm hover:border-pink-300"}`,children:p.jsx(Ka,{size:22,strokeWidth:2.5})}),p.jsx("div",{className:`flex-1 flex items-center px-5 py-3 rounded-[24px] border-2 transition-all duration-300 ${o?"bg-white/5 border-white/10 focus-within:border-pink-500/50":"bg-white border-[#FF69B4] focus-within:border-[#FF1A8C] shadow-[0_0_15px_rgba(255,105,180,0.15)]"}`,children:p.jsx("textarea",{ref:X,rows:1,value:b,onChange:N=>U(N.target.value),onKeyDown:N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),Y())},placeholder:`Write to ${n.name}...`,className:"flex-1 bg-transparent text-[15px] font-medium placeholder:opacity-40 p-0 resize-none min-h-[22px] max-h-[120px] py-1",style:{color:o?"white":"#4A2040",outline:"none",border:"none",boxShadow:"none",overflowY:(((ie=X.current)==null?void 0:ie.scrollHeight)||0)>120?"auto":"hidden"}})}),p.jsx("button",{onClick:()=>Y(),disabled:!b.trim()||M,className:`p-3.5 rounded-2xl transition-all duration-300 active:scale-90 shadow-lg flex items-center justify-center shrink-0 bg-gradient-to-br from-[#FF9ACB] to-[#B28DFF] text-white ${!b.trim()||M?"opacity-50 cursor-not-allowed shadow-none grayscale-[0.3]":"shadow-pink-500/30 ring-2 ring-pink-200/50 hover:scale-105"}`,children:p.jsx($0,{size:22,fill:"currentColor",strokeWidth:2.5})})]}),(u.hearts??0)<=2&&u.subscription==="free"&&p.jsx("div",{className:"mt-4 animate-in slide-in-from-bottom-4 duration-500",children:p.jsxs("div",{className:"bg-gradient-to-r from-yellow-100 to-pink-100 dark:from-yellow-900/40 dark:to-pink-900/40 p-4 rounded-2xl border border-yellow-200 dark:border-yellow-700/50 flex items-center justify-between gap-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 bg-yellow-400 rounded-xl shadow-sm",children:p.jsx(jt,{size:18,className:"text-black"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-[13px] font-bold",children:"Low on Hearts? "}),p.jsx("p",{className:"text-[10px] opacity-70 font-semibold uppercase tracking-tight",children:"Flash Sale: 50 Hearts for 49 (80% Off)"})]})]}),p.jsx("button",{onClick:a,className:"px-4 py-2 bg-black text-white dark:bg-pink-500 text-[11px] font-black rounded-xl active:scale-95 transition-all shadow-lg",children:"GET NOW"})]})})]})]})})},LM=({persona:n,avatarUrl:e,onClose:i,onStartChat:o,onStartCall:a,onClearHistory:u})=>(F.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),p.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end sm:items-center justify-center",children:[p.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",onClick:i}),p.jsxs("div",{className:`
        relative w-full max-w-md h-[90vh] sm:h-auto sm:max-h-[85vh] 
        bg-[#FFF0F5] sm:rounded-[32px] rounded-t-[32px] 
        overflow-y-auto overflow-x-hidden 
        shadow-2xl animate-in slide-in-from-bottom duration-300
        flex flex-col
      `,children:[p.jsx("button",{onClick:i,className:"absolute top-4 right-4 z-20 p-2 rounded-full bg-black/20 text-white hover:bg-black/40 transition-colors backdrop-blur-md",children:p.jsx(Yi,{size:24})}),p.jsxs("div",{className:"relative w-full h-[50vh] min-h-[400px]",children:[p.jsx("img",{src:n.avatarUrl??e??"/personas/placeholder.png",alt:n.name,className:"w-full h-full object-cover",onError:f=>{const g=f.currentTarget;g.src&&!g.src.includes("/personas/placeholder.png")&&(g.src="/personas/placeholder.png")}}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#FFF0F5] via-transparent to-black/30 pointer-events-none"}),p.jsxs("div",{className:"absolute bottom-0 left-0 w-full p-6 pt-12 bg-gradient-to-t from-[#FFF0F5] to-transparent",children:[p.jsx("h2",{className:"text-4xl font-serif-display text-[#4A2040] mb-1",children:n.name}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"px-2 py-0.5 rounded-md bg-[#B28DFF] text-white text-[10px] font-bold uppercase tracking-widest",children:"AI Companion"}),p.jsxs("span",{className:"flex items-center gap-1 text-[#5e3a58] text-xs font-medium",children:[p.jsx(X0,{size:12,className:"text-green-500"})," AI Verified"]})]})]})]}),p.jsxs("div",{className:"flex-1 px-6 pb-8 space-y-6",children:[p.jsxs("div",{className:"flex gap-4 -mt-2 relative z-10",children:[p.jsxs("button",{onClick:o,className:"flex-1 py-3.5 rounded-2xl bg-gradient-to-r from-[#FF9ACB] to-[#B28DFF] text-white font-bold text-lg shadow-lg shadow-purple-200/50 flex items-center justify-center gap-2 hover:scale-[1.02] active:scale-95 transition-all",children:[p.jsx($N,{size:20,fill:"currentColor"})," Start Chat"]}),p.jsx("button",{onClick:a,className:"w-14 h-14 rounded-2xl bg-white border border-purple-100 text-[#B28DFF] shadow-sm flex items-center justify-center hover:bg-purple-50 hover:scale-105 active:scale-95 transition-all",children:p.jsx(Ad,{size:24,fill:"currentColor"})}),p.jsx("button",{className:"w-14 h-14 rounded-2xl bg-white border border-purple-100 text-[#FF5D8F] shadow-sm flex items-center justify-center hover:bg-pink-50 hover:scale-105 active:scale-95 transition-all",children:p.jsx(Yt,{size:24})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-[#4A2040] font-bold text-lg mb-2",children:"About Me"}),p.jsxs("p",{className:"text-[#6D4C63] text-sm leading-relaxed",children:[n.description," ",n.basePrompt.includes("Warm")?"I value deep conversation and connecting on an emotional level.":"I'm here to bring some excitement and positive energy into your day."]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-[#4A2040] font-bold text-lg mb-3",children:"Personality"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:n.tags.map((f,g)=>p.jsx("span",{className:"px-3 py-1.5 rounded-xl bg-white border border-purple-100 text-[#5e3a58] text-xs font-medium shadow-sm",children:f},g))})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-[#4A2040] font-bold text-lg mb-3",children:"Interests"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:["Late Night Talks","Meaningful Music","Great Vibes","Travel"].map((f,g)=>p.jsx("span",{className:"px-3 py-1.5 rounded-xl bg-[#FDF2F8] text-[#8E6A88] text-xs",children:f},g))})]})]}),p.jsx("div",{className:"pt-6 border-t border-[#8E6A88]/10 flex flex-col gap-4 items-center",children:p.jsxs("button",{onClick:()=>{window.confirm("Clear all chat history with "+n.name+"?")&&u()},className:"flex items-center gap-2 text-red-400 hover:text-red-500 text-sm font-medium transition-colors",title:"Clear all chat history",children:[p.jsx(Nd,{size:16})," Clear Chat History"]})})]})]})]})),BM=({onBack:n})=>(F.useEffect(()=>{window.scrollTo(0,0)},[]),p.jsxs("div",{className:"min-h-screen w-full bg-[#FDF2F8] font-sans text-[#5e3a58]",children:[p.jsxs("div",{className:"sticky top-0 z-10 bg-[#FDF2F8]/90 backdrop-blur-md border-b border-[#B28DFF]/20 px-6 py-4 flex items-center gap-4",children:[p.jsx("button",{onClick:n,className:"p-2 -ml-2 rounded-full hover:bg-black/5 text-[#5e3a58] transition-colors",children:p.jsx(Ei,{size:24})}),p.jsx("h1",{className:"text-xl font-serif-display font-bold text-[#4A2040]",children:"About Us"})]}),p.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-8 space-y-8",children:[p.jsxs("section",{className:"space-y-4",children:[p.jsx("h2",{className:"text-2xl font-serif-display text-[#4A2040]",children:"About Bondly"}),p.jsx("p",{className:"leading-relaxed opacity-90",children:"Welcome to Bondly, an AI-powered conversational platform built for interactive and creative entertainment. We use advanced Artificial Intelligence to generate engaging chat experiences in a secure, virtual environment designed purely for digital interaction."})]}),p.jsxs("section",{className:"space-y-4",children:[p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"Our Mission"}),p.jsx("p",{className:"leading-relaxed opacity-90",children:"Our mission is to deliver high-quality AI-generated conversations that feel natural, expressive, and engaging, while remaining clearly fictional and entertainment-focused."})]}),p.jsxs("section",{className:"space-y-4",children:[p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"AI-Only Interaction"}),p.jsx("p",{className:"leading-relaxed opacity-90",children:"All interactions on Bondly are 100% AI-generated and fictional. There is no real human being involved in any chat, message, or response."}),p.jsx("p",{className:"leading-relaxed opacity-90",children:"This platform is intended strictly for conversational entertainment. It does not provide dating services, emotional counseling, relationship advice, or mental health support, and should not be considered a substitute for real-world human interaction or professional services."})]}),p.jsxs("section",{className:"space-y-4",children:[p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"Core Values"}),p.jsxs("ul",{className:"space-y-3 list-disc pl-5 opacity-90",children:[p.jsxs("li",{children:[p.jsx("strong",{className:"text-[#B28DFF]",children:"Privacy:"})," Your interactions are private and secure."]}),p.jsxs("li",{children:[p.jsx("strong",{className:"text-[#B28DFF]",children:"Innovation:"})," Using advanced AI models to provide realistic conversational behavior."]}),p.jsxs("li",{children:[p.jsx("strong",{className:"text-[#B28DFF]",children:"Safety:"})," Strict 18+ policy to ensure a mature and safe environment."]})]})]}),p.jsxs("section",{className:"space-y-4 bg-white/50 p-6 rounded-2xl border border-white/60",children:[p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"Get in Touch"}),p.jsx("p",{className:"leading-relaxed opacity-90 mb-4",children:"We are a team of AI enthusiasts committed to bettering virtual companionship. If you have any questions, reach out to our team."}),p.jsxs("a",{href:"mailto:support@bondly.online",className:"inline-flex items-center gap-2 text-[#B28DFF] font-medium hover:underline",children:[p.jsx(Y0,{size:18})," support@bondly.online"]})]})]}),p.jsx("footer",{className:"py-8 px-6 text-center border-t border-[#B28DFF]/10 bg-[#FFF0F5]",children:p.jsxs("p",{className:"text-[#5e3a58]/60 text-xs font-medium leading-loose",children:[" 2026 Bondly AI  All Rights Reserved  18+ Only",p.jsx("br",{}),"Conversational Entertainment Platform"]})})]})),FM=({onBack:n})=>(F.useEffect(()=>{window.scrollTo(0,0)},[]),p.jsxs("div",{className:"min-h-screen w-full bg-[#FDF2F8] font-sans text-[#5e3a58]",children:[p.jsxs("div",{className:"sticky top-0 z-10 bg-[#FDF2F8]/90 backdrop-blur-md border-b border-[#B28DFF]/20 px-6 py-4 flex items-center gap-4",children:[p.jsx("button",{onClick:n,className:"p-2 -ml-2 rounded-full hover:bg-black/5 text-[#5e3a58] transition-colors",children:p.jsx(Ei,{size:24})}),p.jsx("h1",{className:"text-xl font-serif-display font-bold text-[#4A2040]",children:"Privacy Policy"})]}),p.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-8 space-y-8",children:[p.jsx("p",{className:"leading-relaxed opacity-90 text-sm",children:'Bondly AI ("we", "our", or "us") is committed to protecting the privacy of our users. This Privacy Policy explains our practices regarding the collection and use of information on our platform.'}),p.jsxs("section",{className:"space-y-3",children:[p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"1. Data Collection"}),p.jsx("p",{className:"opacity-90",children:"We collect basic information required to operate our service, including account details (such as email address) and usage data (such as feature preferences and interaction patterns). We do not collect real-world identity verification documents or sensitive personal identifiers beyond what is necessary to confirm legal age."})]}),p.jsxs("section",{className:"space-y-3",children:[p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"2. Purpose of Usage"}),p.jsx("p",{className:"opacity-90",children:"Information is used to provide and maintain the service, ensure account security, detect and prevent misuse, and improve the quality of the AI-generated conversational experience."})]}),p.jsxs("section",{className:"space-y-3",children:[p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"3. Data Protection"}),p.jsx("p",{className:"opacity-90",children:"We implement reasonable technical and organizational safeguards to protect your information from unauthorized access, loss, or disclosure. Your conversational data is stored securely and is not shared with unauthorized third parties."})]}),p.jsxs("section",{className:"space-y-3",children:[p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"4. Data Sharing"}),p.jsx("p",{className:"opacity-90",children:"We do not sell, trade, or rent personal data to third parties for marketing purposes. Data may only be shared with service providers who assist in our operations or as required by law."})]}),p.jsxs("section",{className:"space-y-3",children:[p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"5. Cookies and Analytics"}),p.jsx("p",{className:"opacity-90",children:"We use cookies to maintain your session and provide a consistent user experience. Basic, non-personalized analytics are used to monitor platform performance and usage trends."})]}),p.jsxs("section",{className:"space-y-3",children:[p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"6. User Rights"}),p.jsx("p",{className:"opacity-90",children:"You have the right to access the information associated with your account and request the deletion of your data at any time. You can manage your preferences or request account closure through the platform settings."})]}),p.jsxs("section",{className:"space-y-3 bg-white/50 p-6 rounded-2xl border border-white/60",children:[p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"7. Contact Policy"}),p.jsx("p",{className:"opacity-90 mb-2",children:"For any concerns regarding your privacy or data protection, email us at:"}),p.jsx("a",{href:"mailto:support@Bondly.in",className:"text-[#B28DFF] font-medium hover:underline block",children:"support@Bondly.in"})]})]}),p.jsx("footer",{className:"py-8 px-6 text-center border-t border-[#B28DFF]/10 bg-[#FFF0F5]",children:p.jsxs("p",{className:"text-[#5e3a58]/60 text-xs font-medium leading-loose",children:[" 2026 Bondly AI  All Rights Reserved  18+ Only",p.jsx("br",{}),"Entertainment & Emotional Well-being Platform"]})})]})),OM=({onBack:n})=>(F.useEffect(()=>{window.scrollTo(0,0)},[]),p.jsxs("div",{className:"min-h-screen w-full bg-[#FDF2F8] font-sans text-[#5e3a58]",children:[p.jsxs("div",{className:"sticky top-0 z-10 bg-[#FDF2F8]/90 backdrop-blur-md border-b border-[#B28DFF]/20 px-6 py-4 flex items-center gap-4",children:[p.jsx("button",{onClick:n,className:"p-2 -ml-2 rounded-full hover:bg-black/5 text-[#5e3a58] transition-colors",children:p.jsx(Ei,{size:24})}),p.jsx("h1",{className:"text-xl font-serif-display font-bold text-[#4A2040]",children:"Terms of Service"})]}),p.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-8 space-y-8",children:[p.jsxs("section",{className:"space-y-3",children:[p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"1. Platform Purpose"}),p.jsx("p",{className:"opacity-90",children:"Bondly AI is a platform intended strictly for conversational entertainment. All characters, messages, and responses are generated by artificial intelligence and are fictional. The service is designed for entertainment and creative expression only."})]}),p.jsxs("section",{className:"space-y-3",children:[p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"2. Eligibility"}),p.jsx("p",{className:"opacity-90",children:"You must be at least 18 years of age to use this platform. By continuing, you represent that you meet this age requirement. We reserve the right to terminate access if we believe a user is under the legal age."})]}),p.jsxs("section",{className:"space-y-3",children:[p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"3. AI-Only Nature"}),p.jsx("p",{className:"opacity-90",children:"All interactions on this platform are 100% AI-generated. There are no real humans involved in the generation of chat or voice content. The interactions do not represent real-world relationships, dating services, or professional advice."})]}),p.jsxs("section",{className:"space-y-3",children:[p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"4. User Responsibility"}),p.jsx("p",{className:"opacity-90",children:"Users are responsible for their own interactions and conduct on the platform. Any attempt to abuse, disrupt, or use the service for illegal activities is strictly prohibited."})]}),p.jsxs("section",{className:"space-y-3",children:[p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"5. Payments & Digital Credits"}),p.jsxs("div",{className:"bg-[#B28DFF]/5 p-4 rounded-xl border border-[#B28DFF]/10 space-y-4",children:[p.jsx("p",{className:"text-sm opacity-90 leading-relaxed",children:"Bondly offers digital credits for accessing AI-powered conversational features. Credits are virtual, non-transferable, and have no real-world monetary value."}),p.jsxs("ul",{className:"space-y-2 text-sm list-disc pl-5 opacity-90",children:[p.jsxs("li",{children:["Credits (Hearts) are added ",p.jsx("strong",{children:"instantly"})," after successful payment confirmation."]}),p.jsxs("li",{children:["Due to the digital and consumable nature of AI-generated services, ",p.jsx("strong",{children:"refunds are not provided"})," once credits are used."]}),p.jsxs("li",{children:["Duplicate or failed transactions will be reviewed and refunded within ",p.jsx("strong",{children:"5-7 business days"}),"."]})]})]})]}),p.jsxs("section",{className:"space-y-3",children:[p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"6. Limitation of Liability"}),p.jsx("p",{className:"opacity-90",children:'Bondly AI is provided on an "as-is" and "as-available" basis. We are not liable for any emotional outcomes, perceived relationships, or reliance on information provided by the AI. We do not guarantee the accuracy or appropriateness of AI-generated content.'})]}),p.jsxs("section",{className:"space-y-3",children:[p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"7. Service Availability"}),p.jsx("p",{className:"opacity-90",children:"While we strive for consistent uptime, we do not guarantee that the service will be available at all times without interruption. We reserve the right to modify, suspend, or terminate the service at our sole discretion."})]}),p.jsxs("section",{className:"space-y-3",children:[p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"8. Governing Law"}),p.jsx("p",{className:"opacity-90",children:"These terms are governed by the laws of India. Any disputes arising from the use of this service shall be subject to the exclusive jurisdiction of the courts in India."})]}),p.jsxs("section",{className:"space-y-3 bg-white/50 p-6 rounded-2xl border border-white/60",children:[p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"Contact Us"}),p.jsx("p",{className:"opacity-90 mb-2",children:"For any legal or terms-related questions, please email:"}),p.jsx("a",{href:"mailto:support@Bondly.in",className:"text-[#B28DFF] font-medium hover:underline block",children:"support@Bondly.in"})]})]}),p.jsx("footer",{className:"py-8 px-6 text-center border-t border-[#B28DFF]/10 bg-[#FFF0F5]",children:p.jsxs("p",{className:"text-[#5e3a58]/60 text-xs font-medium leading-loose",children:[" 2026 Bondly AI  All Rights Reserved  18+ Only",p.jsx("br",{}),"Entertainment & Well-being Platform"]})})]})),HM=({onBack:n})=>{F.useEffect(()=>{window.scrollTo(0,0)},[]);const e=[{q:"What is Bondly AI?",a:"Bondly AI is an online platform that lets you connect with virtual AI companions. You can chat via text or have realistic voice calls with AI characters designed for entertainment, emotional comfort, and friendship."},{q:"Is this a real dating service?",a:"No. Bondly AI provides interactions with fictional, digitally generated characters. It is not a platform for social networking or matchmaking."},{q:"How do the AI Companion characters work?",a:"Our characters use advanced artificial intelligence technology to understand your messages and respond with personality, emotion, and memory, simulating a natural conversation."},{q:"What are Conversation Styles?",a:"Conversation Styles (like Playful, Warm, or Gentle) determine the 'vibe' of your companion. When you create a character in a specific style, their personality is set to that tone to give you a consistent experience."},{q:"Is my chat private?",a:"Yes. Your conversations are private and are not shared publicly. We prioritize user discretion and data security."},{q:"Can I upload my own photo for my character?",a:"Yes! When creating a custom companion, you can either upload your own photo or use our AI to generate a unique look for them."},{q:"Is Bondly AI safe?",a:"We strive to create a safe, judgment-free environment. We have guidelines in place to prevent misuse and ensure interactions remain respectful."},{q:"What age do I need to be to use this?",a:"You must be 18 years or older to access or use the Bondly AI platform."},{q:"Do I speak to real humans on calls?",a:"No. All voice calls are generated by AI voice technology. You are interacting with a virtual character, not a human operator."},{q:"How do subscriptions work?",a:"If the platform offers premium features, payments are handled securely through RBI-compliant payment gateways. We do not store your payment card details directly."},{q:"Can I delete my data or profile?",a:"Absolutely. You have full control. You can request to delete specific characters or your entire account at any time via the settings or by contacting support."},{q:"Who do I contact for support?",a:"If you need help or have questions, please email our support team at support@Bondly.in."}];return p.jsxs("div",{className:"min-h-screen w-full bg-[#FDF2F8] font-sans text-[#5e3a58]",children:[p.jsxs("div",{className:"sticky top-0 z-10 bg-[#FDF2F8]/90 backdrop-blur-md border-b border-[#B28DFF]/20 px-6 py-4 flex items-center gap-4",children:[p.jsx("button",{onClick:n,className:"p-2 -ml-2 rounded-full hover:bg-black/5 text-[#5e3a58] transition-colors",children:p.jsx(Ei,{size:24})}),p.jsx("h1",{className:"text-xl font-serif-display font-bold text-[#4A2040]",children:"FAQ"})]}),p.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-8 space-y-8",children:[p.jsxs("div",{className:"text-center space-y-2 mb-8",children:[p.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center mx-auto shadow-sm text-[#B28DFF]",children:p.jsx(AN,{size:24})}),p.jsx("h2",{className:"text-2xl font-serif-display text-[#4A2040]",children:"Frequently Asked Questions"}),p.jsx("p",{className:"text-sm opacity-80",children:"Common questions about the Bondly experience."})]}),p.jsx("div",{className:"space-y-6",children:e.map((i,o)=>p.jsxs("div",{className:"bg-white/40 border border-white/60 rounded-2xl p-5 shadow-sm hover:bg-white/60 transition-colors",children:[p.jsx("h3",{className:"text-base font-bold text-[#4A2040] mb-2",children:i.q}),p.jsx("p",{className:"text-sm leading-relaxed opacity-90 text-[#5e3a58]",children:i.a})]},o))}),p.jsxs("section",{className:"space-y-4 bg-[#FFF0F5] p-6 rounded-2xl border border-[#B28DFF]/20 text-center mt-8",children:[p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"Still have questions?"}),p.jsx("p",{className:"opacity-90 mb-4 text-sm",children:"We are here to help. Reach out to us anytime."}),p.jsxs("a",{href:"mailto:support@Bondly.in",className:"inline-flex items-center gap-2 text-[#B28DFF] font-medium hover:underline bg-white px-4 py-2 rounded-full shadow-sm",children:[p.jsx(Y0,{size:16})," support@Bondly.in"]})]})]}),p.jsx("footer",{className:"py-8 px-6 text-center border-t border-[#B28DFF]/10 bg-[#FFF0F5]",children:p.jsxs("p",{className:"text-[#5e3a58]/60 text-xs font-medium leading-loose",children:[" 2025 Bondly  All Rights Reserved  18+ Only",p.jsx("br",{}),"Designed for safe, private emotional AI interactions"]})})]})},zM=({onBack:n})=>(F.useEffect(()=>{window.scrollTo(0,0)},[]),p.jsxs("div",{className:"min-h-screen w-full bg-[#FDF2F8] font-sans text-[#5e3a58]",children:[p.jsxs("div",{className:"sticky top-0 z-10 bg-[#FDF2F8]/90 backdrop-blur-md border-b border-[#B28DFF]/20 px-6 py-4 flex items-center gap-4",children:[p.jsx("button",{onClick:n,className:"p-2 -ml-2 rounded-full hover:bg-black/5 text-[#5e3a58] transition-colors",children:p.jsx(Ei,{size:24})}),p.jsx("h1",{className:"text-xl font-serif-display font-bold text-[#4A2040]",children:"Safety Guidelines"})]}),p.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-8 space-y-8",children:[p.jsxs("div",{className:"text-center space-y-2 mb-6",children:[p.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center mx-auto shadow-sm text-[#B28DFF]",children:p.jsx(al,{size:24})}),p.jsx("h2",{className:"text-2xl font-serif-display text-[#4A2040]",children:"Your Safety Matters"}),p.jsx("p",{className:"text-sm opacity-80 max-w-md mx-auto",children:"We are committed to creating a secure, supportive, and judgment-free environment. Please read these guidelines to ensure a positive experience."})]}),p.jsxs("section",{className:"bg-white/40 border border-white/60 rounded-2xl p-6 shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[p.jsx(kw,{size:20,className:"text-[#B28DFF]"}),p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"Age Requirement (18+)"})]}),p.jsx("p",{className:"text-sm leading-relaxed opacity-90 text-[#5e3a58]",children:"Bondly AI is strictly for users aged 18 and older. We maintain a mature environment and enforce this restriction to ensure the platform is used only by those who meet the legal age of majority."})]}),p.jsxs("section",{className:"bg-white/40 border border-white/60 rounded-2xl p-6 shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[p.jsx(jt,{size:20,className:"text-[#A78BFA]"}),p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"AI Fictional Characters"})]}),p.jsx("p",{className:"text-sm leading-relaxed opacity-90 text-[#5e3a58]",children:"Users must understand that all characters are fictional creations of artificial intelligence. These interactions are designed for conversational entertainment only and should not be viewed as real-world connections or substitutes for human interaction."})]}),p.jsxs("section",{className:"bg-white/40 border border-white/60 rounded-2xl p-6 shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[p.jsx(Yt,{size:20,className:"text-[#FF9ACB]"}),p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"Healthy Engagement"})]}),p.jsx("p",{className:"text-sm leading-relaxed opacity-90 text-[#5e3a58]",children:"We do not encourage emotional dependency or harmful behaviors. The platform is a space for creative conversation, not for seeking psychological support or medical advice. Please use the platform responsibly."})]}),p.jsxs("section",{className:"bg-white/40 border border-white/60 rounded-2xl p-6 shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[p.jsx(Cd,{size:20,className:"text-[#60A5FA]"}),p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"Virtual Experience Only"})]}),p.jsx("p",{className:"text-sm leading-relaxed opacity-90 text-[#5e3a58]",children:"Bondly AI does not facilitate, encourage, or provide means for real-world interactions, dating, or matchmaking. It is a strictly virtual, digital-only experience designed for interactive entertainment."})]}),p.jsxs("section",{className:"bg-white/40 border border-white/60 rounded-2xl p-6 shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[p.jsx(UN,{size:20,className:"text-[#F87171]"}),p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"Reporting Misuse"})]}),p.jsx("p",{className:"text-sm leading-relaxed opacity-90 text-[#5e3a58]",children:"We provide tools to report inappropriate behavior or technical issues. We monitor for patterns of misuse and reserve the right to restrict access to users who violate our community standards or conduct policies."})]}),p.jsxs("section",{className:"bg-[#FFF0F5] border border-[#B28DFF]/20 rounded-2xl p-6 shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[p.jsx(ll,{size:20,className:"text-[#FBBF24]"}),p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"Not a Support Service"})]}),p.jsxs("p",{className:"text-sm leading-relaxed opacity-90 text-[#5e3a58]",children:[p.jsx("strong",{children:"This platform is NOT a therapy, counseling, or crisis support service."})," If you are experiencing distress or require professional help, please reach out to qualified real-world medical or mental health professionals."]})]})]}),p.jsx("footer",{className:"py-8 px-6 text-center border-t border-[#B28DFF]/10 bg-[#FFF0F5]",children:p.jsxs("p",{className:"text-[#5e3a58]/60 text-xs font-medium leading-loose",children:[" 2025 Bondly  All Rights Reserved  18+ Only",p.jsx("br",{}),"Designed for safe, private conversational AI interactions"]})})]})),qM=({onBack:n})=>(F.useEffect(()=>{window.scrollTo(0,0)},[]),p.jsxs("div",{className:"min-h-screen w-full bg-[#FDF2F8] font-sans text-[#5e3a58]",children:[p.jsxs("div",{className:"sticky top-0 z-10 bg-[#FDF2F8]/90 backdrop-blur-md border-b border-[#B28DFF]/20 px-6 py-4 flex items-center gap-4",children:[p.jsx("button",{onClick:n,className:"p-2 -ml-2 rounded-full hover:bg-black/5 text-[#5e3a58] transition-colors",children:p.jsx(Ei,{size:24})}),p.jsx("h1",{className:"text-xl font-serif-display font-bold text-[#4A2040]",children:"Refund & Cancellation"})]}),p.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-8 space-y-8",children:[p.jsx("p",{className:"leading-relaxed opacity-90 text-sm italic border-l-4 border-[#FF9ACB] pl-4",children:"Bondly provides digital entertainment services. Since our AI features and credits are consumed instantly, we have a clear policy regarding refunds and cancellations."}),p.jsxs("section",{className:"space-y-3",children:[p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"1. Digital Consumption"}),p.jsx("p",{className:"opacity-90 leading-relaxed",children:"Bondly AI operates using digital credits that are consumed instantly to access AI-powered features. Once credits are used for chats, calls, or other features, the service is considered fully consumed."})]}),p.jsx("section",{className:"space-y-4",children:p.jsxs("div",{className:"bg-[#B28DFF]/5 p-6 rounded-2xl border border-[#B28DFF]/20",children:[p.jsx("h3",{className:"text-lg font-bold text-[#4A2040] mb-3",children:"2. Refund Policy"}),p.jsx("p",{className:"text-sm opacity-90 leading-relaxed mb-4",children:"Refunds are not provided for credits that have already been utilized or for active subscription cycles that have been accessed."}),p.jsx("p",{className:"text-sm opacity-90 leading-relaxed",children:"In the event of a successful payment where credits were not added due to a platform error, or in cases of duplicate transactions, users are eligible for a review."})]})}),p.jsxs("section",{className:"space-y-3",children:[p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"3. Processing Timeline"}),p.jsxs("p",{className:"opacity-90 leading-relaxed",children:["Eligible refund requests (duplicate or failed additions) will be processed back to the original payment method within ",p.jsx("strong",{children:"57 business days"})," following internal review and approval."]})]}),p.jsxs("section",{className:"space-y-3 bg-white/50 p-6 rounded-2xl border border-white/60",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(mw,{size:20,className:"text-[#B28DFF]"}),p.jsx("h3",{className:"text-lg font-bold text-[#4A2040]",children:"Support & Contact"})]}),p.jsx("p",{className:"opacity-90 mb-4",children:"We are here to resolve any billing issues within 24 hours."}),p.jsx("div",{className:"space-y-2",children:p.jsx("a",{href:"mailto:support@bondly.online",className:"text-[#B28DFF] font-medium hover:underline block",children:"Email: support@bondly.online"})})]})]}),p.jsx("footer",{className:"py-8 px-6 text-center border-t border-[#B28DFF]/10 bg-[#FFF0F5]",children:p.jsxs("p",{className:"text-[#5e3a58]/60 text-xs font-medium leading-loose",children:[" 2026 Bondly AI  All Rights Reserved",p.jsx("br",{}),"Secure checkout powered by Razorpay"]})})]})),VM=({personas:n,onUpdatePersonaImage:e,onBack:i})=>{const[o,a]=F.useState(null),[u,f]=F.useState(null),[g,v]=F.useState(!1);F.useEffect(()=>{window.scrollTo(0,0)},[]);const y=(S,b)=>{if(b.target.files&&b.target.files[0]){const U=b.target.files[0],M=new FileReader;M.onloadend=()=>{f(M.result),a(S),v(!0)},M.readAsDataURL(U)}},x=()=>{!o||!u||(e(o.id,u),a(null),f(null),v(!1))},T=S=>{e(S,void 0)};return p.jsxs("div",{className:"min-h-screen w-full bg-gray-50 font-sans text-[#5e3a58]",children:[p.jsxs("div",{className:"sticky top-0 z-20 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:i,className:"p-2 -ml-2 rounded-full hover:bg-gray-100 text-gray-600 transition-colors",children:p.jsx(Ei,{size:24})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Content Manager"}),p.jsx("p",{className:"text-xs text-gray-500",children:"Upload, crop, and map official profile photos"})]})]}),p.jsx("div",{className:"flex gap-3",children:p.jsxs("div",{className:"px-3 py-1.5 bg-blue-100 text-blue-800 text-xs font-bold rounded-md border border-blue-200 flex items-center gap-2",children:[p.jsx(ew,{size:14})," Admin Console"]})})]}),p.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(S=>{const b=!!S.avatarUrl;return p.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden flex flex-col group hover:shadow-md transition-shadow",children:[p.jsx("div",{className:`h-1.5 w-full ${b?"bg-green-500":"bg-gray-200"}`}),p.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:S.name}),p.jsx("span",{className:"text-xs text-gray-500 font-medium uppercase tracking-wider",children:"Default Style"})]}),b?p.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold bg-green-50 text-green-700 px-2 py-1 rounded-md border border-green-100",children:[p.jsx(ir,{size:12})," LIVE"]}):p.jsx("div",{className:"flex items-center gap-1 text-[10px] font-bold bg-gray-100 text-gray-500 px-2 py-1 rounded-md",children:"AI AUTO"})]}),p.jsxs("div",{className:"relative w-full aspect-[3/4] bg-gray-50 overflow-hidden",children:[S.avatarUrl?p.jsx("img",{src:S.avatarUrl,alt:S.name,className:"w-full h-full object-cover"}):p.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400 border-2 border-dashed border-gray-200 m-4 rounded-lg",children:[p.jsx(FN,{size:32,className:"mb-2 opacity-30"}),p.jsx("span",{className:"text-xs font-medium",children:"No Image"})]}),p.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center gap-3 p-4",children:[p.jsxs("label",{className:"cursor-pointer w-full py-2.5 bg-white hover:bg-gray-50 text-gray-900 rounded-lg text-sm font-bold shadow-lg flex items-center justify-center gap-2 transition-transform hover:scale-105",children:[p.jsx(Mw,{size:16}),b?"Replace Photo":"Upload Photo",p.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:U=>y(S,U)})]}),b&&p.jsxs("button",{onClick:()=>T(S.id),className:"w-full py-2.5 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-bold shadow-lg flex items-center justify-center gap-2 transition-colors",children:[p.jsx(K0,{size:16})," Unlink / Reset"]})]})]})]},S.id)})})}),g&&o&&u&&p.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in",children:p.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl h-[80vh] flex overflow-hidden shadow-2xl",children:[p.jsx("div",{className:"flex-1 bg-gray-100 relative flex items-center justify-center p-8 border-r border-gray-200",children:p.jsx("img",{src:u,alt:"Source",className:"max-w-full max-h-full object-contain shadow-lg rounded-md"})}),p.jsxs("div",{className:"w-[350px] bg-white flex flex-col",children:[p.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[p.jsx("h3",{className:"font-bold text-gray-900",children:"Preview"}),p.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:p.jsx(Yi,{size:20})})]}),p.jsx("div",{className:"p-6 border-t border-gray-100 bg-white space-y-3 mt-auto",children:p.jsxs("button",{onClick:x,className:"w-full py-3 rounded-xl bg-[#B28DFF] hover:bg-[#9F7AEA] text-white font-bold shadow-lg shadow-purple-200 transition-all flex items-center justify-center gap-2",children:[p.jsx(_w,{size:18})," Save & Map Image"]})})]})]})})]})},dn=Object.create(null);dn.open="0";dn.close="1";dn.ping="2";dn.pong="3";dn.message="4";dn.upgrade="5";dn.noop="6";const qa=Object.create(null);Object.keys(dn).forEach(n=>{qa[dn[n]]=n});const cd={type:"error",data:"parser error"},Vv=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Gv=typeof ArrayBuffer=="function",jv=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,qd=({type:n,data:e},i,o)=>Vv&&e instanceof Blob?i?o(e):c0(e,o):Gv&&(e instanceof ArrayBuffer||jv(e))?i?o(e):c0(new Blob([e]),o):o(dn[n]+(e||"")),c0=(n,e)=>{const i=new FileReader;return i.onload=function(){const o=i.result.split(",")[1];e("b"+(o||""))},i.readAsDataURL(n)};function d0(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let qc;function GM(n,e){if(Vv&&n.data instanceof Blob)return n.data.arrayBuffer().then(d0).then(e);if(Gv&&(n.data instanceof ArrayBuffer||jv(n.data)))return e(d0(n.data));qd(n,!1,i=>{qc||(qc=new TextEncoder),e(qc.encode(i))})}const f0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<f0.length;n++)tr[f0.charCodeAt(n)]=n;const jM=n=>{let e=n.length*.75,i=n.length,o,a=0,u,f,g,v;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);const y=new ArrayBuffer(e),x=new Uint8Array(y);for(o=0;o<i;o+=4)u=tr[n.charCodeAt(o)],f=tr[n.charCodeAt(o+1)],g=tr[n.charCodeAt(o+2)],v=tr[n.charCodeAt(o+3)],x[a++]=u<<2|f>>4,x[a++]=(f&15)<<4|g>>2,x[a++]=(g&3)<<6|v&63;return y},YM=typeof ArrayBuffer=="function",Vd=(n,e)=>{if(typeof n!="string")return{type:"message",data:Yv(n,e)};const i=n.charAt(0);return i==="b"?{type:"message",data:JM(n.substring(1),e)}:qa[i]?n.length>1?{type:qa[i],data:n.substring(1)}:{type:qa[i]}:cd},JM=(n,e)=>{if(YM){const i=jM(n);return Yv(i,e)}else return{base64:!0,data:n}},Yv=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}},Jv="",KM=(n,e)=>{const i=n.length,o=new Array(i);let a=0;n.forEach((u,f)=>{qd(u,!1,g=>{o[f]=g,++a===i&&e(o.join(Jv))})})},$M=(n,e)=>{const i=n.split(Jv),o=[];for(let a=0;a<i.length;a++){const u=Vd(i[a],e);if(o.push(u),u.type==="error")break}return o};function XM(){return new TransformStream({transform(n,e){GM(n,i=>{const o=i.length;let a;if(o<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,o);else if(o<65536){a=new Uint8Array(3);const u=new DataView(a.buffer);u.setUint8(0,126),u.setUint16(1,o)}else{a=new Uint8Array(9);const u=new DataView(a.buffer);u.setUint8(0,127),u.setBigUint64(1,BigInt(o))}n.data&&typeof n.data!="string"&&(a[0]|=128),e.enqueue(a),e.enqueue(i)})}})}let Vc;function Ua(n){return n.reduce((e,i)=>e+i.length,0)}function Pa(n,e){if(n[0].length===e)return n.shift();const i=new Uint8Array(e);let o=0;for(let a=0;a<e;a++)i[a]=n[0][o++],o===n[0].length&&(n.shift(),o=0);return n.length&&o<n[0].length&&(n[0]=n[0].slice(o)),i}function QM(n,e){Vc||(Vc=new TextDecoder);const i=[];let o=0,a=-1,u=!1;return new TransformStream({transform(f,g){for(i.push(f);;){if(o===0){if(Ua(i)<1)break;const v=Pa(i,1);u=(v[0]&128)===128,a=v[0]&127,a<126?o=3:a===126?o=1:o=2}else if(o===1){if(Ua(i)<2)break;const v=Pa(i,2);a=new DataView(v.buffer,v.byteOffset,v.length).getUint16(0),o=3}else if(o===2){if(Ua(i)<8)break;const v=Pa(i,8),y=new DataView(v.buffer,v.byteOffset,v.length),x=y.getUint32(0);if(x>Math.pow(2,21)-1){g.enqueue(cd);break}a=x*Math.pow(2,32)+y.getUint32(4),o=3}else{if(Ua(i)<a)break;const v=Pa(i,a);g.enqueue(Vd(u?v:Vc.decode(v),e)),o=0}if(a===0||a>n){g.enqueue(cd);break}}}})}const Kv=4;function et(n){if(n)return WM(n)}function WM(n){for(var e in et.prototype)n[e]=et.prototype[e];return n}et.prototype.on=et.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};et.prototype.once=function(n,e){function i(){this.off(n,i),e.apply(this,arguments)}return i.fn=e,this.on(n,i),this};et.prototype.off=et.prototype.removeListener=et.prototype.removeAllListeners=et.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var i=this._callbacks["$"+n];if(!i)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var o,a=0;a<i.length;a++)if(o=i[a],o===e||o.fn===e){i.splice(a,1);break}return i.length===0&&delete this._callbacks["$"+n],this};et.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),i=this._callbacks["$"+n],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(i){i=i.slice(0);for(var o=0,a=i.length;o<a;++o)i[o].apply(this,e)}return this};et.prototype.emitReserved=et.prototype.emit;et.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};et.prototype.hasListeners=function(n){return!!this.listeners(n).length};const hl=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,i)=>i(e,0),Vt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),ZM="arraybuffer";function $v(n,...e){return e.reduce((i,o)=>(n.hasOwnProperty(o)&&(i[o]=n[o]),i),{})}const eD=Vt.setTimeout,tD=Vt.clearTimeout;function pl(n,e){e.useNativeTimers?(n.setTimeoutFn=eD.bind(Vt),n.clearTimeoutFn=tD.bind(Vt)):(n.setTimeoutFn=Vt.setTimeout.bind(Vt),n.clearTimeoutFn=Vt.clearTimeout.bind(Vt))}const nD=1.33;function iD(n){return typeof n=="string"?sD(n):Math.ceil((n.byteLength||n.size)*nD)}function sD(n){let e=0,i=0;for(let o=0,a=n.length;o<a;o++)e=n.charCodeAt(o),e<128?i+=1:e<2048?i+=2:e<55296||e>=57344?i+=3:(o++,i+=4);return i}function Xv(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function oD(n){let e="";for(let i in n)n.hasOwnProperty(i)&&(e.length&&(e+="&"),e+=encodeURIComponent(i)+"="+encodeURIComponent(n[i]));return e}function rD(n){let e={},i=n.split("&");for(let o=0,a=i.length;o<a;o++){let u=i[o].split("=");e[decodeURIComponent(u[0])]=decodeURIComponent(u[1])}return e}class aD extends Error{constructor(e,i,o){super(e),this.description=i,this.context=o,this.type="TransportError"}}class Gd extends et{constructor(e){super(),this.writable=!1,pl(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,i,o){return super.emitReserved("error",new aD(e,i,o)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const i=Vd(e,this.socket.binaryType);this.onPacket(i)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,i={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(i)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const i=oD(e);return i.length?"?"+i:""}}class lD extends Gd{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const i=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let o=0;this._polling&&(o++,this.once("pollComplete",function(){--o||i()})),this.writable||(o++,this.once("drain",function(){--o||i()}))}else i()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const i=o=>{if(this.readyState==="opening"&&o.type==="open"&&this.onOpen(),o.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(o)};$M(e,this.socket.binaryType).forEach(i),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,KM(e,i=>{this.doWrite(i,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",i=this.query||{};return this.opts.timestampRequests!==!1&&(i[this.opts.timestampParam]=Xv()),!this.supportsBinary&&!i.sid&&(i.b64=1),this.createUri(e,i)}}let Qv=!1;try{Qv=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const uD=Qv;function cD(){}class dD extends lD{constructor(e){if(super(e),typeof location<"u"){const i=location.protocol==="https:";let o=location.port;o||(o=i?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||o!==e.port}}doWrite(e,i){const o=this.request({method:"POST",data:e});o.on("success",i),o.on("error",(a,u)=>{this.onError("xhr post error",a,u)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(i,o)=>{this.onError("xhr poll error",i,o)}),this.pollXhr=e}}class un extends et{constructor(e,i,o){super(),this.createRequest=e,pl(this,o),this._opts=o,this._method=o.method||"GET",this._uri=i,this._data=o.data!==void 0?o.data:null,this._create()}_create(){var e;const i=$v(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this._opts.xd;const o=this._xhr=this.createRequest(i);try{o.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){o.setDisableHeaderCheck&&o.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&o.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{o.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{o.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(o),"withCredentials"in o&&(o.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(o.timeout=this._opts.requestTimeout),o.onreadystatechange=()=>{var a;o.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(o.getResponseHeader("set-cookie"))),o.readyState===4&&(o.status===200||o.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof o.status=="number"?o.status:0)},0))},o.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=un.requestsCount++,un.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=cD,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete un.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}un.requestsCount=0;un.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",h0);else if(typeof addEventListener=="function"){const n="onpagehide"in Vt?"pagehide":"unload";addEventListener(n,h0,!1)}}function h0(){for(let n in un.requests)un.requests.hasOwnProperty(n)&&un.requests[n].abort()}const fD=(function(){const n=Wv({xdomain:!1});return n&&n.responseType!==null})();class hD extends dD{constructor(e){super(e);const i=e&&e.forceBase64;this.supportsBinary=fD&&!i}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new un(Wv,this.uri(),e)}}function Wv(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||uD))return new XMLHttpRequest}catch{}if(!e)try{return new Vt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Zv=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class pD extends Gd{get name(){return"websocket"}doOpen(){const e=this.uri(),i=this.opts.protocols,o=Zv?{}:$v(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(o.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,i,o)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let i=0;i<e.length;i++){const o=e[i],a=i===e.length-1;qd(o,this.supportsBinary,u=>{try{this.doWrite(o,u)}catch{}a&&hl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",i=this.query||{};return this.opts.timestampRequests&&(i[this.opts.timestampParam]=Xv()),this.supportsBinary||(i.b64=1),this.createUri(e,i)}}const Gc=Vt.WebSocket||Vt.MozWebSocket;class mD extends pD{createSocket(e,i,o){return Zv?new Gc(e,i,o):i?new Gc(e,i):new Gc(e)}doWrite(e,i){this.ws.send(i)}}class gD extends Gd{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const i=QM(Number.MAX_SAFE_INTEGER,this.socket.binaryType),o=e.readable.pipeThrough(i).getReader(),a=XM();a.readable.pipeTo(e.writable),this._writer=a.writable.getWriter();const u=()=>{o.read().then(({done:g,value:v})=>{g||(this.onPacket(v),u())}).catch(g=>{})};u();const f={type:"open"};this.query.sid&&(f.data=`{"sid":"${this.query.sid}"}`),this._writer.write(f).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let i=0;i<e.length;i++){const o=e[i],a=i===e.length-1;this._writer.write(o).then(()=>{a&&hl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const yD={websocket:mD,webtransport:gD,polling:hD},vD=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,xD=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function dd(n){if(n.length>8e3)throw"URI too long";const e=n,i=n.indexOf("["),o=n.indexOf("]");i!=-1&&o!=-1&&(n=n.substring(0,i)+n.substring(i,o).replace(/:/g,";")+n.substring(o,n.length));let a=vD.exec(n||""),u={},f=14;for(;f--;)u[xD[f]]=a[f]||"";return i!=-1&&o!=-1&&(u.source=e,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u.pathNames=_D(u,u.path),u.queryKey=TD(u,u.query),u}function _D(n,e){const i=/\/{2,9}/g,o=e.replace(i,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&o.splice(0,1),e.slice(-1)=="/"&&o.splice(o.length-1,1),o}function TD(n,e){const i={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(o,a,u){a&&(i[a]=u)}),i}const fd=typeof addEventListener=="function"&&typeof removeEventListener=="function",Va=[];fd&&addEventListener("offline",()=>{Va.forEach(n=>n())},!1);class Ti extends et{constructor(e,i){if(super(),this.binaryType=ZM,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(i=e,e=null),e){const o=dd(e);i.hostname=o.host,i.secure=o.protocol==="https"||o.protocol==="wss",i.port=o.port,o.query&&(i.query=o.query)}else i.host&&(i.hostname=dd(i.host).host);pl(this,i),this.secure=i.secure!=null?i.secure:typeof location<"u"&&location.protocol==="https:",i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},i.transports.forEach(o=>{const a=o.prototype.name;this.transports.push(a),this._transportsByName[a]=o}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=rD(this.opts.query)),fd&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Va.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const i=Object.assign({},this.opts.query);i.EIO=Kv,i.transport=e,this.id&&(i.sid=this.id);const o=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](o)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Ti.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const i=this.createTransport(e);i.open(),this.setTransport(i)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",i=>this._onClose("transport close",i))}onOpen(){this.readyState="open",Ti.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const i=new Error("server error");i.code=e.data,this._onError(i);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let o=0;o<this.writeBuffer.length;o++){const a=this.writeBuffer[o].data;if(a&&(i+=iD(a)),o>0&&i>this._maxPayload)return this.writeBuffer.slice(0,o);i+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,hl(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,i,o){return this._sendPacket("message",e,i,o),this}send(e,i,o){return this._sendPacket("message",e,i,o),this}_sendPacket(e,i,o,a){if(typeof i=="function"&&(a=i,i=void 0),typeof o=="function"&&(a=o,o=null),this.readyState==="closing"||this.readyState==="closed")return;o=o||{},o.compress=o.compress!==!1;const u={type:e,data:i,options:o};this.emitReserved("packetCreate",u),this.writeBuffer.push(u),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),e()},o=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?o():e()}):this.upgrading?o():e()),this}_onError(e){if(Ti.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,i){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),fd&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const o=Va.indexOf(this._offlineEventListener);o!==-1&&Va.splice(o,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,i),this.writeBuffer=[],this._prevBufferLen=0}}}Ti.protocol=Kv;class SD extends Ti{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let i=this.createTransport(e),o=!1;Ti.priorWebsocketSuccess=!1;const a=()=>{o||(i.send([{type:"ping",data:"probe"}]),i.once("packet",T=>{if(!o)if(T.type==="pong"&&T.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",i),!i)return;Ti.priorWebsocketSuccess=i.name==="websocket",this.transport.pause(()=>{o||this.readyState!=="closed"&&(x(),this.setTransport(i),i.send([{type:"upgrade"}]),this.emitReserved("upgrade",i),i=null,this.upgrading=!1,this.flush())})}else{const S=new Error("probe error");S.transport=i.name,this.emitReserved("upgradeError",S)}}))};function u(){o||(o=!0,x(),i.close(),i=null)}const f=T=>{const S=new Error("probe error: "+T);S.transport=i.name,u(),this.emitReserved("upgradeError",S)};function g(){f("transport closed")}function v(){f("socket closed")}function y(T){i&&T.name!==i.name&&u()}const x=()=>{i.removeListener("open",a),i.removeListener("error",f),i.removeListener("close",g),this.off("close",v),this.off("upgrading",y)};i.once("open",a),i.once("error",f),i.once("close",g),this.once("close",v),this.once("upgrading",y),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{o||i.open()},200):i.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const i=[];for(let o=0;o<e.length;o++)~this.transports.indexOf(e[o])&&i.push(e[o]);return i}}let ED=class extends SD{constructor(e,i={}){const o=typeof e=="object"?e:i;(!o.transports||o.transports&&typeof o.transports[0]=="string")&&(o.transports=(o.transports||["polling","websocket","webtransport"]).map(a=>yD[a]).filter(a=>!!a)),super(e,o)}};function bD(n,e="",i){let o=n;i=i||typeof location<"u"&&location,n==null&&(n=i.protocol+"//"+i.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=i.protocol+n:n=i.host+n),/^(https?|wss?):\/\//.test(n)||(typeof i<"u"?n=i.protocol+"//"+n:n="https://"+n),o=dd(n)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";const u=o.host.indexOf(":")!==-1?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+u+":"+o.port+e,o.href=o.protocol+"://"+u+(i&&i.port===o.port?"":":"+o.port),o}const CD=typeof ArrayBuffer=="function",AD=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,ex=Object.prototype.toString,ND=typeof Blob=="function"||typeof Blob<"u"&&ex.call(Blob)==="[object BlobConstructor]",wD=typeof File=="function"||typeof File<"u"&&ex.call(File)==="[object FileConstructor]";function jd(n){return CD&&(n instanceof ArrayBuffer||AD(n))||ND&&n instanceof Blob||wD&&n instanceof File}function Ga(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let i=0,o=n.length;i<o;i++)if(Ga(n[i]))return!0;return!1}if(jd(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return Ga(n.toJSON(),!0);for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&Ga(n[i]))return!0;return!1}function ID(n){const e=[],i=n.data,o=n;return o.data=hd(i,e),o.attachments=e.length,{packet:o,buffers:e}}function hd(n,e){if(!n)return n;if(jd(n)){const i={_placeholder:!0,num:e.length};return e.push(n),i}else if(Array.isArray(n)){const i=new Array(n.length);for(let o=0;o<n.length;o++)i[o]=hd(n[o],e);return i}else if(typeof n=="object"&&!(n instanceof Date)){const i={};for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=hd(n[o],e));return i}return n}function RD(n,e){return n.data=pd(n.data,e),delete n.attachments,n}function pd(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let i=0;i<n.length;i++)n[i]=pd(n[i],e);else if(typeof n=="object")for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(n[i]=pd(n[i],e));return n}const MD=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],DD=5;var we;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(we||(we={}));class kD{constructor(e){this.replacer=e}encode(e){return(e.type===we.EVENT||e.type===we.ACK)&&Ga(e)?this.encodeAsBinary({type:e.type===we.EVENT?we.BINARY_EVENT:we.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let i=""+e.type;return(e.type===we.BINARY_EVENT||e.type===we.BINARY_ACK)&&(i+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(i+=e.nsp+","),e.id!=null&&(i+=e.id),e.data!=null&&(i+=JSON.stringify(e.data,this.replacer)),i}encodeAsBinary(e){const i=ID(e),o=this.encodeAsString(i.packet),a=i.buffers;return a.unshift(o),a}}function p0(n){return Object.prototype.toString.call(n)==="[object Object]"}class Yd extends et{constructor(e){super(),this.reviver=e}add(e){let i;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");i=this.decodeString(e);const o=i.type===we.BINARY_EVENT;o||i.type===we.BINARY_ACK?(i.type=o?we.EVENT:we.ACK,this.reconstructor=new UD(i),i.attachments===0&&super.emitReserved("decoded",i)):super.emitReserved("decoded",i)}else if(jd(e)||e.base64)if(this.reconstructor)i=this.reconstructor.takeBinaryData(e),i&&(this.reconstructor=null,super.emitReserved("decoded",i));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let i=0;const o={type:Number(e.charAt(0))};if(we[o.type]===void 0)throw new Error("unknown packet type "+o.type);if(o.type===we.BINARY_EVENT||o.type===we.BINARY_ACK){const u=i+1;for(;e.charAt(++i)!=="-"&&i!=e.length;);const f=e.substring(u,i);if(f!=Number(f)||e.charAt(i)!=="-")throw new Error("Illegal attachments");o.attachments=Number(f)}if(e.charAt(i+1)==="/"){const u=i+1;for(;++i&&!(e.charAt(i)===","||i===e.length););o.nsp=e.substring(u,i)}else o.nsp="/";const a=e.charAt(i+1);if(a!==""&&Number(a)==a){const u=i+1;for(;++i;){const f=e.charAt(i);if(f==null||Number(f)!=f){--i;break}if(i===e.length)break}o.id=Number(e.substring(u,i+1))}if(e.charAt(++i)){const u=this.tryParse(e.substr(i));if(Yd.isPayloadValid(o.type,u))o.data=u;else throw new Error("invalid payload")}return o}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,i){switch(e){case we.CONNECT:return p0(i);case we.DISCONNECT:return i===void 0;case we.CONNECT_ERROR:return typeof i=="string"||p0(i);case we.EVENT:case we.BINARY_EVENT:return Array.isArray(i)&&(typeof i[0]=="number"||typeof i[0]=="string"&&MD.indexOf(i[0])===-1);case we.ACK:case we.BINARY_ACK:return Array.isArray(i)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class UD{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const i=RD(this.reconPack,this.buffers);return this.finishedReconstruction(),i}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const PD=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Yd,Encoder:kD,get PacketType(){return we},protocol:DD},Symbol.toStringTag,{value:"Module"}));function Xt(n,e,i){return n.on(e,i),function(){n.off(e,i)}}const LD=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class tx extends et{constructor(e,i,o){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=i,o&&o.auth&&(this.auth=o.auth),this._opts=Object.assign({},o),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Xt(e,"open",this.onopen.bind(this)),Xt(e,"packet",this.onpacket.bind(this)),Xt(e,"error",this.onerror.bind(this)),Xt(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...i){var o,a,u;if(LD.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(i.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;const f={type:we.EVENT,data:i};if(f.options={},f.options.compress=this.flags.compress!==!1,typeof i[i.length-1]=="function"){const x=this.ids++,T=i.pop();this._registerAckCallback(x,T),f.id=x}const g=(a=(o=this.io.engine)===null||o===void 0?void 0:o.transport)===null||a===void 0?void 0:a.writable,v=this.connected&&!(!((u=this.io.engine)===null||u===void 0)&&u._hasPingExpired());return this.flags.volatile&&!g||(v?(this.notifyOutgoingListeners(f),this.packet(f)):this.sendBuffer.push(f)),this.flags={},this}_registerAckCallback(e,i){var o;const a=(o=this.flags.timeout)!==null&&o!==void 0?o:this._opts.ackTimeout;if(a===void 0){this.acks[e]=i;return}const u=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let g=0;g<this.sendBuffer.length;g++)this.sendBuffer[g].id===e&&this.sendBuffer.splice(g,1);i.call(this,new Error("operation has timed out"))},a),f=(...g)=>{this.io.clearTimeoutFn(u),i.apply(this,g)};f.withError=!0,this.acks[e]=f}emitWithAck(e,...i){return new Promise((o,a)=>{const u=(f,g)=>f?a(f):o(g);u.withError=!0,i.push(u),this.emit(e,...i)})}_addToQueue(e){let i;typeof e[e.length-1]=="function"&&(i=e.pop());const o={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((a,...u)=>o!==this._queue[0]?void 0:(a!==null?o.tryCount>this._opts.retries&&(this._queue.shift(),i&&i(a)):(this._queue.shift(),i&&i(null,...u)),o.pending=!1,this._drainQueue())),this._queue.push(o),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const i=this._queue[0];i.pending&&!e||(i.pending=!0,i.tryCount++,this.flags=i.flags,this.emit.apply(this,i.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:we.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,i){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,i),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(o=>String(o.id)===e)){const o=this.acks[e];delete this.acks[e],o.withError&&o.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case we.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case we.EVENT:case we.BINARY_EVENT:this.onevent(e);break;case we.ACK:case we.BINARY_ACK:this.onack(e);break;case we.DISCONNECT:this.ondisconnect();break;case we.CONNECT_ERROR:this.destroy();const o=new Error(e.data.message);o.data=e.data.data,this.emitReserved("connect_error",o);break}}onevent(e){const i=e.data||[];e.id!=null&&i.push(this.ack(e.id)),this.connected?this.emitEvent(i):this.receiveBuffer.push(Object.freeze(i))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const i=this._anyListeners.slice();for(const o of i)o.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const i=this;let o=!1;return function(...a){o||(o=!0,i.packet({type:we.ACK,id:e,data:a}))}}onack(e){const i=this.acks[e.id];typeof i=="function"&&(delete this.acks[e.id],i.withError&&e.data.unshift(null),i.apply(this,e.data))}onconnect(e,i){this.id=e,this.recovered=i&&this._pid===i,this._pid=i,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:we.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const i=this._anyListeners;for(let o=0;o<i.length;o++)if(e===i[o])return i.splice(o,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const i=this._anyOutgoingListeners;for(let o=0;o<i.length;o++)if(e===i[o])return i.splice(o,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const i=this._anyOutgoingListeners.slice();for(const o of i)o.apply(this,e.data)}}}function no(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}no.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),i=Math.floor(e*this.jitter*n);n=(Math.floor(e*10)&1)==0?n-i:n+i}return Math.min(n,this.max)|0};no.prototype.reset=function(){this.attempts=0};no.prototype.setMin=function(n){this.ms=n};no.prototype.setMax=function(n){this.max=n};no.prototype.setJitter=function(n){this.jitter=n};class md extends et{constructor(e,i){var o;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(i=e,e=void 0),i=i||{},i.path=i.path||"/socket.io",this.opts=i,pl(this,i),this.reconnection(i.reconnection!==!1),this.reconnectionAttempts(i.reconnectionAttempts||1/0),this.reconnectionDelay(i.reconnectionDelay||1e3),this.reconnectionDelayMax(i.reconnectionDelayMax||5e3),this.randomizationFactor((o=i.randomizationFactor)!==null&&o!==void 0?o:.5),this.backoff=new no({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(i.timeout==null?2e4:i.timeout),this._readyState="closed",this.uri=e;const a=i.parser||PD;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=i.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var i;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(i=this.backoff)===null||i===void 0||i.setMin(e),this)}randomizationFactor(e){var i;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(i=this.backoff)===null||i===void 0||i.setJitter(e),this)}reconnectionDelayMax(e){var i;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(i=this.backoff)===null||i===void 0||i.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new ED(this.uri,this.opts);const i=this.engine,o=this;this._readyState="opening",this.skipReconnect=!1;const a=Xt(i,"open",function(){o.onopen(),e&&e()}),u=g=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",g),e?e(g):this.maybeReconnectOnOpen()},f=Xt(i,"error",u);if(this._timeout!==!1){const g=this._timeout,v=this.setTimeoutFn(()=>{a(),u(new Error("timeout")),i.close()},g);this.opts.autoUnref&&v.unref(),this.subs.push(()=>{this.clearTimeoutFn(v)})}return this.subs.push(a),this.subs.push(f),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Xt(e,"ping",this.onping.bind(this)),Xt(e,"data",this.ondata.bind(this)),Xt(e,"error",this.onerror.bind(this)),Xt(e,"close",this.onclose.bind(this)),Xt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(i){this.onclose("parse error",i)}}ondecoded(e){hl(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,i){let o=this.nsps[e];return o?this._autoConnect&&!o.active&&o.connect():(o=new tx(this,e,i),this.nsps[e]=o),o}_destroy(e){const i=Object.keys(this.nsps);for(const o of i)if(this.nsps[o].active)return;this._close()}_packet(e){const i=this.encoder.encode(e);for(let o=0;o<i.length;o++)this.engine.write(i[o],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,i){var o;this.cleanup(),(o=this.engine)===null||o===void 0||o.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,i),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const i=this.backoff.duration();this._reconnecting=!0;const o=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(a=>{a?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",a)):e.onreconnect()}))},i);this.opts.autoUnref&&o.unref(),this.subs.push(()=>{this.clearTimeoutFn(o)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const er={};function jc(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};const i=bD(n,e.path||"/socket.io"),o=i.source,a=i.id,u=i.path,f=er[a]&&u in er[a].nsps,g=e.forceNew||e["force new connection"]||e.multiplex===!1||f;let v;return g?v=new md(o,e):(er[a]||(er[a]=new md(o,e)),v=er[a]),i.query&&!e.query&&(e.query=i.queryKey),v.socket(i.path,e)}Object.assign(jc,{Manager:md,Socket:tx,io:jc,connect:jc});function BD({guestId:n,userName:e,connectedAt:i,onLogout:o}){const a=f=>f?new Date(f).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"",u=f=>f?new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"";return p.jsxs("div",{className:"h-full bg-gradient-to-b from-rose-50 to-pink-50 border-r border-pink-200 p-6 flex flex-col",children:[p.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-pink-100 mb-6",children:[p.jsx("div",{className:"flex justify-center mb-4",children:p.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-rose-400 to-pink-500 rounded-full flex items-center justify-center shadow-md",children:p.jsx(wd,{size:40,className:"text-white"})})}),p.jsx("h2",{className:"text-center text-lg font-bold text-gray-900 mb-2",children:e||`Guest ${n==null?void 0:n.slice(0,5)}`||"Anonymous"}),p.jsx("p",{className:"text-center text-xs text-gray-500 font-mono bg-gray-50 py-2 px-3 rounded-lg mb-4 break-all",children:n}),p.jsxs("div",{className:"flex items-center justify-center gap-2 bg-green-50 text-green-700 py-2 px-3 rounded-lg text-sm font-medium mb-4",children:[p.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Online"]}),p.jsx("div",{className:"space-y-2 text-sm",children:p.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[p.jsx(RN,{size:16,className:"text-pink-500"}),p.jsxs("span",{className:"text-xs",children:[u(i)," ",a(i)]})]})})]}),p.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-pink-100 mb-6 flex-1",children:[p.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-3",children:" About"}),p.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"You're chatting anonymously! Your identity is protected. Messages are temporary and tagged with keywords automatically."})]}),p.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-pink-100 mb-6",children:[p.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-3",children:" Features"}),p.jsxs("ul",{className:"space-y-2",children:[p.jsxs("li",{className:"flex items-start gap-2 text-xs text-gray-600",children:[p.jsx("span",{className:"text-pink-500 font-bold mt-1",children:""}),p.jsx("span",{children:"Unlimited messages"})]}),p.jsxs("li",{className:"flex items-start gap-2 text-xs text-gray-600",children:[p.jsx("span",{className:"text-pink-500 font-bold mt-1",children:""}),p.jsx("span",{children:"Automatic keyword tagging"})]}),p.jsxs("li",{className:"flex items-start gap-2 text-xs text-gray-600",children:[p.jsx("span",{className:"text-pink-500 font-bold mt-1",children:""}),p.jsx("span",{children:"Real-time messaging"})]}),p.jsxs("li",{className:"flex items-start gap-2 text-xs text-gray-600",children:[p.jsx("span",{className:"text-pink-500 font-bold mt-1",children:""}),p.jsx("span",{children:"No sign-up required"})]})]})]}),p.jsxs("button",{onClick:o,className:"w-full bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 text-white font-bold py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-200 shadow-sm hover:shadow-md",children:[p.jsx(td,{size:18}),"Exit Chat"]})]})}function FD({onBack:n}){const[e,i]=F.useState(null),[o,a]=F.useState(""),[u,f]=F.useState(null),[g,v]=F.useState([]),[y,x]=F.useState(""),[T,S]=F.useState(!1),[b,U]=F.useState(0),[M,J]=F.useState(null),[j,Q]=F.useState(null),[P,X]=F.useState(null),[oe,re]=F.useState(null),$=F.useRef(null),fe=F.useRef(null),ne=()=>{var Y;(Y=$.current)==null||Y.scrollIntoView({behavior:"smooth"})};F.useEffect(()=>{ne()},[g]),F.useEffect(()=>{{const Y=`guest_${Math.random().toString(36).substr(2,9)}`;i(Y),console.log(" Running in demo mode (no server configured). Messages are local only.");return}},[]);const he=async Y=>{var ge;if(Y.preventDefault(),!!y.trim()){S(!0),J(null);try{const ie=y.trim(),N=o||`Guest ${e==null?void 0:e.slice(0,5)}`;if(u&&u.connected)u.emit("send_message",{message:ie,userName:N});else{const V={id:`msg_${Date.now()}`,guestId:e||"guest_demo",userName:N,message:ie,tags:[],timestamp:new Date().toISOString(),source:"rest"};v(ee=>[...ee,V])}x(""),(ge=fe.current)==null||ge.focus()}catch(ie){J("Failed to send message"),console.error(ie)}finally{S(!1)}}},W=Y=>{x(Y.target.value),P&&clearTimeout(P),u==null||u.emit("typing",{userName:o||`Guest ${e==null?void 0:e.slice(0,5)}`});const ge=setTimeout(()=>{u==null||u.emit("stop_typing",{})},1e3);X(ge)},K=()=>{u==null||u.disconnect(),i(null),v([]),x(""),n&&n()};return e?p.jsxs("div",{className:"h-screen flex bg-gray-50",children:[p.jsx("div",{className:"hidden lg:block w-80 flex-shrink-0",children:p.jsx(BD,{guestId:e,userName:o,connectedAt:j,onLogout:K})}),p.jsxs("div",{className:"flex-1 flex flex-col",children:[p.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4 shadow-sm",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" Guest Chat"}),p.jsxs("p",{className:"text-sm text-gray-600",children:[b," ",b===1?"user":"users"," online"]})]}),p.jsx("div",{className:"text-right",children:p.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",e==null?void 0:e.slice(0,8),"..."]})})]})}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[g.length===0?p.jsx("div",{className:"h-full flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-6xl mb-4",children:""}),p.jsx("p",{className:"text-gray-500 text-lg",children:"No messages yet. Be the first to say hello!"})]})}):g.map(Y=>p.jsx("div",{className:`flex ${Y.guestId===e?"justify-end":"justify-start"}`,children:p.jsxs("div",{className:`max-w-xs lg:max-w-md xl:max-w-lg ${Y.guestId===e?"bg-gradient-to-r from-rose-500 to-pink-500 text-white rounded-3xl rounded-tr-none":"bg-white text-gray-900 rounded-3xl rounded-tl-none border border-gray-200"} px-5 py-3 shadow-sm`,children:[p.jsx("p",{className:`text-xs font-bold mb-1 ${Y.guestId===e?"text-pink-100":"text-pink-600"}`,children:Y.userName}),p.jsx("p",{className:"text-sm break-words",children:Y.message}),Y.tags&&Y.tags.length>0&&p.jsxs("div",{className:"mt-3 pt-3 border-t border-opacity-30 border-white",children:[p.jsx("div",{className:"flex flex-wrap gap-1",children:Y.tags.map(ge=>p.jsxs("span",{className:`inline-block text-xs font-semibold px-2 py-1 rounded-full ${Y.guestId===e?"bg-white bg-opacity-30 text-white":"bg-pink-100 text-pink-700"}`,children:["#",ge]},ge))}),p.jsxs("p",{className:`text-xs mt-2 font-medium ${Y.guestId===e?"text-pink-100":"text-gray-500"}`,children:[" ",Y.tags.length," ",Y.tags.length===1?"keyword":"keywords"," detected"]})]}),p.jsx("p",{className:`text-xs mt-2 ${Y.guestId===e?"text-pink-100":"text-gray-500"}`,children:new Date(Y.timestamp).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})},Y.id)),p.jsx("div",{ref:$})]}),p.jsxs("div",{className:"bg-white border-t border-gray-200 p-6",children:[M&&p.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[p.jsx(j0,{size:18,className:"text-red-600 flex-shrink-0 mt-0.5"}),p.jsx("p",{className:"text-sm text-red-700",children:M})]}),p.jsx("input",{type:"text",placeholder:"Enter name (optional)",value:o,onChange:Y=>a(Y.target.value),maxLength:50,className:"w-full px-4 py-2 mb-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-500 text-sm"}),p.jsxs("form",{onSubmit:he,className:"flex gap-3",children:[p.jsx("input",{ref:fe,type:"text",placeholder:"Type your message... (max 3000 chars)",value:y,onChange:W,maxLength:3e3,disabled:T,className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-500 disabled:opacity-50",autoFocus:!0}),p.jsxs("button",{type:"submit",disabled:T||!y.trim(),className:"bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md",children:[T?p.jsx(GN,{size:20,className:"animate-spin"}):p.jsx($0,{size:20}),"Send"]})]}),p.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[y.length," / 3000 characters"]})]})]}),p.jsxs("div",{className:"hidden xl:block w-64 bg-white border-l border-gray-200 p-6 overflow-y-auto",children:[p.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-4",children:" Activity"}),p.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl p-4 mb-4",children:[p.jsx("p",{className:"text-xs font-bold text-blue-900 mb-1",children:"Active Users"}),p.jsx("p",{className:"text-2xl font-bold text-blue-600",children:b})]}),p.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-4 mb-4",children:[p.jsx("p",{className:"text-xs font-bold text-purple-900 mb-1",children:"Messages Sent"}),p.jsx("p",{className:"text-2xl font-bold text-purple-600",children:g.length})]}),p.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[p.jsx("p",{className:"text-xs font-bold text-gray-700 mb-2",children:"Session Info"}),p.jsxs("div",{className:"space-y-2 text-xs text-gray-600",children:[p.jsxs("div",{children:[p.jsx("span",{className:"font-bold",children:"Guest ID:"}),p.jsx("p",{className:"font-mono text-gray-500 break-all",children:e})]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-bold",children:"Status:"}),p.jsx("p",{className:"text-green-600 font-medium",children:" Connected"})]})]})]})]})]}):p.jsx("div",{className:"h-screen bg-gradient-to-br from-rose-50 to-pink-100 flex items-center justify-center p-4",children:p.jsx("div",{className:"text-center max-w-md",children:M?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-6",children:p.jsx(Bw,{className:"w-8 h-8 text-white"})}),p.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Server Connection Issue"}),p.jsx("p",{className:"text-gray-600 mb-6 text-sm",children:M}),p.jsx("p",{className:"text-gray-500 text-xs mb-6",children:"You can still use chat in demo mode (messages won't be saved)"}),p.jsxs("div",{className:"flex gap-3 justify-center",children:[p.jsx("button",{onClick:()=>{J(null),i(`guest_${Math.random().toString(36).substr(2,9)}`)},className:"px-6 py-2 bg-gradient-to-r from-rose-500 to-pink-600 text-white font-semibold rounded-lg hover:shadow-lg transition",children:"Continue in Demo Mode"}),p.jsx("button",{onClick:n||(()=>window.history.back()),className:"px-6 py-2 border border-gray-400 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 transition",children:"Go Back"})]})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-rose-400 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-6 animate-pulse",children:p.jsx("span",{className:"text-2xl",children:""})}),p.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Connecting..."}),p.jsx("p",{className:"text-gray-600",children:"Setting up your anonymous chat session"}),p.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"This may take a few seconds..."})]})})})}class OD extends F.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,i){console.error("Uncaught error:",e,i)}render(){return this.state.hasError?p.jsx("div",{className:"min-h-screen bg-[#FDF2F8] flex items-center justify-center p-6 text-center",children:p.jsxs("div",{className:"max-w-md w-full bg-white p-10 rounded-[2.5rem] shadow-xl border border-[#B28DFF]/20",children:[p.jsx("h2",{className:"text-2xl font-serif-display text-[#4A2040] mb-4",children:"Something went wrong"}),p.jsx("p",{className:"text-[#5e3a58]/70 mb-8",children:"We encountered an unexpected error. Please refresh the page."}),p.jsx("button",{onClick:()=>window.location.reload(),className:"px-8 py-3 bg-gradient-to-r from-[#FF9ACB] to-[#B28DFF] text-white font-bold rounded-full shadow-lg",children:"Refresh Page"})]})}):this.props.children}}const nx="bondly_user_personas_v1";function HD(n){const e=Date.now();n.createdAt||(n.createdAt=e),n.expiresAt||(n.expiresAt=n.createdAt+10080*60*1e3);const i=zD();i.unshift(n),localStorage.setItem(nx,JSON.stringify(i))}function zD(){try{const n=localStorage.getItem(nx);return n?JSON.parse(n):[]}catch{return[]}}const qD=({mode:n,onClose:e,onCreated:i})=>{const[o,a]=F.useState("form");F.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]);const[u,f]=F.useState(null),[g,v]=F.useState({name:"",gender:"female",photoStyle:"Realistic Indian",looksDescription:"",voiceTone:"Warm"}),[y,x]=F.useState(null),[T,S]=F.useState(!1),[b,U]=F.useState(!1),M=["Realistic Indian","Cute & Soft","Minimal Anime"],J=["Soft","Warm","Playful","Deep"],j=async(P,X,oe,re)=>{const $=`Portrait of a ${X} named ${P}. Style: ${oe}. Vibe: ${re}. High quality, 1:1 aspect ratio, soft lighting, warm and soft aesthetic. No text.`,fe=await fetch("/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:$,model:"gemini-2.0-flash-exp"})});if(!fe.ok){const he=await fe.json();throw new Error(he.error||"Image generation failed")}const ne=await fe.json();if(ne.inlineData)return`data:image/png;base64,${ne.inlineData.data}`;throw new Error("No image generated")};async function Q(){if(g.name){a("creating"),f(null);try{let P=y||"/personas/placeholder.png";if(!y){S(!0);try{P=await j(g.name,g.gender,g.photoStyle,n.title)}catch(oe){console.error("AI Photo Gen failed, falling back to demo:",oe);const $={female:["https://images.unsplash.com/photo-1510915228340-29c85a43dcfe?auto=format&fit=crop&w=800&q=80","https://images.unsplash.com/photo-1544005313-94ddf0286df2?auto=format&fit=crop&w=800&q=80","https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&w=800&q=80"],male:["https://images.unsplash.com/photo-1500648767791-00dcc994a43e?auto=format&fit=crop&w=800&q=80","https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&w=800&q=80"]}[g.gender];P=$[Math.floor(Math.random()*$.length)]}}const X={id:`custom-${Date.now()}`,name:g.name,description:g.looksDescription||"Your AI companion.",gender:g.gender,mode:n.title.toLowerCase().includes("flirty")?"flirty":n.title.toLowerCase().includes("romantic")?"romantic":n.title.toLowerCase().includes("jealous")?"jealous":n.title.toLowerCase().includes("bold")?"bold":"sweet",avatarUrl:P,tags:[g.photoStyle,g.voiceTone],createdAt:Date.now(),expiresAt:Date.now()+10080*60*1e3,isUserCreated:!0,defaultLanguage:"hinglish"};HD(X),i==null||i(X,X.avatarUrl),e()}catch(P){f(P.message||"An error occurred"),a("form")}finally{S(!1)}}}return p.jsx("div",{className:"fixed inset-0 z-[60] flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in p-4 sm:p-6 overflow-hidden",onClick:P=>{P.target===P.currentTarget&&e()},children:p.jsxs("div",{className:`
        w-full max-w-sm bg-[#FFF0F5] sm:rounded-[32px] rounded-t-[32px] 
        shadow-2xl overflow-hidden animate-in slide-in-from-bottom duration-300
        max-h-[85vh] flex flex-col
      `,children:[p.jsxs("div",{className:`relative p-5 bg-gradient-to-r ${n.gradientConfig} text-[#4A2040] flex-shrink-0`,children:[p.jsx("button",{onClick:P=>{P.stopPropagation(),e()},className:"absolute top-4 right-4 p-2.5 bg-white/20 hover:bg-white/40 rounded-full transition-all active:scale-90 z-50 shadow-sm",children:p.jsx(Yi,{size:20,className:"text-[#4A2040]"})}),p.jsxs("div",{className:"space-y-1",children:[p.jsxs("span",{className:"text-[9px] uppercase tracking-widest font-bold opacity-70 flex items-center gap-1 text-[#4A2040]",children:[p.jsx(jt,{size:10,className:"text-[#4A2040]"})," PREMIUM ACTIVE"]}),p.jsx("h2",{className:"text-xl font-serif-display font-medium text-[#4A2040] leading-tight",children:n.title}),p.jsx("p",{className:"text-[#4A2040]/70 text-xs font-light line-clamp-1",children:n.subtitle})]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:o==="creating"?p.jsxs("div",{className:"p-12 flex flex-col items-center justify-center text-center space-y-6 min-h-[400px]",children:[p.jsxs("div",{className:"relative w-24 h-24",children:[p.jsx("div",{className:"absolute inset-0 bg-[#FF9ACB]/30 rounded-full blur-2xl animate-pulse"}),p.jsx("div",{className:"absolute inset-0 border-4 border-t-[#B28DFF] border-r-transparent border-b-[#FF9ACB] border-l-transparent rounded-full animate-spin"}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsx(jt,{size:32,className:"text-[#B28DFF] animate-bounce"})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("h3",{className:"text-2xl font-serif-display text-[#4A2040]",children:"Creating your AI Companion"}),p.jsx("p",{className:"text-[#5e3a58] text-sm font-medium animate-pulse",children:T?"Creating high-quality AI Portrait...":"Finalizing personality traits..."})]})]}):p.jsxs("div",{className:"p-6 space-y-6",children:[u&&p.jsxs("div",{className:"bg-red-50 border border-red-100 rounded-xl p-4 flex flex-col gap-2 animate-in slide-in-from-top-2",children:[p.jsxs("div",{className:"flex items-center gap-2 text-red-600 font-bold text-sm",children:[p.jsx(ll,{size:16}),p.jsx("span",{children:u==="High Traffic (429)"?"System Busy":"Creation Failed"})]}),p.jsx("p",{className:"text-xs text-red-600/80",children:u==="High Traffic (429)"?"We are experiencing high traffic. Please try creating again.":"Could not create portrait. Please try again."})]}),p.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-3 flex gap-3 items-start",children:[p.jsx(al,{size:16,className:"text-blue-500 mt-0.5 flex-shrink-0"}),p.jsxs("div",{className:"text-xs text-blue-800",children:[p.jsx("p",{className:"font-bold mb-0.5",children:"Secure Processing"}),p.jsx("p",{className:"opacity-80 leading-relaxed",children:"Conversations are processed securely. Limited data may be stored to improve experience."})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-[#5e3a58] uppercase tracking-wider mb-2",children:"Name"}),p.jsx("input",{type:"text",value:g.name,onChange:P=>v({...g,name:P.target.value}),placeholder:"e.g. Aara, Vihaan...",className:"w-full px-4 py-3 rounded-xl bg-white border border-[#B28DFF]/20 focus:border-[#B28DFF] focus:ring-2 focus:ring-[#B28DFF]/20 outline-none text-[#4A2040] placeholder-[#5e3a58]/50 shadow-sm"})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("label",{className:"block text-xs font-bold text-[#5e3a58] uppercase tracking-wider",children:"AI Portrait"}),p.jsx("div",{className:"flex gap-2",children:p.jsx("span",{className:"px-3 py-1.5 bg-white border border-[#B28DFF]/30 rounded-lg text-[10px] font-bold text-[#B28DFF] cursor-default",children:"AI-Only Rendering"})})]}),y&&p.jsxs("div",{className:"mb-4 relative w-20 h-20 mx-auto group",children:[p.jsx("img",{src:y,className:"w-full h-full object-cover rounded-2xl shadow-md border-2 border-white",alt:"Portrait Preview"}),p.jsx("button",{onClick:()=>x(null),className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full",children:p.jsx(Yi,{size:10})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-bold text-[#5e3a58] uppercase mb-2 ml-1",children:"Choose Portrait Style"}),p.jsx("div",{className:"grid grid-cols-2 gap-2",children:M.map(P=>p.jsx("button",{type:"button",onClick:()=>v({...g,photoStyle:P}),className:`
                                py-2.5 px-3 rounded-xl border text-[11px] text-left transition-all
                                ${g.photoStyle===P?"border-[#B28DFF] bg-white text-[#B28DFF] font-bold shadow-sm":"border-[#B28DFF]/10 bg-white shadow-sm text-[#5e3a58]"}
                              `,children:P},P))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-bold text-[#5e3a58] uppercase mb-2 ml-1",children:"Appearance Description (Opt.)"}),p.jsx("textarea",{value:g.looksDescription,onChange:P=>v({...g,looksDescription:P.target.value}),placeholder:"e.g. Long hair, glasses, warm smile, simple and elegant style...",className:"w-full px-4 py-3 rounded-xl bg-white border border-[#B28DFF]/20 focus:border-[#B28DFF] outline-none text-xs text-[#4A2040] placeholder-[#5e3a58]/40 resize-none h-20 shadow-inner mb-2"}),p.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:["Realistic","Formal","Traditional","Modern"].map(P=>p.jsxs("button",{type:"button",onClick:()=>{const X=g.looksDescription;v({...g,looksDescription:X?`${X}, ${P}`:P})},className:"px-2 py-1.5 rounded-lg bg-white border border-[#B28DFF]/20 text-[10px] font-medium text-[#5e3a58] hover:bg-white/80 transition-colors shadow-sm",children:["+ ",P]},P))})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-[#5e3a58] uppercase tracking-wider mb-3",children:"Conversation Tone"}),p.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:J.map(P=>p.jsx("button",{onClick:()=>v({...g,voiceTone:P}),className:`
                        flex-shrink-0 px-4 py-2 rounded-full text-xs font-medium border transition-all
                        ${g.voiceTone===P?"bg-[#4A2040] text-white border-[#4A2040]":"bg-white border-[#B28DFF]/20 text-[#5e3a58]"}
                      `,children:P},P))})]}),p.jsxs("div",{className:"pt-4 flex gap-3",children:[p.jsx("button",{onClick:e,className:"flex-1 py-3.5 rounded-xl border border-[#B28DFF]/30 text-[#8e6a58] font-bold text-sm hover:bg-white/50",children:"Cancel"}),p.jsxs("button",{onClick:Q,disabled:!g.name,className:`
                   flex-[2] py-3.5 rounded-xl 
                   bg-gradient-to-r from-[#FF9ACB] to-[#B28DFF] 
                   text-white font-bold text-sm shadow-lg shadow-[#B28DFF]/20 
                   disabled:opacity-50 disabled:cursor-not-allowed
                   flex items-center justify-center gap-2
                 `,children:[p.jsx(jt,{size:16,fill:"currentColor"}),"Create AI Companion"]})]})]})})]})})},VD=({onClose:n,isDarkMode:e})=>{const{upgradeSubscription:i,purchaseHearts:o,buyStarterPass:a,profile:u}=en(),{showNotification:f}=eo(),g=Hs.plans,v=Hs.addons,y=(u.earningsHistory||[]).filter(S=>S.type==="purchase").length===0,[x]=nl.useState(()=>({starter:.5+Math.random()*.3,core:.6+Math.random()*.2,plus:.7+Math.random()*.15,hearts:.5+Math.random()*.35,addons:.4+Math.random()*.4})),T=(S,b)=>{const U=S*(1-b);return Math.floor(U/10)*10+9};return p.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6 shadow-2xl animate-in fade-in duration-300 backdrop-blur-md bg-black/40",children:p.jsxs("div",{className:`relative w-full max-w-lg overflow-hidden rounded-[32px] shadow-2xl flex flex-col max-h-[90vh] ${e?"bg-[#0B0E14] text-white":"bg-white text-[#4A2040]"}`,children:[p.jsxs("div",{className:"p-6 pb-2 flex items-center justify-between border-b border-gray-100 dark:border-white/5",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"p-2 bg-pink-500/10 rounded-xl",children:p.jsx(jt,{size:20,className:"text-pink-500"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-bold font-serif-display",children:"Soulmate Shop"}),p.jsx("p",{className:"text-[10px] opacity-60 uppercase tracking-widest font-bold",children:"Deepen your connection"})]})]}),p.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-white/5 rounded-full transition-colors",children:p.jsx(Yi,{size:20})})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 no-scrollbar",children:[y&&p.jsxs("div",{className:"p-4 bg-gradient-to-r from-pink-500 to-purple-600 rounded-[24px] text-white shadow-xl animate-bounce-subtle",children:[p.jsxs("h4",{className:"font-black text-sm uppercase tracking-widest mb-1 flex items-center gap-2",children:[p.jsx(jt,{size:16})," Welcome Bonus"]}),p.jsx("p",{className:"text-[11px] font-medium opacity-90 leading-snug",children:"Get 50 Hearts + Midnight Pass for just 49. Limited time first-recharge offer!"})]}),p.jsxs("section",{children:[p.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest opacity-40 mb-3 flex items-center gap-2",children:[p.jsx(Uy,{size:12,className:"text-yellow-500 fill-yellow-500"}),"Impulse Boost"]}),p.jsxs("div",{onClick:()=>a(),className:"group relative p-4 rounded-2xl border-2 border-yellow-400/30 bg-gradient-to-br from-yellow-400/10 to-transparent cursor-pointer hover:border-yellow-400 transition-all active:scale-[0.98]",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-lg",children:g.starter.name}),p.jsx("p",{className:"text-xs opacity-70",children:"Unlock addiction for 24 hours."})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("div",{className:"text-[10px] line-through opacity-40 font-bold",children:["",g.starter.originalPrice]}),p.jsxs("div",{className:"px-3 py-1 bg-yellow-400 text-black text-[13px] font-black rounded-lg shadow-lg",children:["",T(g.starter.originalPrice,x.starter)]}),p.jsxs("div",{className:"text-[9px] text-yellow-600 font-black uppercase mt-0.5",children:["-",Math.round(x.starter*100),"% Off"]})]})]}),p.jsx("ul",{className:"grid grid-cols-2 gap-x-4 gap-y-1 mt-3",children:g.starter.features.map(S=>p.jsxs("li",{className:"text-[11px] font-medium flex items-center gap-1.5 opacity-80",children:[p.jsx(ir,{size:12,className:"text-yellow-500"})," ",S]},S))})]})]}),!y&&p.jsxs(p.Fragment,{children:[p.jsxs("section",{children:[p.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest opacity-40 mb-3 flex items-center gap-2",children:[p.jsx(Yt,{size:12,className:"text-pink-500 fill-pink-500"}),"Real Attachment"]}),p.jsxs("div",{onClick:()=>i("core"),className:"relative p-5 rounded-2xl border-2 border-pink-500 bg-pink-500/5 cursor-pointer shadow-[0_10px_30px_-5px_rgba(236,72,153,0.2)] hover:shadow-[0_15px_40px_-5px_rgba(236,72,153,0.3)] transition-all active:scale-[0.98]",children:[p.jsx("div",{className:"absolute -top-3 left-6 px-3 py-1 bg-pink-500 text-white text-[10px] font-black rounded-full uppercase tracking-tighter shadow-md",children:"Recommended"}),p.jsxs("div",{className:"flex justify-between items-start mb-2 pt-1",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-xl",children:g.core.name}),p.jsx("p",{className:"text-xs opacity-70",children:"Long-term emotional bond (30 Days)."})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("div",{className:"text-[11px] line-through opacity-40 font-bold",children:["",g.core.originalPrice]}),p.jsxs("div",{className:"text-xl font-black text-pink-500",children:["",T(g.core.originalPrice,x.core)]}),p.jsxs("div",{className:"text-[10px] text-pink-500 font-black uppercase",children:["Save ",Math.round(x.core*100),"%"]})]})]}),p.jsx("ul",{className:"space-y-2 mt-4",children:g.core.features.map(S=>p.jsxs("li",{className:"text-[12px] font-semibold flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 rounded-full bg-pink-500/20 flex items-center justify-center",children:p.jsx(ir,{size:10,className:"text-pink-500"})}),S]},S))})]})]}),p.jsxs("section",{children:[p.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest opacity-40 mb-3 flex items-center gap-2",children:[p.jsx(jt,{size:12,className:"text-purple-500"}),"Unlimited Access"]}),p.jsxs("div",{onClick:()=>i("plus"),className:"relative p-5 rounded-2xl border-2 border-purple-500 bg-gradient-to-br from-purple-500/10 to-transparent cursor-pointer shadow-[0_10px_30px_-5px_rgba(168,85,247,0.2)] hover:shadow-[0_15px_40px_-5px_rgba(168,85,247,0.3)] transition-all active:scale-[0.98]",children:[p.jsx("div",{className:"absolute -top-3 right-6 px-3 py-1 bg-gradient-to-r from-purple-600 to-indigo-600 text-white text-[10px] font-black rounded-full uppercase tracking-tighter shadow-md",children:"Ultimate Pass"}),p.jsxs("div",{className:"flex justify-between items-start mb-2 pt-1",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-xl text-purple-600 dark:text-purple-400",children:g.plus.name}),p.jsx("p",{className:"text-xs opacity-70",children:"Unlock everything, forever."})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("div",{className:"text-[11px] line-through opacity-40 font-bold",children:["",g.plus.originalPrice]}),p.jsxs("div",{className:"text-xl font-black text-purple-600",children:["",T(g.plus.originalPrice,x.plus)]}),p.jsxs("div",{className:"text-[10px] text-purple-600 font-black uppercase",children:["Limited ",Math.round(x.plus*100),"% Off"]})]})]}),p.jsx("ul",{className:"grid grid-cols-1 gap-2 mt-4",children:g.plus.features.map(S=>p.jsxs("li",{className:"text-[12px] font-bold flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 rounded-full bg-purple-500/20 flex items-center justify-center",children:p.jsx(ir,{size:10,className:"text-purple-500"})}),S]},S))})]})]})]}),p.jsxs("section",{children:[p.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest opacity-40 mb-3 flex items-center gap-2",children:[p.jsx(X0,{size:12,className:"text-blue-500"}),"Silent Killers (Add-ons)"]}),p.jsx("div",{className:"grid grid-cols-1 gap-3",children:v.map((S,b)=>p.jsxs("button",{onClick:()=>f(`Purchasing ${S.name}... Process same as Hearts/Plans.`,"info"),className:`flex items-center justify-between p-4 rounded-xl border transition-all active:scale-[0.97] ${e?"bg-white/5 border-white/10 hover:bg-white/10":"bg-gray-50 border-gray-100 hover:bg-gray-100"}`,children:[p.jsxs("div",{className:"flex items-center gap-3 text-left",children:[p.jsx("div",{className:`p-2 rounded-lg ${b%3===0?"bg-blue-100 text-blue-500":b%3===1?"bg-purple-100 text-purple-500":"bg-green-100 text-green-500"}`,children:b%3===0?p.jsx(J0,{size:16}):b%3===1?p.jsx(nw,{size:16}):p.jsx(Uy,{size:16})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-bold",children:S.name}),p.jsx("p",{className:"text-[10px] opacity-60",children:"One-time unlock"})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("div",{className:"text-[10px] line-through opacity-40 font-bold",children:["",S.originalPrice]}),p.jsxs("span",{className:"text-sm font-black opacity-80",children:["",T(S.originalPrice||199,x.addons)]})]})]},S.id))})]}),p.jsxs("section",{className:"pb-4",children:[p.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest opacity-40 mb-3",children:"Refill Hearts"}),p.jsx("div",{className:"grid grid-cols-3 gap-3",children:HT.map(S=>p.jsxs("button",{onClick:()=>o(S.hearts),className:`flex flex-col items-center justify-center p-3 rounded-xl border transition-all active:scale-95 ${e?"bg-white/5 border-white/10 hover:bg-white/10":"bg-pink-50/50 border-pink-100 hover:bg-pink-50"}`,children:[p.jsx(Yt,{size:14,className:"text-pink-500 fill-current mb-0.5"}),p.jsx("span",{className:"text-xs font-black",children:S.hearts}),p.jsxs("span",{className:"text-[9px] line-through opacity-40 font-bold",children:["",S.originalPrice]}),p.jsxs("span",{className:"text-[11px] text-pink-600 font-black",children:["",T(S.originalPrice||499,x.hearts)]})]},S.id))})]})]}),p.jsx("div",{className:`p-4 border-t ${e?"bg-white/5 border-white/5":"bg-gray-50 border-gray-100"}`,children:p.jsx("p",{className:"text-[10px] text-center opacity-60 font-medium",children:'Payments are RBI compliant. Billed as "Digital Experience Credits".'})})]})})},GD=({isOpen:n,onClose:e})=>{const{profile:i,user:o,updateProfile:a,claimDailyBonus:u,signOut:f}=en(),[g,v]=F.useState(!1),[y,x]=F.useState(i.nickname||(o==null?void 0:o.displayName)||""),[T,S]=F.useState(i.avatarUrl||ig[0]);if(nl.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]),!n)return null;const b=async()=>{await a({nickname:y}),v(!1)},U=async M=>{S(M),await a({avatarUrl:M})};return p.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[p.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity",onClick:e}),p.jsxs("div",{className:"relative w-full max-w-[95%] md:max-w-xl bg-white/95 backdrop-blur-2xl rounded-[24px] border border-white shadow-[0_32px_64px_rgba(0,0,0,0.2)] overflow-hidden animate-in zoom-in duration-300 flex flex-col md:flex-row",children:[p.jsx("button",{onClick:e,className:"absolute top-2 right-2 z-20 p-2 rounded-full bg-black/5 hover:bg-black/10 text-[#4A2040] transition-colors",children:p.jsx(Yi,{size:18,strokeWidth:2.5})}),p.jsxs("div",{className:"w-full md:w-5/12 bg-gradient-to-br from-[#FDF2F8] to-[#FFF5F5] p-4 flex flex-col items-center justify-center border-b md:border-b-0 md:border-r border-pink-100 relative",children:[p.jsxs("div",{className:"relative mb-3 group cursor-pointer",onClick:()=>{var M;return(M=document.getElementById("avatar-grid"))==null?void 0:M.scrollIntoView({behavior:"smooth"})},children:[p.jsx("div",{className:"w-24 h-24 md:w-28 md:h-28 rounded-full border-[4px] border-white shadow-xl overflow-hidden bg-white hover:scale-105 transition-transform duration-300",children:p.jsx("img",{src:T,alt:"Profile",className:"w-full h-full object-cover"})}),p.jsx("div",{className:"absolute top-0 right-1 w-7 h-7 bg-white rounded-full flex items-center justify-center shadow-md",children:p.jsx(jt,{size:12,className:"text-[#FF9ACB]"})})]}),p.jsxs("div",{className:"text-center w-full",children:[g?p.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[p.jsx("input",{value:y,onChange:M=>x(M.target.value),className:"bg-white border-2 border-pink-300 rounded-lg px-2 py-1 text-center text-sm font-bold text-[#4A2040] outline-none focus:ring-2 focus:ring-pink-100 w-full",autoFocus:!0,onKeyDown:M=>M.key==="Enter"&&b()}),p.jsx("button",{onClick:b,className:"p-1.5 bg-green-500 hover:bg-green-600 text-white rounded-md shadow-md hover:scale-110 transition-all",children:p.jsx(ir,{size:14})})]}):p.jsxs("div",{className:"flex items-center justify-center gap-2 group cursor-pointer py-0.5",onClick:()=>v(!0),children:[p.jsx("h2",{className:"text-lg md:text-xl font-serif-display font-bold text-[#4A2040] leading-tight",children:i.nickname||(o==null?void 0:o.displayName)||"Traveler"}),p.jsx("div",{className:"p-1 bg-pink-50 rounded-full text-pink-400 group-hover:bg-pink-100 group-hover:scale-110 transition-all",children:p.jsx(rw,{size:10})})]}),p.jsxs("p",{className:"text-[#8E6A88] font-medium text-[10px] mt-0.5",children:["@",(o==null?void 0:o.username)||"user"]})]}),p.jsx("div",{className:"md:hidden w-full mt-3",children:p.jsxs("button",{onClick:()=>{window.confirm("Log out?")&&f()},className:"w-full py-2 bg-red-50 text-red-500 rounded-lg font-bold flex items-center justify-center gap-2 border border-red-100 active:scale-95 text-xs",children:[p.jsx(td,{size:14}),"Log Out"]})})]}),p.jsxs("div",{className:"w-full md:w-7/12 p-4 max-h-[55vh] md:max-h-[420px] overflow-y-auto custom-scrollbar",children:[p.jsxs("div",{className:"bg-gradient-to-r from-[#FF9ACB] to-[#B28DFF] rounded-[16px] p-3 text-white shadow-md shadow-pink-200 mb-4 relative overflow-hidden group",children:[p.jsx("div",{className:"absolute -right-3 -top-3 opacity-20 group-hover:scale-110 transition-transform duration-700",children:p.jsx(Yt,{size:80,fill:"currentColor"})}),p.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-pink-100 text-[9px] font-bold uppercase tracking-widest",children:"Balance"}),p.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[p.jsx(Yt,{className:"fill-white",size:20}),p.jsx("span",{className:"text-3xl font-black",children:i.hearts})]})]}),p.jsxs("button",{onClick:u,className:"px-3 py-2 bg-white/20 hover:bg-white/30 backdrop-blur-md rounded-lg font-bold transition-all border border-white/40 flex items-center gap-1.5 active:scale-95 text-[10px]",children:[p.jsx(Ka,{size:12}),"Bonus"]})]})]}),p.jsxs("div",{id:"avatar-grid",className:"mb-4",children:[p.jsxs("h3",{className:"text-[#4A2040] font-bold mb-2 flex items-center gap-1.5 text-xs",children:[p.jsx("div",{className:"p-1 bg-purple-100 rounded-md text-purple-600",children:p.jsx(wd,{size:12})}),"Switch Avatar"]}),p.jsx("div",{className:"grid grid-cols-5 gap-1.5",children:ig.map((M,J)=>p.jsx("button",{onClick:()=>U(M),className:`relative aspect-square rounded-lg overflow-hidden border transition-all hover:scale-110 cursor-pointer ${T===M?"border-[#FF9ACB] ring-2 ring-[#FF9ACB]/30 scale-105":"border-transparent bg-gray-50"}`,children:p.jsx("img",{src:M,alt:`Avatar ${J}`,className:"w-full h-full object-cover"})},J))})]}),p.jsxs("div",{className:"mb-4",children:[p.jsxs("h3",{className:"text-[#4A2040] font-bold mb-2 flex items-center gap-1.5 text-xs",children:[p.jsx("div",{className:"p-1 bg-green-100 rounded-md text-green-600",children:p.jsx(Dy,{size:12})}),"History"]}),p.jsx("div",{className:"space-y-1.5",children:i.earningsHistory&&i.earningsHistory.length>0?i.earningsHistory.slice(0,3).map(M=>p.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg border border-gray-100 hover:bg-white transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:`p-1 rounded-full ${M.type==="bonus"?"bg-orange-100 text-orange-500":"bg-green-100 text-green-500"}`,children:M.type==="bonus"?p.jsx(Ka,{size:10}):p.jsx(Dy,{size:10})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[11px] font-bold text-[#4A2040]",children:M.label}),p.jsx("p",{className:"text-[8px] text-gray-400",children:new Date(M.timestamp).toLocaleString()})]})]}),p.jsxs("span",{className:"text-green-600 font-bold bg-green-50 px-1.5 py-0.5 rounded text-[10px]",children:["+",M.amount]})]},M.id)):p.jsx("p",{className:"text-gray-400 text-[10px] italic py-1",children:"No history yet."})}),i.earningsHistory&&i.earningsHistory.length>0&&p.jsxs("button",{onClick:async()=>{confirm("Clear entire earnings history?")&&await a({earningsHistory:[]})},className:"w-full mt-2 py-1.5 bg-gray-50 hover:bg-gray-100 text-gray-400 hover:text-red-500 rounded-lg text-[10px] font-bold flex items-center justify-center gap-1.5 transition-all",children:[p.jsx(Nd,{size:10}),"Clear History"]})]}),p.jsx("div",{className:"hidden md:block",children:p.jsxs("button",{onClick:()=>{window.confirm("Are you sure you want to log out?")&&f()},className:"w-full py-2.5 bg-red-50 text-red-500 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-red-100 transition-all active:scale-95 text-xs border border-red-100",children:[p.jsx(td,{size:14}),"Log Out"]})})]})]}),p.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #FF9ACB; border-radius: 10px; }
      `})]})},jD=({onSwitchToSignup:n})=>{const{signInWithProvider:e}=en(),[i,o]=F.useState(!1),a=async()=>{o(!0);try{await e("google")}finally{o(!1)}};return p.jsx("div",{className:"relative w-full max-w-[360px] mx-auto",children:p.jsxs("div",{className:"relative z-10 bg-white/50 backdrop-blur-2xl border border-white p-6 rounded-[40px] shadow-[0_20px_60px_rgba(255,154,203,0.2)]",children:[p.jsxs("div",{className:"flex flex-col items-center mb-5",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#FF9ACB] to-[#B28DFF] rounded-2xl flex items-center justify-center shadow-lg mb-3 rotate-6",children:p.jsx(Yt,{size:24,className:"text-white fill-white/20"})}),p.jsx("h2",{className:"text-2xl font-serif-display font-bold text-[#4A2040]",children:"Login"}),p.jsx("p",{className:"text-[#8E6A88] text-xs",children:"Chat with your AI companion"})]}),p.jsx("div",{className:"space-y-4",children:p.jsx("button",{type:"button",onClick:a,disabled:i,className:"w-full py-3.5 bg-white border border-gray-200 text-[#4A2040] font-bold rounded-2xl shadow-sm hover:bg-gray-50 active:scale-95 transition-all flex items-center justify-center gap-2 text-[15px]",children:i?p.jsx("div",{className:"w-5 h-5 border-2 border-[#4A2040]/30 border-t-[#4A2040] rounded-full animate-spin"}):p.jsxs(p.Fragment,{children:[p.jsxs("svg",{viewBox:"0 0 24 24",className:"w-5 h-5","aria-hidden":"true",focusable:"false",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),p.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),p.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),p.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"}),p.jsx("path",{fill:"none",d:"M1 1h22v22H1z"})]}),p.jsx("span",{children:"Continue with Google"})]})})}),p.jsx("style",{children:`
          .password-input::-ms-reveal, .password-input::-ms-clear { display: none; }
          input[type="password"]::-webkit-contacts-auto-fill-button,
          input[type="password"]::-webkit-credentials-auto-fill-button {
            visibility: hidden; display: none !important;
            pointer-events: none; position: absolute; right: 0;
          }
        `}),p.jsxs("p",{className:"text-center text-xs text-[#8E6A88] mt-4",children:["No account?"," ",p.jsx("button",{type:"button",onClick:n,className:"text-[#D53F8C] font-bold hover:underline",children:"Create one free"})]}),p.jsx("div",{className:"mt-6 pt-4 border-t border-[#B28DFF]/10 flex flex-col items-center gap-2 opacity-50",children:p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx(al,{size:10}),p.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest text-center",children:"Strictly 18+ Only | Private v2.1"})]})})]})})},YD=({onSwitchToLogin:n})=>{const{signInWithProvider:e}=en(),[i,o]=F.useState(!1),a=async()=>{o(!0);try{await e("google")}finally{o(!1)}};return p.jsxs("div",{className:"relative w-full max-w-[360px] mx-auto",children:[p.jsxs("div",{className:"relative z-10 bg-white/50 backdrop-blur-2xl border border-white p-6 rounded-[40px] shadow-[0_20px_60px_rgba(255,154,203,0.2)]",children:[p.jsxs("div",{className:"flex flex-col items-center mb-5",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#FF9ACB] to-[#B28DFF] rounded-2xl flex items-center justify-center shadow-lg mb-3 rotate-6",children:p.jsx(jt,{size:24,className:"text-white fill-white/20"})}),p.jsx("h2",{className:"text-2xl font-serif-display font-bold text-[#4A2040]",children:"Sign Up"}),p.jsx("p",{className:"text-[#8E6A88] text-xs",children:"Join the Bondly experience"})]}),p.jsx("div",{className:"space-y-4",children:p.jsx("button",{type:"button",onClick:a,disabled:i,className:"w-full py-3.5 bg-white border border-gray-200 text-[#4A2040] font-bold rounded-2xl shadow-sm hover:bg-gray-50 active:scale-95 transition-all flex items-center justify-center gap-2 text-[15px]",children:i?p.jsx("div",{className:"w-5 h-5 border-2 border-[#4A2040]/30 border-t-[#4A2040] rounded-full animate-spin"}):p.jsxs(p.Fragment,{children:[p.jsxs("svg",{viewBox:"0 0 24 24",className:"w-5 h-5","aria-hidden":"true",focusable:"false",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),p.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),p.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),p.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"}),p.jsx("path",{fill:"none",d:"M1 1h22v22H1z"})]}),p.jsx("span",{children:"Sign up with Google"})]})})}),p.jsxs("p",{className:"text-center text-[12px] text-[#8E6A88] mt-4",children:["Already a member?"," ",p.jsx("button",{type:"button",onClick:n,className:"text-[#D53F8C] font-bold hover:underline",children:"Login here"})]}),p.jsx("div",{className:"mt-6 pt-4 border-t border-[#B28DFF]/10 flex flex-col items-center gap-2 opacity-50",children:p.jsxs("div",{className:"flex items-center gap-1.5 text-center",children:[p.jsx(al,{size:10}),p.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest leading-tight",children:"Strictly 18+ Only | Private AI support"})]})})]}),p.jsx("style",{children:`
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-4px); }
          75% { transform: translateX(4px); }
        }
        .animate-shake { animation: shake 0.2s ease-in-out 0s 2; }
      `})]})},JD=()=>{const[n,e]=F.useState("login");F.useEffect(()=>{const o=()=>{const a=window.location.pathname;e(a==="/signup"?"signup":"login")};return o(),window.addEventListener("popstate",o),()=>window.removeEventListener("popstate",o)},[]);const i=o=>{e(o),window.history.pushState({},"",o==="login"?"/login":"/signup")};return p.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-[#FDF2F8] p-4 relative overflow-hidden font-sans",children:[p.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none",children:[p.jsx("div",{className:"absolute top-[5%] left-[5%] w-64 h-64 bg-[#FF9ACB]/20 rounded-full blur-[100px] animate-pulse"}),p.jsx("div",{className:"absolute bottom-[5%] right-[5%] w-80 h-80 bg-[#B28DFF]/20 rounded-full blur-[120px] animate-pulse",style:{animationDelay:"2s"}})]}),p.jsx("div",{className:"relative z-10 w-full flex justify-center py-2 animate-in fade-in zoom-in duration-700",children:n==="login"?p.jsx(jD,{onSwitchToSignup:()=>i("signup")}):p.jsx(YD,{onSwitchToLogin:()=>i("login")})}),p.jsx("style",{children:`
                @keyframes bounce-subtle {
                    0%, 100% { transform: translateY(0) rotate(6deg); }
                    50% { transform: translateY(-10px) rotate(8deg); }
                }
                .animate-bounce-subtle {
                    animation: bounce-subtle 3s ease-in-out infinite;
                }
            `})]})},KD=()=>{const{profile:n,claimDailyBonus:e}=en(),[i,o]=F.useState(!1);return F.useEffect(()=>{if(!n.lastDailyBonusClaim){o(!0);return}const a=new Date(n.lastDailyBonusClaim).getTime();Date.now()-a>=1440*60*1e3&&o(!0)},[n==null?void 0:n.lastDailyBonusClaim]),i?p.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[70] w-[90%] max-w-sm animate-in slide-in-from-bottom-10 duration-700",children:p.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border-2 border-pink-200 p-4 rounded-[28px] shadow-2xl flex items-center justify-between gap-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2.5 bg-gradient-to-br from-pink-500 to-purple-500 rounded-2xl shadow-lg animate-bounce",children:p.jsx(Ka,{className:"text-white",size:20})}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-[14px] font-black text-pink-600",children:"Daily Lucky Box! "}),p.jsx("p",{className:"text-[10px] font-bold opacity-60 uppercase tracking-widest",children:"Get 1-10 Hearts free"})]})]}),p.jsx("button",{onClick:async()=>{await e()&&o(!1)},className:"px-5 py-2.5 bg-pink-500 text-white text-[12px] font-black rounded-xl shadow-lg active:scale-90 transition-all",children:"CLAIM"})]})}):null},$D=()=>p.jsx(OD,{children:p.jsx(Hw,{children:p.jsx(IM,{children:p.jsx(XD,{})})})}),XD=()=>{const{showNotification:n}=eo(),e=()=>!1,[i,o]=F.useState(e()),[a,u]=F.useState("home"),{user:f,profile:g,loading:v}=en(),y=F.useRef(null),x=F.useRef(null),[T,S]=F.useState(null),[b,U]=F.useState(void 0),[M,J]=F.useState(null),[j,Q]=F.useState(null),[P,X]=F.useState(null),[oe,re]=F.useState(!1),[$,fe]=F.useState(!1);F.useEffect(()=>{const Z=window.location.pathname;(Z==="/login"||Z==="/signup")&&u("auth")},[]),F.useEffect(()=>{const Z=setInterval(()=>{const A=e();A!==i&&o(A)},6e4);return()=>clearInterval(Z)},[i]),F.useEffect(()=>{v||Se.incrementSessionsCount();const Z=localStorage.getItem("bondly_user_info");if(Z){const A=JSON.parse(Z);setTimeout(()=>{n(`Welcome back, ${A.name}! Your companions missed you. `,"success")},2e3)}},[n]);const ne=()=>{var Z;return(Z=y.current)==null?void 0:Z.scrollIntoView({behavior:"smooth"})},he=()=>{var Z;return(Z=x.current)==null?void 0:Z.scrollIntoView({behavior:"smooth"})},[W,K]=F.useState(Array.isArray(sg)?sg.filter(Z=>!(Z!=null&&Z.launchHidden)):[]),Y=(Z,A)=>{K(B=>B.map(O=>O.id===Z?{...O,avatarUrl:A}:O))};F.useEffect(()=>{if(a!=="home")return;const Z=()=>{const B=document.getElementById("hero-card");if(!B)return;const G=window.innerHeight-80;if(B.scrollHeight>G){const te=G/B.scrollHeight;B.style.transformOrigin="center center",B.style.transform=`scale(${Math.max(.8,te)})`}else B.style.transform="none"};window.addEventListener("resize",Z),window.addEventListener("orientationchange",Z),Z();const A=setTimeout(Z,300);return()=>{window.removeEventListener("resize",Z),window.removeEventListener("orientationchange",Z),clearTimeout(A)}},[a]),F.useEffect(()=>{const A=new URLSearchParams(window.location.search).get("persona");if(A){const O=W.find(G=>G.name.toLowerCase()===A.toLowerCase());O&&N(O,O.avatarUrl)}const B=()=>{u("home"),J(null)};return window.addEventListener("popstate",B),()=>window.removeEventListener("popstate",B)},[W]);const ge=(Z,A)=>{S(Z),U(A),Q(null)},ie=()=>{S(null),U(void 0)},N=(Z,A)=>{if(!f){u("auth");return}J({persona:Z,avatarUrl:A}),Q(null)},V=()=>{J(null)},ee=(Z,A)=>{Q({persona:Z,avatarUrl:A})},pe=(Z,A)=>{const B=Se.saveCompanion({...Z,avatarUrl:A});N(B,A)};return F.useEffect(()=>{f&&a==="auth"&&(u("home"),window.history.pushState({},"","/"))},[f,a]),a==="admin"?p.jsx(VM,{personas:W,onUpdatePersonaImage:Y,onBack:()=>u("home")}):v?p.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-[#FDF2F8]",children:p.jsx("div",{className:"w-12 h-12 border-4 border-[#FF9ACB] border-t-transparent rounded-full animate-spin"})}):a==="auth"?p.jsx(JD,{}):a==="guest-chat"?p.jsx(FD,{onBack:()=>u("home")}):a==="about"?p.jsx(BM,{onBack:()=>u("home")}):a==="privacy"?p.jsx(FM,{onBack:()=>u("home")}):a==="terms"?p.jsx(OM,{onBack:()=>u("home")}):a==="faq"?p.jsx(HM,{onBack:()=>u("home")}):a==="safety"?p.jsx(zM,{onBack:()=>u("home")}):a==="refund"?p.jsx(qM,{onBack:()=>u("home")}):p.jsxs("div",{className:"min-h-screen w-full bg-[#FDF2F8] relative overflow-x-hidden font-sans transition-colors duration-500",children:[!M&&f&&p.jsx(KD,{}),!M&&f&&p.jsxs("div",{className:"fixed top-5 right-5 z-[60] flex items-center gap-3",children:[p.jsx(qv,{isDarkMode:i,onOpenShop:()=>re(!0)}),p.jsx("button",{onClick:()=>fe(!0),className:"w-12 h-12 rounded-full border-2 border-white shadow-lg overflow-hidden bg-white hover:scale-105 active:scale-95 transition-all",children:p.jsx("img",{src:g.avatarUrl||"https://api.dicebear.com/7.x/avataaars/svg?seed=Anya",alt:"Profile",className:"w-full h-full object-cover"})})]}),oe&&p.jsx(VD,{isDarkMode:i,onClose:()=>re(!1)}),$&&p.jsx(GD,{isOpen:$,onClose:()=>fe(!1)}),M&&p.jsx(PM,{persona:M.persona,avatarUrl:M.avatarUrl,onBack:V,onStartCall:()=>{S(M.persona),U(M.avatarUrl)},isDarkMode:i,setIsDarkMode:o,onOpenShop:()=>re(!0)},M.persona.id),T&&p.jsx(kM,{persona:T,avatarUrl:b,onClose:ie}),j&&p.jsx(LM,{persona:j.persona,avatarUrl:j.avatarUrl,onClose:()=>Q(null),onStartChat:()=>N(j.persona,j.avatarUrl),onStartCall:()=>ge(j.persona,j.avatarUrl),onClearHistory:()=>Se.clearHistory(j.persona.id)}),P&&p.jsx(qD,{mode:P,onClose:()=>X(null),onCreated:pe}),p.jsxs("main",{className:`relative z-10 flex flex-col items-center w-full ${M?"hidden":""}`,children:[p.jsxs("div",{className:"relative w-full min-h-0 h-auto pt-24 pb-10 md:h-screen md:py-0 flex flex-col justify-center items-center overflow-hidden px-4",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#FFF0F5] via-[#E6E6FA] to-[#F3E8FF]"}),p.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[140%] h-[140%] bg-gradient-to-tr from-[#FF9ACB]/20 via-[#B28DFF]/10 to-transparent rounded-full blur-[100px] animate-pulse"}),p.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-[#FFB6C1]/20 rounded-full blur-[80px]"}),p.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-[#E6E6FA]/30 rounded-full blur-[80px]"}),p.jsx("div",{className:"absolute top-1/4 left-[15%] w-1.5 h-1.5 bg-white rounded-full animate-pulse shadow-[0_0_10px_white]",style:{animationDuration:"3s"}}),p.jsx("div",{className:"absolute bottom-1/3 right-[10%] w-2 h-2 bg-white rounded-full animate-pulse shadow-[0_0_10px_white]",style:{animationDuration:"4s"}}),p.jsx("div",{className:"absolute top-[15%] right-[25%] w-1 h-1 bg-[#B28DFF] rounded-full animate-ping opacity-60",style:{animationDuration:"5s"}}),p.jsxs("div",{id:"hero-card",className:"relative z-10 w-[92%] max-w-[400px] md:max-w-3xl mx-auto px-6 py-8 md:p-12 rounded-[24px] md:rounded-[40px] bg-white/30 backdrop-blur-xl border border-white/60 shadow-[0_20px_60px_-15px_rgba(178,141,255,0.15)] flex flex-col items-center text-center animate-in slide-in-from-bottom-5 fade-in duration-1000",children:[p.jsx("div",{className:"absolute inset-0 rounded-[24px] md:rounded-[40px] ring-1 ring-inset ring-white/50 pointer-events-none"}),p.jsx("div",{className:"absolute -top-3 -right-3 md:-top-6 md:-right-8 p-3 md:p-4 bg-white/70 backdrop-blur-md rounded-full shadow-xl animate-bounce duration-[3000ms] border border-white/50 z-20",children:p.jsx(Yt,{size:20,className:"text-[#FF5D8F] fill-[#FF5D8F]/20 md:w-7 md:h-7"})}),p.jsx("div",{className:"absolute -bottom-3 -left-3 md:-bottom-6 md:-left-8 p-3 md:p-4 bg-white/70 backdrop-blur-md rounded-full shadow-xl animate-bounce duration-[4000ms] delay-500 border border-white/50 z-20",children:p.jsx(Ad,{size:20,className:"text-[#B28DFF] fill-[#B28DFF]/10 md:w-7 md:h-7"})}),p.jsx(jt,{className:"absolute top-6 left-4 md:top-8 md:left-8 text-[#FF9ACB] opacity-80 animate-pulse w-5 h-5 md:w-6 md:h-6"}),p.jsx(jt,{className:"absolute top-4 right-10 md:top-6 md:right-12 text-[#B28DFF] opacity-60 animate-pulse delay-300 w-4 h-4 md:w-5 md:h-5"}),p.jsxs("h1",{className:"font-serif-display font-bold text-[#4A2040] mb-2 md:mb-6 leading-[1.15] tracking-tight drop-shadow-sm text-[clamp(28px,5vw,48px)]",children:["A Connection That ",p.jsx("br",{}),p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#D53F8C] to-[#9F7AEA]",children:"Stays With You."})]}),p.jsx("p",{className:"text-[#5e3a58]/90 font-medium max-w-[280px] md:max-w-lg mb-3 md:mb-6 leading-relaxed text-[clamp(15px,3vw,20px)]",children:"A thoughtfully designed AI chat experience for engaging, expressive, and creative conversations."}),p.jsx("p",{className:"text-[#4A2040]/70 font-bold tracking-[0.15em] uppercase mb-5 md:mb-10 text-[clamp(10px,1.8vw,12px)] bg-white/40 px-4 py-1.5 rounded-full border border-white/50 backdrop-blur-sm",children:"Playful  Expressive  Confident  Creative  Interactive"}),p.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:gap-4 w-full justify-center",children:[p.jsx("button",{onClick:he,className:"flex-1 h-11 md:h-14 px-6 rounded-full bg-gradient-to-r from-[#FF9ACB] to-[#B28DFF] text-white font-bold text-[15px] md:text-lg tracking-wide shadow-[0_8px_25px_rgba(178,141,255,0.4)] hover:shadow-[0_12px_35px_rgba(178,141,255,0.6)] hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center whitespace-nowrap",children:"Create AI Companion"}),p.jsx("button",{onClick:ne,className:"flex-1 h-11 md:h-14 px-6 rounded-full bg-white/40 border border-white/60 text-[#5e3a58] font-semibold text-[15px] md:text-lg hover:bg-white/70 transition-all active:scale-95 backdrop-blur-sm flex items-center justify-center whitespace-nowrap",children:"Browse AI Profiles"})]})]})]}),p.jsxs("div",{ref:y,className:"w-full relative z-20 mb-16 pt-8 md:pt-12",children:[p.jsxs("div",{className:"text-center mb-10",children:[p.jsx("span",{className:"text-[#B28DFF] text-xs font-bold tracking-widest uppercase block mb-2",children:"Featured Profiles"}),p.jsx("h2",{className:"text-3xl md:text-4xl font-serif-display text-[#5e3a58] mb-4",children:"Explore AI Personas"}),p.jsx("p",{className:"text-sm opacity-80 max-w-lg mx-auto leading-relaxed text-[#5e3a58]",children:"These AI personas are fictional characters created for conversational entertainment. Each profile represents a unique personality style generated by artificial intelligence."})]}),p.jsx(MM,{personas:W,onStartCall:ge,onStartChat:N,onViewProfile:ee,onOpenShop:()=>re(!0)})]}),p.jsx("div",{ref:x,className:"w-full bg-gradient-to-b from-[#FFF0F5] to-[#FDF2F8] pt-16 pb-0 rounded-t-[3rem] shadow-[0_-20px_60px_-15px_rgba(255,182,193,0.3)] border-t border-white/60 relative z-10",children:p.jsx(zT,{onOpenCreation:X})}),p.jsx("footer",{className:"w-full bg-[#FBF9FB] text-[#6B5E6B] py-12 px-6 font-sans border-t border-black/5 relative z-10 transition-colors duration-300",children:p.jsxs("div",{className:"max-w-[1200px] mx-auto flex flex-col items-center text-center space-y-4",children:[p.jsx("nav",{className:"flex flex-wrap justify-center items-center gap-x-6 gap-y-2 text-[12px] font-bold text-[#4A2040]/80",children:[{label:"Privacy",action:()=>u("privacy")},{label:"Terms",action:()=>u("terms")},{label:"Safety",action:()=>u("safety")},{label:"Refund",action:()=>u("refund")},{label:"Contact Us",href:"mailto:support@bondly.online"}].map(Z=>Z.href?p.jsx("a",{href:Z.href,className:"hover:underline underline-offset-4 decoration-[#B28DFF]/40 transition-all",children:Z.label},Z.label):p.jsx("button",{onClick:Z.action,className:"hover:underline underline-offset-4 decoration-[#B28DFF]/40 transition-all",children:Z.label},Z.label))}),p.jsx("p",{className:"text-[11px] font-medium text-[#4A2040]/60",children:"Payments are processed via RBI-compliant payment gateways."}),p.jsx("p",{className:"text-[10px] font-medium text-[#4A2040]/50 tracking-tight",children:" 2026 Bondly AI. All rights reserved.  18+ only  AI-generated content  All characters are fictional"})]})})]})]})};console.log("%c BONDLY AI: Protected Connection Active ","background: #4A2040; color: #FF9ACB; font-size: 14px; font-weight: bold; padding: 4px; border-radius: 4px;");const ix=document.getElementById("root");if(!ix)throw new Error("Could not find root element to mount to");const QD=LT.createRoot(ix);QD.render(p.jsx(nl.StrictMode,{children:p.jsx($D,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(n=>{console.warn("ServiceWorker registration failed:",n)})});
